2025-06-26 15:35:33,051 - src.dashboard.app - INFO - Dashboard page requested
2025-06-26 15:35:33,052 - werkzeug - INFO - 127.0.0.1 - - [26/Jun/2025 15:35:33] "GET / HTTP/1.1" 200 -
2025-06-26 15:35:33,089 - src.dashboard.app - INFO - Data status requested
2025-06-26 15:35:33,091 - src.dashboard.app - INFO - API summary endpoint called
2025-06-26 15:35:33,093 - src.dashboard.app - INFO - Top vehicles endpoint called with limit: 20
2025-06-26 15:35:33,094 - src.dashboard.app - INFO - Market trends endpoint called
2025-06-26 15:35:33,098 - src.database.database_manager - INFO - Retrieved 0 analysis results
2025-06-26 15:35:33,099 - src.dashboard.app - INFO - Market summary retrieved: True
2025-06-26 15:35:33,099 - src.dashboard.app - WARNING - No analysis results available
2025-06-26 15:35:33,100 - werkzeug - INFO - 127.0.0.1 - - [26/Jun/2025 15:35:33] "GET /api/top-vehicles?limit=20 HTTP/1.1" 200 -
2025-06-26 15:35:33,103 - src.database.database_manager - INFO - Retrieved 0 analysis results
2025-06-26 15:35:33,105 - src.dashboard.app - INFO - Analysis results count: 0
2025-06-26 15:35:33,108 - src.dashboard.app - INFO - Database stats: {'uk_market_data': 532, 'japan_auction_data': 0, 'government_data': 0, 'analysis_results': 0, 'database_size_mb': 0.33}
2025-06-26 15:35:33,109 - src.dashboard.app - INFO - Summary prepared with 0 opportunities
2025-06-26 15:35:33,109 - werkzeug - INFO - 127.0.0.1 - - [26/Jun/2025 15:35:33] "GET /api/summary HTTP/1.1" 200 -
2025-06-26 15:35:33,123 - src.database.database_manager - INFO - Retrieved 532 UK market records
2025-06-26 15:35:33,130 - src.database.database_manager - INFO - Retrieved 0 Japan auction records
2025-06-26 15:35:33,131 - src.database.database_manager - INFO - Retrieved 532 UK market records
2025-06-26 15:35:33,136 - src.database.database_manager - INFO - Retrieved 0 analysis results
2025-06-26 15:35:33,140 - src.database.database_manager - INFO - Retrieved 0 Japan auction records
2025-06-26 15:35:33,142 - werkzeug - INFO - 127.0.0.1 - - [26/Jun/2025 15:35:33] "GET /api/data-status HTTP/1.1" 200 -
2025-06-26 15:35:33,147 - werkzeug - INFO - 127.0.0.1 - - [26/Jun/2025 15:35:33] "GET /api/market-trends HTTP/1.1" 200 -
2025-06-26 15:35:50,469 - src.dashboard.app - INFO - UK data file upload requested
2025-06-26 15:35:50,471 - src.dashboard.app - INFO - Processing UK data file: New__Used_Cars_for_Sale_-_1_1.xlsx
2025-06-26 15:35:50,501 - src.dashboard.app - INFO - File read successfully: 167 rows, 10 columns
2025-06-26 15:35:50,501 - src.dashboard.app - INFO - Available columns: ['Car Title', 'Price', 'Mileage', 'Registration Date', 'Image URL', 'Car Detail URL', 'Seller Location', 'Seller Rating', 'Features', 'Price Label']
2025-06-26 15:35:50,501 - src.dashboard.app - INFO - Processing UK file data with specific columns
2025-06-26 15:35:50,501 - src.dashboard.app - INFO - Input columns: ['Car Title', 'Price', 'Mileage', 'Registration Date', 'Image URL', 'Car Detail URL', 'Seller Location', 'Seller Rating', 'Features', 'Price Label']
2025-06-26 15:35:50,501 - src.dashboard.app - INFO - Column mapping: {'Car Title': 'title', 'Price': 'price', 'Mileage': 'mileage', 'Registration Date': 'registration_date', 'Image URL': 'image_url', 'Car Detail URL': 'url', 'Seller Location': 'location', 'Seller Rating': 'seller_rating', 'Features': 'features', 'Price Label': 'price_label'}
2025-06-26 15:35:50,559 - src.dashboard.app - INFO - Processed UK data: 167 valid records
2025-06-26 15:35:50,560 - src.dashboard.app - INFO - Sample processed record: BMW Shadow (2018) - £18490.0
2025-06-26 15:35:50,582 - src.dashboard.app - INFO - UK data upload completed: 167 vehicles
2025-06-26 15:35:50,583 - werkzeug - INFO - 127.0.0.1 - - [26/Jun/2025 15:35:50] "POST /api/upload-uk-data HTTP/1.1" 200 -
2025-06-26 15:35:56,678 - src.dashboard.app - INFO - Japan data file upload requested
2025-06-26 15:35:56,679 - src.dashboard.app - INFO - Processing Japan data file: japan_mock_data.xlsx
2025-06-26 15:35:56,702 - src.dashboard.app - INFO - File read successfully: 100 rows, 14 columns
2025-06-26 15:35:56,703 - src.dashboard.app - INFO - Processing Japan file data with columns: ['make', 'model', 'year', 'final_price_jpy', 'final_price_gbp', 'mileage_km', 'grade', 'fuel_type', 'transmission', 'body_type', 'colour', 'auction_house', 'auction_date', 'title']
2025-06-26 15:35:56,703 - src.dashboard.app - INFO - Column mapping: {'make': 'make', 'model': 'model', 'year': 'year', 'final_price_jpy': 'final_price_jpy', 'final_price_gbp': 'final_price_gbp', 'mileage_km': 'mileage_km', 'grade': 'grade', 'fuel_type': 'fuel_type', 'transmission': 'transmission', 'body_type': 'body_type', 'colour': 'colour', 'auction_house': 'auction_house', 'auction_date': 'auction_date', 'title': 'title'}
2025-06-26 15:35:56,715 - src.dashboard.app - INFO - Processed Japan data: 100 valid records
2025-06-26 15:35:56,725 - src.database.database_manager - INFO - Universal mapping input columns: ['make', 'model', 'year', 'final_price_jpy', 'final_price_gbp', 'mileage_km', 'grade', 'fuel_type', 'transmission', 'body_type', 'colour', 'auction_house', 'auction_date', 'title', 'auction_id', 'mileage_miles', 'grade_score', 'estimated_import_cost', 'shipping_cost', 'import_duty', 'vat', 'other_costs', 'total_landed_cost', 'source', 'collection_timestamp']
2025-06-26 15:35:56,733 - src.database.database_manager - INFO - Exact: auction_id -> auction_id
2025-06-26 15:35:56,734 - src.database.database_manager - INFO - Exact: title -> title
2025-06-26 15:35:56,734 - src.database.database_manager - INFO - Exact: year -> year
2025-06-26 15:35:56,734 - src.database.database_manager - INFO - Partial: mileage_km -> mileage_km
2025-06-26 15:35:56,735 - src.database.database_manager - INFO - Exact: transmission -> transmission
2025-06-26 15:35:56,735 - src.database.database_manager - INFO - Exact: model -> model
2025-06-26 15:35:56,735 - src.database.database_manager - INFO - Partial: fuel_type -> fuel_type
2025-06-26 15:35:56,737 - src.database.database_manager - INFO - Exact: colour -> colour
2025-06-26 15:35:56,737 - src.database.database_manager - INFO - Exact: auction_house -> auction_house
2025-06-26 15:35:56,737 - src.database.database_manager - INFO - Partial: final_price_jpy -> final_price_gbp
2025-06-26 15:35:56,737 - src.database.database_manager - INFO - Partial: final_price_jpy -> final_price_jpy
2025-06-26 15:35:56,739 - src.database.database_manager - INFO - Partial: total_landed_cost -> total_landed_cost
2025-06-26 15:35:56,739 - src.database.database_manager - INFO - Exact: grade -> grade
2025-06-26 15:35:56,739 - src.database.database_manager - INFO - Exact: grade_score -> grade_score
2025-06-26 15:35:56,739 - src.database.database_manager - INFO - Exact: auction_date -> auction_date
2025-06-26 15:35:56,739 - src.database.database_manager - INFO - Exact: estimated_import_cost -> estimated_import_cost
2025-06-26 15:35:56,739 - src.database.database_manager - INFO - Exact: shipping_cost -> shipping_cost
2025-06-26 15:35:56,739 - src.database.database_manager - INFO - Exact: import_duty -> import_duty
2025-06-26 15:35:56,741 - src.database.database_manager - INFO - Exact: vat -> vat
2025-06-26 15:35:56,741 - src.database.database_manager - INFO - Exact: other_costs -> other_costs
2025-06-26 15:35:56,749 - src.database.database_manager - INFO - Universal mapping completed. Output columns: ['auction_id', 'title', 'year', 'mileage_km', 'transmission', 'model', 'fuel_type', 'engine_details', 'colour', 'steering', 'drive_type', 'seats', 'doors', 'auction_house', 'final_price_gbp', 'final_price_jpy', 'total_landed_cost', 'image_url', 'promo_badges', 'grade', 'grade_score', 'auction_date', 'estimated_import_cost', 'shipping_cost', 'import_duty', 'vat', 'other_costs', 'mileage_miles', 'make']
2025-06-26 15:35:56,777 - src.database.database_manager - ERROR - Traceback: Traceback (most recent call last):
  File "D:\EcelIQ\New\test with excell\src\database\database_manager.py", line 710, in store_japan_data
    valid_rows.to_sql('japan_auction_data', conn, if_exists='append', index=False)
  File "D:\EcelIQ\New\test with excell\venv\lib\site-packages\pandas\core\generic.py", line 2878, in to_sql
    return sql.to_sql(
  File "D:\EcelIQ\New\test with excell\venv\lib\site-packages\pandas\io\sql.py", line 769, in to_sql
    return pandas_sql.to_sql(
  File "D:\EcelIQ\New\test with excell\venv\lib\site-packages\pandas\io\sql.py", line 2379, in to_sql
    return table.insert(chunksize, method)
  File "D:\EcelIQ\New\test with excell\venv\lib\site-packages\pandas\io\sql.py", line 1023, in insert
    num_inserted = exec_insert(conn, keys, chunk_iter)
  File "D:\EcelIQ\New\test with excell\venv\lib\site-packages\pandas\io\sql.py", line 2075, in _execute_insert
    conn.executemany(self.insert_statement(num_rows=1), data_list)
sqlite3.OperationalError: table japan_auction_data has no column named stock_reference

2025-06-26 15:35:56,781 - src.dashboard.app - INFO - Japan data upload completed: 100 vehicles
2025-06-26 15:35:56,782 - werkzeug - INFO - 127.0.0.1 - - [26/Jun/2025 15:35:56] "POST /api/upload-japan-data HTTP/1.1" 200 -
2025-06-26 15:35:59,058 - src.dashboard.app - INFO - Dashboard page requested
2025-06-26 15:35:59,062 - werkzeug - INFO - 127.0.0.1 - - [26/Jun/2025 15:35:59] "GET / HTTP/1.1" 200 -
2025-06-26 15:35:59,123 - src.dashboard.app - INFO - Data status requested
2025-06-26 15:35:59,123 - src.dashboard.app - INFO - API summary endpoint called
2025-06-26 15:35:59,125 - src.dashboard.app - INFO - Top vehicles endpoint called with limit: 20
2025-06-26 15:35:59,126 - src.dashboard.app - INFO - Market trends endpoint called
2025-06-26 15:35:59,130 - src.database.database_manager - INFO - Retrieved 0 analysis results
2025-06-26 15:35:59,130 - src.dashboard.app - INFO - Market summary retrieved: True
2025-06-26 15:35:59,130 - src.dashboard.app - WARNING - No analysis results available
2025-06-26 15:35:59,131 - werkzeug - INFO - 127.0.0.1 - - [26/Jun/2025 15:35:59] "GET /api/top-vehicles?limit=20 HTTP/1.1" 200 -
2025-06-26 15:35:59,135 - src.database.database_manager - INFO - Retrieved 0 analysis results
2025-06-26 15:35:59,136 - src.dashboard.app - INFO - Analysis results count: 0
2025-06-26 15:35:59,139 - src.dashboard.app - INFO - Database stats: {'uk_market_data': 699, 'japan_auction_data': 0, 'government_data': 0, 'analysis_results': 0, 'database_size_mb': 0.45}
2025-06-26 15:35:59,140 - src.dashboard.app - INFO - Summary prepared with 0 opportunities
2025-06-26 15:35:59,141 - werkzeug - INFO - 127.0.0.1 - - [26/Jun/2025 15:35:59] "GET /api/summary HTTP/1.1" 200 -
2025-06-26 15:35:59,157 - src.database.database_manager - INFO - Retrieved 699 UK market records
2025-06-26 15:35:59,160 - src.database.database_manager - INFO - Retrieved 699 UK market records
2025-06-26 15:35:59,163 - src.database.database_manager - INFO - Retrieved 0 Japan auction records
2025-06-26 15:35:59,166 - werkzeug - INFO - 127.0.0.1 - - [26/Jun/2025 15:35:59] "GET /api/market-trends HTTP/1.1" 200 -
2025-06-26 15:35:59,169 - src.database.database_manager - INFO - Retrieved 0 Japan auction records
2025-06-26 15:35:59,173 - src.database.database_manager - INFO - Retrieved 0 analysis results
2025-06-26 15:35:59,176 - werkzeug - INFO - 127.0.0.1 - - [26/Jun/2025 15:35:59] "GET /api/data-status HTTP/1.1" 200 -
2025-06-26 15:42:27,330 - src.database.database_manager - INFO - Database manager initialized with path: database/vehicle_import.db
2025-06-26 15:42:27,331 - src.data_collectors.manual_data_importer - INFO - Fixed manual data importer initialized
2025-06-26 15:42:27,331 - src.analysis.profitability_analyzer - INFO - Profitability analyzer initialized
2025-06-26 15:42:27,331 - src.analysis.scoring_engine - INFO - Scoring engine initialized
2025-06-26 15:42:27,331 - __main__ - INFO - Vehicle Import Analyzer initialized (Manual Import Only)
2025-06-26 15:42:27,332 - __main__ - INFO - Starting Vehicle Import Analyzer (Manual Import Mode)
2025-06-26 15:42:27,332 - src.database.database_manager - INFO - Initializing database tables with FIXED schema
2025-06-26 15:42:27,336 - __main__ - INFO - Starting manual data collection
2025-06-26 15:42:27,337 - __main__ - INFO - Importing UK market data from files...
2025-06-26 15:42:27,337 - __main__ - ERROR - Error during data collection: 'ManualDataImporter' object has no attribute 'import_uk_data_batch'
2025-06-26 15:42:27,346 - src.database.database_manager - INFO - Retrieved 699 UK market records
2025-06-26 15:42:27,350 - src.database.database_manager - INFO - Retrieved 0 Japan auction records
2025-06-26 15:42:27,351 - __main__ - INFO - No initial data found - use dashboard to upload files
2025-06-26 15:42:27,353 - src.analysis.scoring_engine - INFO - Scoring engine initialized
2025-06-26 15:42:27,357 - __main__ - INFO - Starting dashboard server on http://localhost:5000
2025-06-26 15:42:27,358 - __main__ - INFO - Dashboard features:
2025-06-26 15:42:27,358 - __main__ - INFO -   - Upload UK vehicle data (CSV/Excel)
2025-06-26 15:42:27,358 - __main__ - INFO -   - Upload Japan auction data (CSV/Excel)
2025-06-26 15:42:27,359 - __main__ - INFO -   - Run profitability analysis
2025-06-26 15:42:27,359 - __main__ - INFO -   - View opportunity rankings
2025-06-26 15:42:27,359 - __main__ - INFO -   - Portfolio optimization
2025-06-26 15:42:27,359 - __main__ - INFO -   - Export results to Excel
2025-06-26 15:42:28,206 - werkzeug - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://192.168.1.143:5000
2025-06-26 15:42:28,208 - werkzeug - INFO - [33mPress CTRL+C to quit[0m
2025-06-26 15:42:29,814 - src.dashboard.app - INFO - Dashboard page requested
2025-06-26 15:42:29,826 - werkzeug - INFO - 127.0.0.1 - - [26/Jun/2025 15:42:29] "GET / HTTP/1.1" 200 -
2025-06-26 15:42:29,915 - src.dashboard.app - INFO - Data status requested
2025-06-26 15:42:29,917 - src.dashboard.app - INFO - API summary endpoint called
2025-06-26 15:42:29,918 - src.dashboard.app - INFO - Top vehicles endpoint called with limit: 20
2025-06-26 15:42:29,920 - src.dashboard.app - INFO - Market trends endpoint called
2025-06-26 15:42:29,924 - src.database.database_manager - INFO - Retrieved 0 analysis results
2025-06-26 15:42:29,925 - src.dashboard.app - INFO - Market summary retrieved: True
2025-06-26 15:42:29,925 - src.dashboard.app - WARNING - No analysis results available
2025-06-26 15:42:29,926 - werkzeug - INFO - 127.0.0.1 - - [26/Jun/2025 15:42:29] "GET /api/top-vehicles?limit=20 HTTP/1.1" 200 -
2025-06-26 15:42:29,934 - src.database.database_manager - INFO - Retrieved 0 analysis results
2025-06-26 15:42:29,935 - src.dashboard.app - INFO - Analysis results count: 0
2025-06-26 15:42:29,937 - src.dashboard.app - INFO - Database stats: {'uk_market_data': 699, 'japan_auction_data': 0, 'government_data': 0, 'analysis_results': 0, 'database_size_mb': 0.45}
2025-06-26 15:42:29,938 - src.dashboard.app - INFO - Summary prepared with 0 opportunities
2025-06-26 15:42:29,939 - werkzeug - INFO - 127.0.0.1 - - [26/Jun/2025 15:42:29] "GET /api/summary HTTP/1.1" 200 -
2025-06-26 15:42:29,957 - src.database.database_manager - INFO - Retrieved 699 UK market records
2025-06-26 15:42:29,961 - src.database.database_manager - INFO - Retrieved 0 Japan auction records
2025-06-26 15:42:29,965 - src.database.database_manager - INFO - Retrieved 699 UK market records
2025-06-26 15:42:29,969 - src.database.database_manager - INFO - Retrieved 0 analysis results
2025-06-26 15:42:29,972 - werkzeug - INFO - 127.0.0.1 - - [26/Jun/2025 15:42:29] "GET /api/data-status HTTP/1.1" 200 -
2025-06-26 15:42:29,977 - src.database.database_manager - INFO - Retrieved 0 Japan auction records
2025-06-26 15:42:29,982 - werkzeug - INFO - 127.0.0.1 - - [26/Jun/2025 15:42:29] "GET /api/market-trends HTTP/1.1" 200 -
2025-06-26 15:42:36,978 - src.dashboard.app - INFO - Japan data file upload requested
2025-06-26 15:42:36,978 - src.dashboard.app - INFO - Processing Japan data file: japan_mock_data.xlsx
2025-06-26 15:42:37,234 - src.dashboard.app - INFO - File read successfully: 100 rows, 14 columns
2025-06-26 15:42:37,234 - src.dashboard.app - INFO - Processing Japan file data with columns: ['make', 'model', 'year', 'final_price_jpy', 'final_price_gbp', 'mileage_km', 'grade', 'fuel_type', 'transmission', 'body_type', 'colour', 'auction_house', 'auction_date', 'title']
2025-06-26 15:42:37,234 - src.dashboard.app - INFO - Column mapping: {'make': 'make', 'model': 'model', 'year': 'year', 'final_price_jpy': 'final_price_jpy', 'final_price_gbp': 'final_price_gbp', 'mileage_km': 'mileage_km', 'grade': 'grade', 'fuel_type': 'fuel_type', 'transmission': 'transmission', 'body_type': 'body_type', 'colour': 'colour', 'auction_house': 'auction_house', 'auction_date': 'auction_date', 'title': 'title'}
2025-06-26 15:42:37,244 - src.dashboard.app - INFO - Processed Japan data: 100 valid records
2025-06-26 15:42:37,260 - src.database.database_manager - INFO - Universal mapping input columns: ['make', 'model', 'year', 'final_price_jpy', 'final_price_gbp', 'mileage_km', 'grade', 'fuel_type', 'transmission', 'body_type', 'colour', 'auction_house', 'auction_date', 'title', 'auction_id', 'mileage_miles', 'grade_score', 'estimated_import_cost', 'shipping_cost', 'import_duty', 'vat', 'other_costs', 'total_landed_cost', 'source', 'collection_timestamp']
2025-06-26 15:42:37,269 - src.database.database_manager - INFO - Exact: auction_id -> auction_id
2025-06-26 15:42:37,270 - src.database.database_manager - INFO - Exact: title -> title
2025-06-26 15:42:37,270 - src.database.database_manager - INFO - Exact: year -> year
2025-06-26 15:42:37,270 - src.database.database_manager - INFO - Partial: mileage_km -> mileage_km
2025-06-26 15:42:37,271 - src.database.database_manager - INFO - Exact: transmission -> transmission
2025-06-26 15:42:37,271 - src.database.database_manager - INFO - Exact: model -> model
2025-06-26 15:42:37,271 - src.database.database_manager - INFO - Partial: fuel_type -> fuel_type
2025-06-26 15:42:37,271 - src.database.database_manager - INFO - Exact: colour -> colour
2025-06-26 15:42:37,272 - src.database.database_manager - INFO - Exact: auction_house -> auction_house
2025-06-26 15:42:37,272 - src.database.database_manager - INFO - Partial: final_price_jpy -> final_price_gbp
2025-06-26 15:42:37,272 - src.database.database_manager - INFO - Partial: final_price_jpy -> final_price_jpy
2025-06-26 15:42:37,272 - src.database.database_manager - INFO - Partial: total_landed_cost -> total_landed_cost
2025-06-26 15:42:37,273 - src.database.database_manager - INFO - Exact: grade -> grade
2025-06-26 15:42:37,273 - src.database.database_manager - INFO - Exact: grade_score -> grade_score
2025-06-26 15:42:37,273 - src.database.database_manager - INFO - Exact: auction_date -> auction_date
2025-06-26 15:42:37,273 - src.database.database_manager - INFO - Exact: estimated_import_cost -> estimated_import_cost
2025-06-26 15:42:37,273 - src.database.database_manager - INFO - Exact: shipping_cost -> shipping_cost
2025-06-26 15:42:37,273 - src.database.database_manager - INFO - Exact: import_duty -> import_duty
2025-06-26 15:42:37,273 - src.database.database_manager - INFO - Exact: vat -> vat
2025-06-26 15:42:37,273 - src.database.database_manager - INFO - Exact: other_costs -> other_costs
2025-06-26 15:42:37,282 - src.database.database_manager - INFO - Universal mapping completed. Output columns: ['auction_id', 'title', 'year', 'mileage_km', 'transmission', 'model', 'fuel_type', 'engine_details', 'colour', 'steering', 'drive_type', 'seats', 'doors', 'auction_house', 'final_price_gbp', 'final_price_jpy', 'total_landed_cost', 'image_url', 'promo_badges', 'grade', 'grade_score', 'auction_date', 'estimated_import_cost', 'shipping_cost', 'import_duty', 'vat', 'other_costs', 'mileage_miles', 'make']
2025-06-26 15:42:37,362 - src.dashboard.app - INFO - Japan data upload completed: 100 vehicles
2025-06-26 15:42:37,362 - werkzeug - INFO - 127.0.0.1 - - [26/Jun/2025 15:42:37] "POST /api/upload-japan-data HTTP/1.1" 200 -
2025-06-26 15:42:39,998 - src.dashboard.app - INFO - Dashboard page requested
2025-06-26 15:42:39,999 - werkzeug - INFO - 127.0.0.1 - - [26/Jun/2025 15:42:39] "GET / HTTP/1.1" 200 -
2025-06-26 15:42:40,040 - src.dashboard.app - INFO - Data status requested
2025-06-26 15:42:40,040 - src.dashboard.app - INFO - API summary endpoint called
2025-06-26 15:42:40,041 - src.dashboard.app - INFO - Top vehicles endpoint called with limit: 20
2025-06-26 15:42:40,042 - src.dashboard.app - INFO - Market trends endpoint called
2025-06-26 15:42:40,046 - src.database.database_manager - INFO - Retrieved 0 analysis results
2025-06-26 15:42:40,046 - src.dashboard.app - INFO - Market summary retrieved: True
2025-06-26 15:42:40,046 - src.dashboard.app - WARNING - No analysis results available
2025-06-26 15:42:40,047 - werkzeug - INFO - 127.0.0.1 - - [26/Jun/2025 15:42:40] "GET /api/top-vehicles?limit=20 HTTP/1.1" 200 -
2025-06-26 15:42:40,051 - src.database.database_manager - INFO - Retrieved 0 analysis results
2025-06-26 15:42:40,051 - src.dashboard.app - INFO - Analysis results count: 0
2025-06-26 15:42:40,054 - src.dashboard.app - INFO - Database stats: {'uk_market_data': 699, 'japan_auction_data': 100, 'government_data': 0, 'analysis_results': 0, 'database_size_mb': 0.48}
2025-06-26 15:42:40,054 - src.dashboard.app - INFO - Summary prepared with 0 opportunities
2025-06-26 15:42:40,055 - werkzeug - INFO - 127.0.0.1 - - [26/Jun/2025 15:42:40] "GET /api/summary HTTP/1.1" 200 -
2025-06-26 15:42:40,072 - src.database.database_manager - INFO - Retrieved 699 UK market records
2025-06-26 15:42:40,076 - src.database.database_manager - INFO - Retrieved 699 UK market records
2025-06-26 15:42:40,081 - src.database.database_manager - INFO - Retrieved 100 Japan auction records
2025-06-26 15:42:40,085 - src.database.database_manager - INFO - Retrieved 100 Japan auction records
2025-06-26 15:42:40,088 - src.database.database_manager - INFO - Retrieved 0 analysis results
2025-06-26 15:42:40,090 - werkzeug - INFO - 127.0.0.1 - - [26/Jun/2025 15:42:40] "GET /api/data-status HTTP/1.1" 200 -
2025-06-26 15:42:40,096 - werkzeug - INFO - 127.0.0.1 - - [26/Jun/2025 15:42:40] "GET /api/market-trends HTTP/1.1" 200 -
2025-06-26 15:42:42,147 - src.dashboard.app - INFO - Analysis run requested
2025-06-26 15:42:42,152 - src.database.database_manager - INFO - Retrieved 699 UK market records
2025-06-26 15:42:42,194 - src.database.database_manager - INFO - Retrieved 100 Japan auction records
2025-06-26 15:42:42,194 - src.analysis.profitability_analyzer - INFO - Profitability analyzer initialized
2025-06-26 15:42:42,194 - src.dashboard.app - INFO - Running profitability analysis...
2025-06-26 15:42:42,194 - src.analysis.profitability_analyzer - INFO - Starting profitability analysis
2025-06-26 15:42:42,194 - src.analysis.profitability_analyzer - INFO - Input data - UK: 699 records, Japan: 100 records
2025-06-26 15:42:42,201 - src.analysis.profitability_analyzer - INFO - UK data cleaned: 699 records
2025-06-26 15:42:42,206 - src.analysis.profitability_analyzer - INFO - Japan data cleaned: 100 records
2025-06-26 15:42:42,206 - src.analysis.profitability_analyzer - INFO - Cleaned data - UK: 699 records, Japan: 100 records
2025-06-26 15:42:42,207 - src.analysis.profitability_analyzer - INFO - Starting comprehensive vehicle matching...
2025-06-26 15:42:42,207 - src.analysis.profitability_analyzer - INFO - Strategy 1: Exact make + model + year range matching...
2025-06-26 15:42:42,222 - src.analysis.profitability_analyzer - INFO - Exact matches found: 1
2025-06-26 15:42:42,222 - src.analysis.profitability_analyzer - INFO - Strategy 2: Make + year range matching...
2025-06-26 15:42:42,237 - src.analysis.profitability_analyzer - INFO - Make+year matches found: 3
2025-06-26 15:42:42,240 - src.analysis.profitability_analyzer - INFO - Total unique matches: 3
2025-06-26 15:42:42,240 - src.analysis.profitability_analyzer - INFO - Created 3 vehicle matches
2025-06-26 15:42:42,241 - src.analysis.profitability_analyzer - INFO - Calculating profitability for 3 matches
2025-06-26 15:42:42,249 - src.analysis.profitability_analyzer - INFO - Profitability filtering: 3 -> 3 opportunities
2025-06-26 15:42:42,249 - src.analysis.profitability_analyzer - INFO - Found 3 profitable opportunities
2025-06-26 15:42:42,263 - src.analysis.profitability_analyzer - INFO - Profitability analysis completed for 3 vehicle combinations
2025-06-26 15:42:42,263 - src.dashboard.app - INFO - Generating investment scores...
2025-06-26 15:42:42,264 - src.analysis.scoring_engine - INFO - Calculating vehicle scores
2025-06-26 15:42:42,285 - src.analysis.scoring_engine - INFO - Scoring completed for 3 vehicles
2025-06-26 15:42:42,309 - src.dashboard.app - INFO - Analysis completed: 3 opportunities
2025-06-26 15:42:42,310 - werkzeug - INFO - 127.0.0.1 - - [26/Jun/2025 15:42:42] "POST /api/run-analysis HTTP/1.1" 200 -
2025-06-26 15:42:43,324 - src.dashboard.app - INFO - API summary endpoint called
2025-06-26 15:42:43,324 - src.dashboard.app - INFO - Top vehicles endpoint called with limit: 20
2025-06-26 15:42:43,334 - src.dashboard.app - INFO - Market trends endpoint called
2025-06-26 15:42:43,334 - src.database.database_manager - INFO - Retrieved 3 analysis results
2025-06-26 15:42:43,334 - src.dashboard.app - INFO - Market summary retrieved: True
2025-06-26 15:42:43,346 - src.dashboard.app - INFO - Generated recommendations for 3 vehicles
2025-06-26 15:42:43,347 - werkzeug - INFO - 127.0.0.1 - - [26/Jun/2025 15:42:43] "GET /api/top-vehicles?limit=20 HTTP/1.1" 200 -
2025-06-26 15:42:43,350 - src.database.database_manager - INFO - Retrieved 3 analysis results
2025-06-26 15:42:43,351 - src.dashboard.app - INFO - Analysis results count: 3
2025-06-26 15:42:43,352 - src.dashboard.app - INFO - Database stats: {'uk_market_data': 699, 'japan_auction_data': 100, 'government_data': 0, 'analysis_results': 3, 'database_size_mb': 0.48}
2025-06-26 15:42:43,353 - src.dashboard.app - INFO - Summary prepared with 3 opportunities
2025-06-26 15:42:43,353 - werkzeug - INFO - 127.0.0.1 - - [26/Jun/2025 15:42:43] "GET /api/summary HTTP/1.1" 200 -
2025-06-26 15:42:43,358 - src.database.database_manager - INFO - Retrieved 699 UK market records
2025-06-26 15:42:43,364 - src.database.database_manager - INFO - Retrieved 100 Japan auction records
2025-06-26 15:42:43,367 - werkzeug - INFO - 127.0.0.1 - - [26/Jun/2025 15:42:43] "GET /api/market-trends HTTP/1.1" 200 -
2025-06-26 15:42:56,825 - src.database.database_manager - INFO - Retrieved 3 analysis results
2025-06-26 15:42:56,830 - src.analysis.scoring_engine - INFO - Starting portfolio optimization with budget £100,000
2025-06-26 15:42:56,830 - src.analysis.scoring_engine - INFO - Available columns: ['id', 'make', 'model', 'year', 'year_range', 'uk_sample_size', 'japan_sample_size', 'match_type', 'uk_avg_price', 'uk_median_price', 'uk_min_price', 'uk_max_price', 'uk_price_std', 'uk_avg_mileage', 'uk_median_mileage', 'uk_listings_count', 'japan_avg_auction_price', 'japan_median_auction_price', 'japan_min_auction_price', 'japan_max_auction_price', 'japan_avg_import_cost', 'japan_avg_total_cost', 'japan_median_total_cost', 'japan_avg_mileage', 'japan_avg_grade', 'japan_auctions_count', 'gross_profit', 'profit_margin', 'profit_margin_conservative', 'roi', 'price_volatility_uk', 'risk_score', 'market_share', 'listings_density', 'price_trend', 'demand_score', 'avg_days_listed', 'profitability_score', 'market_demand_score', 'risk_assessment_score', 'liquidity_score', 'market_trends_score', 'final_score', 'final_score_percentile', 'score_grade', 'investment_category', 'recommendation', 'overall_score', 'analysis_timestamp', 'created_at']
2025-06-26 15:42:56,834 - src.analysis.scoring_engine - INFO - Portfolio columns ensured with fallback values
2025-06-26 15:42:56,835 - src.analysis.scoring_engine - INFO - Found 3 affordable vehicles out of 3 total
2025-06-26 15:42:56,835 - src.analysis.scoring_engine - INFO - Added to portfolio: Toyota Prius - £8,500
2025-06-26 15:42:56,836 - src.analysis.scoring_engine - INFO - Added to portfolio: Honda Civic - £7,639
2025-06-26 15:42:56,836 - src.analysis.scoring_engine - INFO - Added to portfolio: Nissan Qashqai - £4,998
2025-06-26 15:42:56,836 - src.analysis.scoring_engine - INFO - Portfolio optimization completed: 3 vehicles, £21,137 invested
2025-06-26 15:42:56,837 - werkzeug - INFO - 127.0.0.1 - - [26/Jun/2025 15:42:56] "GET /api/portfolio-optimizer?budget=100000 HTTP/1.1" 200 -
2025-06-26 15:43:11,923 - src.database.database_manager - INFO - Retrieved 3 analysis results
2025-06-26 15:43:11,984 - werkzeug - INFO - 127.0.0.1 - - [26/Jun/2025 15:43:11] "GET /api/export/excel HTTP/1.1" 200 -
2025-06-26 21:02:59,979 - src.dashboard.app - INFO - Analysis run requested
2025-06-26 21:03:00,030 - src.database.database_manager - INFO - Retrieved 699 UK market records
2025-06-26 21:03:00,037 - src.database.database_manager - INFO - Retrieved 100 Japan auction records
2025-06-26 21:03:00,039 - src.analysis.profitability_analyzer - INFO - Profitability analyzer initialized
2025-06-26 21:03:00,039 - src.dashboard.app - INFO - Running profitability analysis...
2025-06-26 21:03:00,040 - src.analysis.profitability_analyzer - INFO - Starting profitability analysis
2025-06-26 21:03:00,040 - src.analysis.profitability_analyzer - INFO - Input data - UK: 699 records, Japan: 100 records
2025-06-26 21:03:00,054 - src.analysis.profitability_analyzer - INFO - UK data cleaned: 699 records
2025-06-26 21:03:00,059 - src.analysis.profitability_analyzer - INFO - Japan data cleaned: 100 records
2025-06-26 21:03:00,060 - src.analysis.profitability_analyzer - INFO - Cleaned data - UK: 699 records, Japan: 100 records
2025-06-26 21:03:00,061 - src.analysis.profitability_analyzer - INFO - Starting comprehensive vehicle matching...
2025-06-26 21:03:00,061 - src.analysis.profitability_analyzer - INFO - Strategy 1: Exact make + model + year range matching...
2025-06-26 21:03:00,074 - src.analysis.profitability_analyzer - INFO - Exact matches found: 1
2025-06-26 21:03:00,074 - src.analysis.profitability_analyzer - INFO - Strategy 2: Make + year range matching...
2025-06-26 21:03:00,088 - src.analysis.profitability_analyzer - INFO - Make+year matches found: 3
2025-06-26 21:03:00,094 - src.analysis.profitability_analyzer - INFO - Total unique matches: 3
2025-06-26 21:03:00,094 - src.analysis.profitability_analyzer - INFO - Created 3 vehicle matches
2025-06-26 21:03:00,095 - src.analysis.profitability_analyzer - INFO - Calculating profitability for 3 matches
2025-06-26 21:03:00,103 - src.analysis.profitability_analyzer - INFO - Profitability filtering: 3 -> 3 opportunities
2025-06-26 21:03:00,103 - src.analysis.profitability_analyzer - INFO - Found 3 profitable opportunities
2025-06-26 21:03:00,116 - src.analysis.profitability_analyzer - INFO - Profitability analysis completed for 3 vehicle combinations
2025-06-26 21:03:00,116 - src.dashboard.app - INFO - Generating investment scores...
2025-06-26 21:03:00,116 - src.analysis.scoring_engine - INFO - Calculating vehicle scores
2025-06-26 21:03:00,140 - src.analysis.scoring_engine - INFO - Scoring completed for 3 vehicles
2025-06-26 21:03:00,167 - src.dashboard.app - INFO - Analysis completed: 3 opportunities
2025-06-26 21:03:00,168 - werkzeug - INFO - 127.0.0.1 - - [26/Jun/2025 21:03:00] "POST /api/run-analysis HTTP/1.1" 200 -
2025-06-26 21:03:01,183 - src.dashboard.app - INFO - API summary endpoint called
2025-06-26 21:03:01,183 - src.dashboard.app - INFO - Top vehicles endpoint called with limit: 20
2025-06-26 21:03:01,183 - src.dashboard.app - INFO - Market trends endpoint called
2025-06-26 21:03:01,183 - src.dashboard.app - INFO - Market summary retrieved: True
2025-06-26 21:03:01,193 - src.database.database_manager - INFO - Retrieved 6 analysis results
2025-06-26 21:03:01,196 - src.dashboard.app - INFO - Generated recommendations for 6 vehicles
2025-06-26 21:03:01,197 - werkzeug - INFO - 127.0.0.1 - - [26/Jun/2025 21:03:01] "GET /api/top-vehicles?limit=20 HTTP/1.1" 200 -
2025-06-26 21:03:01,198 - src.database.database_manager - INFO - Retrieved 6 analysis results
2025-06-26 21:03:01,201 - src.dashboard.app - INFO - Analysis results count: 6
2025-06-26 21:03:01,203 - src.dashboard.app - INFO - Database stats: {'uk_market_data': 699, 'japan_auction_data': 100, 'government_data': 0, 'analysis_results': 6, 'database_size_mb': 0.48}
2025-06-26 21:03:01,203 - src.dashboard.app - INFO - Summary prepared with 5 opportunities
2025-06-26 21:03:01,204 - werkzeug - INFO - 127.0.0.1 - - [26/Jun/2025 21:03:01] "GET /api/summary HTTP/1.1" 200 -
2025-06-26 21:03:01,209 - src.database.database_manager - INFO - Retrieved 699 UK market records
2025-06-26 21:03:01,213 - src.database.database_manager - INFO - Retrieved 100 Japan auction records
2025-06-26 21:03:01,218 - werkzeug - INFO - 127.0.0.1 - - [26/Jun/2025 21:03:01] "GET /api/market-trends HTTP/1.1" 200 -
2025-06-26 21:03:02,864 - src.dashboard.app - INFO - Analysis run requested
2025-06-26 21:03:02,871 - src.database.database_manager - INFO - Retrieved 699 UK market records
2025-06-26 21:03:02,876 - src.database.database_manager - INFO - Retrieved 100 Japan auction records
2025-06-26 21:03:02,877 - src.analysis.profitability_analyzer - INFO - Profitability analyzer initialized
2025-06-26 21:03:02,877 - src.dashboard.app - INFO - Running profitability analysis...
2025-06-26 21:03:02,878 - src.analysis.profitability_analyzer - INFO - Starting profitability analysis
2025-06-26 21:03:02,878 - src.analysis.profitability_analyzer - INFO - Input data - UK: 699 records, Japan: 100 records
2025-06-26 21:03:02,885 - src.analysis.profitability_analyzer - INFO - UK data cleaned: 699 records
2025-06-26 21:03:02,891 - src.analysis.profitability_analyzer - INFO - Japan data cleaned: 100 records
2025-06-26 21:03:02,891 - src.analysis.profitability_analyzer - INFO - Cleaned data - UK: 699 records, Japan: 100 records
2025-06-26 21:03:02,892 - src.analysis.profitability_analyzer - INFO - Starting comprehensive vehicle matching...
2025-06-26 21:03:02,892 - src.analysis.profitability_analyzer - INFO - Strategy 1: Exact make + model + year range matching...
2025-06-26 21:03:02,905 - src.analysis.profitability_analyzer - INFO - Exact matches found: 1
2025-06-26 21:03:02,905 - src.analysis.profitability_analyzer - INFO - Strategy 2: Make + year range matching...
2025-06-26 21:03:02,918 - src.analysis.profitability_analyzer - INFO - Make+year matches found: 3
2025-06-26 21:03:02,921 - src.analysis.profitability_analyzer - INFO - Total unique matches: 3
2025-06-26 21:03:02,921 - src.analysis.profitability_analyzer - INFO - Created 3 vehicle matches
2025-06-26 21:03:02,921 - src.analysis.profitability_analyzer - INFO - Calculating profitability for 3 matches
2025-06-26 21:03:02,932 - src.analysis.profitability_analyzer - INFO - Profitability filtering: 3 -> 3 opportunities
2025-06-26 21:03:02,932 - src.analysis.profitability_analyzer - INFO - Found 3 profitable opportunities
2025-06-26 21:03:02,942 - src.analysis.profitability_analyzer - INFO - Profitability analysis completed for 3 vehicle combinations
2025-06-26 21:03:02,947 - src.dashboard.app - INFO - Generating investment scores...
2025-06-26 21:03:02,947 - src.analysis.scoring_engine - INFO - Calculating vehicle scores
2025-06-26 21:03:02,968 - src.analysis.scoring_engine - INFO - Scoring completed for 3 vehicles
2025-06-26 21:03:02,999 - src.dashboard.app - INFO - Analysis completed: 3 opportunities
2025-06-26 21:03:03,000 - werkzeug - INFO - 127.0.0.1 - - [26/Jun/2025 21:03:03] "POST /api/run-analysis HTTP/1.1" 200 -
2025-06-26 21:03:04,005 - src.dashboard.app - INFO - API summary endpoint called
2025-06-26 21:03:04,005 - src.dashboard.app - INFO - Top vehicles endpoint called with limit: 20
2025-06-26 21:03:04,005 - src.dashboard.app - INFO - Market trends endpoint called
2025-06-26 21:03:04,005 - src.database.database_manager - INFO - Retrieved 9 analysis results
2025-06-26 21:03:04,020 - src.dashboard.app - INFO - Generated recommendations for 9 vehicles
2025-06-26 21:03:04,020 - src.dashboard.app - INFO - Market summary retrieved: True
2025-06-26 21:03:04,021 - werkzeug - INFO - 127.0.0.1 - - [26/Jun/2025 21:03:04] "GET /api/top-vehicles?limit=20 HTTP/1.1" 200 -
2025-06-26 21:03:04,025 - src.database.database_manager - INFO - Retrieved 9 analysis results
2025-06-26 21:03:04,026 - src.dashboard.app - INFO - Analysis results count: 9
2025-06-26 21:03:04,028 - src.dashboard.app - INFO - Database stats: {'uk_market_data': 699, 'japan_auction_data': 100, 'government_data': 0, 'analysis_results': 9, 'database_size_mb': 0.48}
2025-06-26 21:03:04,028 - src.dashboard.app - INFO - Summary prepared with 5 opportunities
2025-06-26 21:03:04,029 - werkzeug - INFO - 127.0.0.1 - - [26/Jun/2025 21:03:04] "GET /api/summary HTTP/1.1" 200 -
2025-06-26 21:03:04,033 - src.database.database_manager - INFO - Retrieved 699 UK market records
2025-06-26 21:03:04,037 - src.database.database_manager - INFO - Retrieved 100 Japan auction records
2025-06-26 21:03:04,041 - werkzeug - INFO - 127.0.0.1 - - [26/Jun/2025 21:03:04] "GET /api/market-trends HTTP/1.1" 200 -
2025-06-26 21:03:05,240 - src.dashboard.app - INFO - Analysis run requested
2025-06-26 21:03:05,246 - src.database.database_manager - INFO - Retrieved 699 UK market records
2025-06-26 21:03:05,251 - src.database.database_manager - INFO - Retrieved 100 Japan auction records
2025-06-26 21:03:05,252 - src.analysis.profitability_analyzer - INFO - Profitability analyzer initialized
2025-06-26 21:03:05,252 - src.dashboard.app - INFO - Running profitability analysis...
2025-06-26 21:03:05,253 - src.analysis.profitability_analyzer - INFO - Starting profitability analysis
2025-06-26 21:03:05,254 - src.analysis.profitability_analyzer - INFO - Input data - UK: 699 records, Japan: 100 records
2025-06-26 21:03:05,260 - src.analysis.profitability_analyzer - INFO - UK data cleaned: 699 records
2025-06-26 21:03:05,265 - src.analysis.profitability_analyzer - INFO - Japan data cleaned: 100 records
2025-06-26 21:03:05,266 - src.analysis.profitability_analyzer - INFO - Cleaned data - UK: 699 records, Japan: 100 records
2025-06-26 21:03:05,266 - src.analysis.profitability_analyzer - INFO - Starting comprehensive vehicle matching...
2025-06-26 21:03:05,267 - src.analysis.profitability_analyzer - INFO - Strategy 1: Exact make + model + year range matching...
2025-06-26 21:03:05,280 - src.analysis.profitability_analyzer - INFO - Exact matches found: 1
2025-06-26 21:03:05,280 - src.analysis.profitability_analyzer - INFO - Strategy 2: Make + year range matching...
2025-06-26 21:03:05,293 - src.analysis.profitability_analyzer - INFO - Make+year matches found: 3
2025-06-26 21:03:05,295 - src.analysis.profitability_analyzer - INFO - Total unique matches: 3
2025-06-26 21:03:05,296 - src.analysis.profitability_analyzer - INFO - Created 3 vehicle matches
2025-06-26 21:03:05,296 - src.analysis.profitability_analyzer - INFO - Calculating profitability for 3 matches
2025-06-26 21:03:05,303 - src.analysis.profitability_analyzer - INFO - Profitability filtering: 3 -> 3 opportunities
2025-06-26 21:03:05,303 - src.analysis.profitability_analyzer - INFO - Found 3 profitable opportunities
2025-06-26 21:03:05,313 - src.analysis.profitability_analyzer - INFO - Profitability analysis completed for 3 vehicle combinations
2025-06-26 21:03:05,314 - src.dashboard.app - INFO - Generating investment scores...
2025-06-26 21:03:05,314 - src.analysis.scoring_engine - INFO - Calculating vehicle scores
2025-06-26 21:03:05,335 - src.analysis.scoring_engine - INFO - Scoring completed for 3 vehicles
2025-06-26 21:03:05,359 - src.dashboard.app - INFO - Analysis completed: 3 opportunities
2025-06-26 21:03:05,363 - werkzeug - INFO - 127.0.0.1 - - [26/Jun/2025 21:03:05] "POST /api/run-analysis HTTP/1.1" 200 -
2025-06-26 21:03:06,380 - src.dashboard.app - INFO - API summary endpoint called
2025-06-26 21:03:06,380 - src.dashboard.app - INFO - Top vehicles endpoint called with limit: 20
2025-06-26 21:03:06,380 - src.dashboard.app - INFO - Market trends endpoint called
2025-06-26 21:03:06,390 - src.database.database_manager - INFO - Retrieved 12 analysis results
2025-06-26 21:03:06,396 - src.dashboard.app - INFO - Generated recommendations for 12 vehicles
2025-06-26 21:03:06,396 - src.dashboard.app - INFO - Market summary retrieved: True
2025-06-26 21:03:06,397 - werkzeug - INFO - 127.0.0.1 - - [26/Jun/2025 21:03:06] "GET /api/top-vehicles?limit=20 HTTP/1.1" 200 -
2025-06-26 21:03:06,402 - src.database.database_manager - INFO - Retrieved 10 analysis results
2025-06-26 21:03:06,402 - src.dashboard.app - INFO - Analysis results count: 10
2025-06-26 21:03:06,404 - src.dashboard.app - INFO - Database stats: {'uk_market_data': 699, 'japan_auction_data': 100, 'government_data': 0, 'analysis_results': 12, 'database_size_mb': 0.48}
2025-06-26 21:03:06,404 - src.dashboard.app - INFO - Summary prepared with 5 opportunities
2025-06-26 21:03:06,405 - werkzeug - INFO - 127.0.0.1 - - [26/Jun/2025 21:03:06] "GET /api/summary HTTP/1.1" 200 -
2025-06-26 21:03:06,410 - src.database.database_manager - INFO - Retrieved 699 UK market records
2025-06-26 21:03:06,413 - src.database.database_manager - INFO - Retrieved 100 Japan auction records
2025-06-26 21:03:06,417 - werkzeug - INFO - 127.0.0.1 - - [26/Jun/2025 21:03:06] "GET /api/market-trends HTTP/1.1" 200 -
2025-06-26 21:03:08,633 - src.dashboard.app - INFO - Analysis run requested
2025-06-26 21:03:08,640 - src.database.database_manager - INFO - Retrieved 699 UK market records
2025-06-26 21:03:08,643 - src.database.database_manager - INFO - Retrieved 100 Japan auction records
2025-06-26 21:03:08,644 - src.analysis.profitability_analyzer - INFO - Profitability analyzer initialized
2025-06-26 21:03:08,645 - src.dashboard.app - INFO - Running profitability analysis...
2025-06-26 21:03:08,645 - src.analysis.profitability_analyzer - INFO - Starting profitability analysis
2025-06-26 21:03:08,645 - src.analysis.profitability_analyzer - INFO - Input data - UK: 699 records, Japan: 100 records
2025-06-26 21:03:08,649 - src.analysis.profitability_analyzer - INFO - UK data cleaned: 699 records
2025-06-26 21:03:08,659 - src.analysis.profitability_analyzer - INFO - Japan data cleaned: 100 records
2025-06-26 21:03:08,661 - src.analysis.profitability_analyzer - INFO - Cleaned data - UK: 699 records, Japan: 100 records
2025-06-26 21:03:08,661 - src.analysis.profitability_analyzer - INFO - Starting comprehensive vehicle matching...
2025-06-26 21:03:08,662 - src.analysis.profitability_analyzer - INFO - Strategy 1: Exact make + model + year range matching...
2025-06-26 21:03:08,674 - src.analysis.profitability_analyzer - INFO - Exact matches found: 1
2025-06-26 21:03:08,676 - src.analysis.profitability_analyzer - INFO - Strategy 2: Make + year range matching...
2025-06-26 21:03:08,684 - src.analysis.profitability_analyzer - INFO - Make+year matches found: 3
2025-06-26 21:03:08,691 - src.analysis.profitability_analyzer - INFO - Total unique matches: 3
2025-06-26 21:03:08,691 - src.analysis.profitability_analyzer - INFO - Created 3 vehicle matches
2025-06-26 21:03:08,692 - src.analysis.profitability_analyzer - INFO - Calculating profitability for 3 matches
2025-06-26 21:03:08,700 - src.analysis.profitability_analyzer - INFO - Profitability filtering: 3 -> 3 opportunities
2025-06-26 21:03:08,700 - src.analysis.profitability_analyzer - INFO - Found 3 profitable opportunities
2025-06-26 21:03:08,710 - src.analysis.profitability_analyzer - INFO - Profitability analysis completed for 3 vehicle combinations
2025-06-26 21:03:08,711 - src.dashboard.app - INFO - Generating investment scores...
2025-06-26 21:03:08,712 - src.analysis.scoring_engine - INFO - Calculating vehicle scores
2025-06-26 21:03:08,734 - src.analysis.scoring_engine - INFO - Scoring completed for 3 vehicles
2025-06-26 21:03:08,766 - src.dashboard.app - INFO - Analysis completed: 3 opportunities
2025-06-26 21:03:08,767 - werkzeug - INFO - 127.0.0.1 - - [26/Jun/2025 21:03:08] "POST /api/run-analysis HTTP/1.1" 200 -
2025-06-26 21:03:09,776 - src.dashboard.app - INFO - API summary endpoint called
2025-06-26 21:03:09,786 - src.dashboard.app - INFO - Top vehicles endpoint called with limit: 20
2025-06-26 21:03:09,786 - src.dashboard.app - INFO - Market trends endpoint called
2025-06-26 21:03:09,801 - src.database.database_manager - INFO - Retrieved 15 analysis results
2025-06-26 21:03:09,803 - src.dashboard.app - INFO - Market summary retrieved: True
2025-06-26 21:03:09,805 - src.dashboard.app - INFO - Generated recommendations for 15 vehicles
2025-06-26 21:03:09,806 - werkzeug - INFO - 127.0.0.1 - - [26/Jun/2025 21:03:09] "GET /api/top-vehicles?limit=20 HTTP/1.1" 200 -
2025-06-26 21:03:09,809 - src.database.database_manager - INFO - Retrieved 10 analysis results
2025-06-26 21:03:09,810 - src.dashboard.app - INFO - Analysis results count: 10
2025-06-26 21:03:09,812 - src.dashboard.app - INFO - Database stats: {'uk_market_data': 699, 'japan_auction_data': 100, 'government_data': 0, 'analysis_results': 15, 'database_size_mb': 0.48}
2025-06-26 21:03:09,812 - src.dashboard.app - INFO - Summary prepared with 5 opportunities
2025-06-26 21:03:09,813 - werkzeug - INFO - 127.0.0.1 - - [26/Jun/2025 21:03:09] "GET /api/summary HTTP/1.1" 200 -
2025-06-26 21:03:09,818 - src.database.database_manager - INFO - Retrieved 699 UK market records
2025-06-26 21:03:09,822 - src.database.database_manager - INFO - Retrieved 100 Japan auction records
2025-06-26 21:03:09,826 - werkzeug - INFO - 127.0.0.1 - - [26/Jun/2025 21:03:09] "GET /api/market-trends HTTP/1.1" 200 -
2025-06-26 21:03:11,665 - src.dashboard.app - INFO - Analysis run requested
2025-06-26 21:03:11,670 - src.database.database_manager - INFO - Retrieved 699 UK market records
2025-06-26 21:03:11,675 - src.database.database_manager - INFO - Retrieved 100 Japan auction records
2025-06-26 21:03:11,676 - src.analysis.profitability_analyzer - INFO - Profitability analyzer initialized
2025-06-26 21:03:11,676 - src.dashboard.app - INFO - Running profitability analysis...
2025-06-26 21:03:11,677 - src.analysis.profitability_analyzer - INFO - Starting profitability analysis
2025-06-26 21:03:11,677 - src.analysis.profitability_analyzer - INFO - Input data - UK: 699 records, Japan: 100 records
2025-06-26 21:03:11,685 - src.analysis.profitability_analyzer - INFO - UK data cleaned: 699 records
2025-06-26 21:03:11,690 - src.analysis.profitability_analyzer - INFO - Japan data cleaned: 100 records
2025-06-26 21:03:11,691 - src.analysis.profitability_analyzer - INFO - Cleaned data - UK: 699 records, Japan: 100 records
2025-06-26 21:03:11,691 - src.analysis.profitability_analyzer - INFO - Starting comprehensive vehicle matching...
2025-06-26 21:03:11,691 - src.analysis.profitability_analyzer - INFO - Strategy 1: Exact make + model + year range matching...
2025-06-26 21:03:11,706 - src.analysis.profitability_analyzer - INFO - Exact matches found: 1
2025-06-26 21:03:11,706 - src.analysis.profitability_analyzer - INFO - Strategy 2: Make + year range matching...
2025-06-26 21:03:11,719 - src.analysis.profitability_analyzer - INFO - Make+year matches found: 3
2025-06-26 21:03:11,721 - src.analysis.profitability_analyzer - INFO - Total unique matches: 3
2025-06-26 21:03:11,722 - src.analysis.profitability_analyzer - INFO - Created 3 vehicle matches
2025-06-26 21:03:11,722 - src.analysis.profitability_analyzer - INFO - Calculating profitability for 3 matches
2025-06-26 21:03:11,731 - src.analysis.profitability_analyzer - INFO - Profitability filtering: 3 -> 3 opportunities
2025-06-26 21:03:11,731 - src.analysis.profitability_analyzer - INFO - Found 3 profitable opportunities
2025-06-26 21:03:11,743 - src.analysis.profitability_analyzer - INFO - Profitability analysis completed for 3 vehicle combinations
2025-06-26 21:03:11,744 - src.dashboard.app - INFO - Generating investment scores...
2025-06-26 21:03:11,744 - src.analysis.scoring_engine - INFO - Calculating vehicle scores
2025-06-26 21:03:11,765 - src.analysis.scoring_engine - INFO - Scoring completed for 3 vehicles
2025-06-26 21:03:11,793 - src.dashboard.app - INFO - Analysis completed: 3 opportunities
2025-06-26 21:03:11,793 - werkzeug - INFO - 127.0.0.1 - - [26/Jun/2025 21:03:11] "POST /api/run-analysis HTTP/1.1" 200 -
2025-06-26 21:03:12,813 - src.dashboard.app - INFO - API summary endpoint called
2025-06-26 21:03:12,813 - src.dashboard.app - INFO - Top vehicles endpoint called with limit: 20
2025-06-26 21:03:12,813 - src.dashboard.app - INFO - Market trends endpoint called
2025-06-26 21:03:12,813 - src.dashboard.app - INFO - Market summary retrieved: True
2025-06-26 21:03:12,813 - src.database.database_manager - INFO - Retrieved 18 analysis results
2025-06-26 21:03:12,825 - src.dashboard.app - INFO - Generated recommendations for 18 vehicles
2025-06-26 21:03:12,827 - werkzeug - INFO - 127.0.0.1 - - [26/Jun/2025 21:03:12] "GET /api/top-vehicles?limit=20 HTTP/1.1" 200 -
2025-06-26 21:03:12,828 - src.database.database_manager - INFO - Retrieved 10 analysis results
2025-06-26 21:03:12,829 - src.dashboard.app - INFO - Analysis results count: 10
2025-06-26 21:03:12,831 - src.dashboard.app - INFO - Database stats: {'uk_market_data': 699, 'japan_auction_data': 100, 'government_data': 0, 'analysis_results': 18, 'database_size_mb': 0.48}
2025-06-26 21:03:12,832 - src.dashboard.app - INFO - Summary prepared with 5 opportunities
2025-06-26 21:03:12,832 - werkzeug - INFO - 127.0.0.1 - - [26/Jun/2025 21:03:12] "GET /api/summary HTTP/1.1" 200 -
2025-06-26 21:03:12,838 - src.database.database_manager - INFO - Retrieved 699 UK market records
2025-06-26 21:03:12,841 - src.database.database_manager - INFO - Retrieved 100 Japan auction records
2025-06-26 21:03:12,845 - werkzeug - INFO - 127.0.0.1 - - [26/Jun/2025 21:03:12] "GET /api/market-trends HTTP/1.1" 200 -
2025-06-26 21:21:32,319 - src.database.database_manager - INFO - Database manager initialized with path: database/vehicle_import.db
2025-06-26 21:21:32,320 - src.data_collectors.manual_data_importer - INFO - Fixed manual data importer initialized
2025-06-26 21:21:32,320 - src.analysis.profitability_analyzer - INFO - Profitability analyzer initialized
2025-06-26 21:21:32,321 - src.analysis.scoring_engine - INFO - Scoring engine initialized
2025-06-26 21:21:32,321 - __main__ - INFO - Vehicle Import Analyzer initialized (Manual Import Only)
2025-06-26 21:21:32,321 - __main__ - INFO - Starting Vehicle Import Analyzer (Manual Import Mode)
2025-06-26 21:21:32,321 - src.database.database_manager - INFO - Initializing database tables with FIXED schema
2025-06-26 21:21:32,326 - __main__ - INFO - Starting manual data collection
2025-06-26 21:21:32,326 - __main__ - INFO - Importing UK market data from files...
2025-06-26 21:21:32,327 - __main__ - ERROR - Error during data collection: 'ManualDataImporter' object has no attribute 'import_uk_data_batch'
2025-06-26 21:21:32,335 - src.database.database_manager - INFO - Retrieved 699 UK market records
2025-06-26 21:21:32,339 - src.database.database_manager - INFO - Retrieved 100 Japan auction records
2025-06-26 21:21:32,339 - __main__ - INFO - Starting analysis cycle
2025-06-26 21:21:32,346 - src.database.database_manager - INFO - Retrieved 699 UK market records
2025-06-26 21:21:32,349 - src.database.database_manager - INFO - Retrieved 100 Japan auction records
2025-06-26 21:21:32,350 - __main__ - INFO - Analyzing 699 UK records and 100 Japan records
2025-06-26 21:21:32,350 - src.analysis.profitability_analyzer - INFO - Starting profitability analysis
2025-06-26 21:21:32,350 - src.analysis.profitability_analyzer - INFO - Input data - UK: 699 records, Japan: 100 records
2025-06-26 21:21:32,356 - src.analysis.profitability_analyzer - INFO - UK data cleaned: 699 records
2025-06-26 21:21:32,361 - src.analysis.profitability_analyzer - INFO - Japan data cleaned: 100 records
2025-06-26 21:21:32,361 - src.analysis.profitability_analyzer - INFO - Cleaned data - UK: 699 records, Japan: 100 records
2025-06-26 21:21:32,361 - src.analysis.profitability_analyzer - INFO - Starting comprehensive vehicle matching...
2025-06-26 21:21:32,361 - src.analysis.profitability_analyzer - INFO - Strategy 1: Exact make + model + year range matching...
2025-06-26 21:21:32,374 - src.analysis.profitability_analyzer - INFO - Exact matches found: 1
2025-06-26 21:21:32,375 - src.analysis.profitability_analyzer - INFO - Strategy 2: Make + year range matching...
2025-06-26 21:21:32,388 - src.analysis.profitability_analyzer - INFO - Make+year matches found: 3
2025-06-26 21:21:32,391 - src.analysis.profitability_analyzer - INFO - Total unique matches: 3
2025-06-26 21:21:32,391 - src.analysis.profitability_analyzer - INFO - Created 3 vehicle matches
2025-06-26 21:21:32,391 - src.analysis.profitability_analyzer - INFO - Calculating profitability for 3 matches
2025-06-26 21:21:32,399 - src.analysis.profitability_analyzer - INFO - Profitability filtering: 3 -> 3 opportunities
2025-06-26 21:21:32,400 - src.analysis.profitability_analyzer - INFO - Found 3 profitable opportunities
2025-06-26 21:21:32,412 - src.analysis.profitability_analyzer - INFO - Profitability analysis completed for 3 vehicle combinations
2025-06-26 21:21:32,412 - src.analysis.scoring_engine - INFO - Calculating vehicle scores
2025-06-26 21:21:32,433 - src.analysis.scoring_engine - INFO - Scoring completed for 3 vehicles
2025-06-26 21:21:32,460 - __main__ - INFO - Analysis completed successfully - 3 opportunities analyzed
2025-06-26 21:21:32,460 - __main__ - INFO - Top 5 opportunities:
2025-06-26 21:21:32,461 - __main__ - INFO -   1. Toyota Prius - Score: 71.0, Margin: 54.1%, Profit: £10,000
2025-06-26 21:21:32,461 - __main__ - INFO -   2. Honda Civic - Score: 70.7, Margin: 52.8%, Profit: £8,561
2025-06-26 21:21:32,461 - __main__ - INFO -   3. Nissan Qashqai - Score: 69.7, Margin: 68.4%, Profit: £10,802
2025-06-26 21:21:32,463 - src.analysis.scoring_engine - INFO - Scoring engine initialized
2025-06-26 21:21:32,467 - __main__ - INFO - Starting dashboard server on http://localhost:5000
2025-06-26 21:21:32,467 - __main__ - INFO - Dashboard features:
2025-06-26 21:21:32,467 - __main__ - INFO -   - Upload UK vehicle data (CSV/Excel)
2025-06-26 21:21:32,467 - __main__ - INFO -   - Upload Japan auction data (CSV/Excel)
2025-06-26 21:21:32,468 - __main__ - INFO -   - Run profitability analysis
2025-06-26 21:21:32,468 - __main__ - INFO -   - View opportunity rankings
2025-06-26 21:21:32,468 - __main__ - INFO -   - Portfolio optimization
2025-06-26 21:21:32,468 - __main__ - INFO -   - Export results to Excel
2025-06-26 21:21:33,417 - werkzeug - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://192.168.1.143:5000
2025-06-26 21:21:33,419 - werkzeug - INFO - [33mPress CTRL+C to quit[0m
2025-06-26 21:21:35,768 - src.dashboard.app - INFO - Dashboard page requested
2025-06-26 21:21:35,804 - werkzeug - INFO - 127.0.0.1 - - [26/Jun/2025 21:21:35] "GET / HTTP/1.1" 200 -
2025-06-26 21:40:00,098 - src.database.database_manager - INFO - Database manager initialized with path: database/vehicle_import.db
2025-06-26 21:40:00,099 - src.data_collectors.manual_data_importer - INFO - Fixed manual data importer initialized
2025-06-26 21:40:00,099 - src.analysis.profitability_analyzer - INFO - Profitability analyzer initialized
2025-06-26 21:40:00,099 - src.analysis.scoring_engine - INFO - Scoring engine initialized
2025-06-26 21:40:00,099 - __main__ - INFO - Vehicle Import Analyzer initialized (Manual Import Only)
2025-06-26 21:40:00,100 - __main__ - INFO - Starting Vehicle Import Analyzer (Manual Import Mode)
2025-06-26 21:40:00,100 - src.database.database_manager - INFO - Initializing database tables with FIXED schema
2025-06-26 21:40:00,106 - __main__ - INFO - Starting manual data collection
2025-06-26 21:40:00,106 - __main__ - INFO - Importing UK market data from files...
2025-06-26 21:40:00,106 - __main__ - ERROR - Error during data collection: 'ManualDataImporter' object has no attribute 'import_uk_data_batch'
2025-06-26 21:40:00,114 - src.database.database_manager - INFO - Retrieved 699 UK market records
2025-06-26 21:40:00,118 - src.database.database_manager - INFO - Retrieved 100 Japan auction records
2025-06-26 21:40:00,119 - __main__ - INFO - Starting analysis cycle
2025-06-26 21:40:00,126 - src.database.database_manager - INFO - Retrieved 699 UK market records
2025-06-26 21:40:00,129 - src.database.database_manager - INFO - Retrieved 100 Japan auction records
2025-06-26 21:40:00,130 - __main__ - INFO - Analyzing 699 UK records and 100 Japan records
2025-06-26 21:40:00,130 - src.analysis.profitability_analyzer - INFO - Starting profitability analysis
2025-06-26 21:40:00,130 - src.analysis.profitability_analyzer - INFO - Input data - UK: 699 records, Japan: 100 records
2025-06-26 21:40:00,136 - src.analysis.profitability_analyzer - INFO - UK data cleaned: 699 records
2025-06-26 21:40:00,140 - src.analysis.profitability_analyzer - INFO - Japan data cleaned: 100 records
2025-06-26 21:40:00,141 - src.analysis.profitability_analyzer - INFO - Cleaned data - UK: 699 records, Japan: 100 records
2025-06-26 21:40:00,141 - src.analysis.profitability_analyzer - INFO - Starting comprehensive vehicle matching...
2025-06-26 21:40:00,141 - src.analysis.profitability_analyzer - INFO - Strategy 1: Exact make + model + year range matching...
2025-06-26 21:40:00,155 - src.analysis.profitability_analyzer - INFO - Exact matches found: 1
2025-06-26 21:40:00,155 - src.analysis.profitability_analyzer - INFO - Strategy 2: Make + year range matching...
2025-06-26 21:40:00,168 - src.analysis.profitability_analyzer - INFO - Make+year matches found: 3
2025-06-26 21:40:00,170 - src.analysis.profitability_analyzer - INFO - Total unique matches: 3
2025-06-26 21:40:00,170 - src.analysis.profitability_analyzer - INFO - Created 3 vehicle matches
2025-06-26 21:40:00,171 - src.analysis.profitability_analyzer - INFO - Calculating profitability for 3 matches
2025-06-26 21:40:00,179 - src.analysis.profitability_analyzer - INFO - Profitability filtering: 3 -> 3 opportunities
2025-06-26 21:40:00,179 - src.analysis.profitability_analyzer - INFO - Found 3 profitable opportunities
2025-06-26 21:40:00,191 - src.analysis.profitability_analyzer - INFO - Profitability analysis completed for 3 vehicle combinations
2025-06-26 21:40:00,191 - src.analysis.scoring_engine - INFO - Calculating vehicle scores
2025-06-26 21:40:00,213 - src.analysis.scoring_engine - INFO - Scoring completed for 3 vehicles
2025-06-26 21:40:00,242 - __main__ - INFO - Analysis completed successfully - 3 opportunities analyzed
2025-06-26 21:40:00,243 - __main__ - INFO - Top 5 opportunities:
2025-06-26 21:40:00,243 - __main__ - INFO -   1. Toyota Prius - Score: 71.0, Margin: 54.1%, Profit: £10,000
2025-06-26 21:40:00,244 - __main__ - INFO -   2. Honda Civic - Score: 70.7, Margin: 52.8%, Profit: £8,561
2025-06-26 21:40:00,244 - __main__ - INFO -   3. Nissan Qashqai - Score: 69.7, Margin: 68.4%, Profit: £10,802
2025-06-26 21:40:00,246 - src.analysis.scoring_engine - INFO - Scoring engine initialized
2025-06-26 21:40:00,250 - __main__ - INFO - Starting dashboard server on http://localhost:5000
2025-06-26 21:40:00,251 - __main__ - INFO - Dashboard features:
2025-06-26 21:40:00,251 - __main__ - INFO -   - Upload UK vehicle data (CSV/Excel)
2025-06-26 21:40:00,251 - __main__ - INFO -   - Upload Japan auction data (CSV/Excel)
2025-06-26 21:40:00,252 - __main__ - INFO -   - Run profitability analysis
2025-06-26 21:40:00,252 - __main__ - INFO -   - View opportunity rankings
2025-06-26 21:40:00,252 - __main__ - INFO -   - Portfolio optimization
2025-06-26 21:40:00,252 - __main__ - INFO -   - Export results to Excel
2025-06-26 21:40:01,106 - werkzeug - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://192.168.1.143:5000
2025-06-26 21:40:01,107 - werkzeug - INFO - [33mPress CTRL+C to quit[0m
2025-06-26 21:40:02,447 - src.dashboard.app - INFO - Dashboard page requested
2025-06-26 21:40:02,509 - werkzeug - INFO - 127.0.0.1 - - [26/Jun/2025 21:40:02] "GET / HTTP/1.1" 200 -
2025-06-26 21:46:52,353 - src.database.database_manager - INFO - Database manager initialized with path: database/vehicle_import.db
2025-06-26 21:46:52,361 - src.data_collectors.manual_data_importer - INFO - Fixed manual data importer initialized
2025-06-26 21:46:52,362 - src.analysis.profitability_analyzer - INFO - Profitability analyzer initialized
2025-06-26 21:46:52,362 - src.analysis.scoring_engine - INFO - Scoring engine initialized
2025-06-26 21:46:52,362 - __main__ - INFO - Vehicle Import Analyzer initialized (Manual Import Only)
2025-06-26 21:46:52,363 - __main__ - INFO - Starting Vehicle Import Analyzer (Manual Import Mode)
2025-06-26 21:46:52,363 - src.database.database_manager - INFO - Initializing database tables with FIXED schema
2025-06-26 21:46:52,375 - __main__ - INFO - Starting manual data collection
2025-06-26 21:46:52,375 - __main__ - INFO - Importing UK market data from files...
2025-06-26 21:46:52,375 - __main__ - ERROR - Error during data collection: 'ManualDataImporter' object has no attribute 'import_uk_data_batch'
2025-06-26 21:46:52,389 - src.database.database_manager - INFO - Retrieved 699 UK market records
2025-06-26 21:46:52,395 - src.database.database_manager - INFO - Retrieved 100 Japan auction records
2025-06-26 21:46:52,400 - __main__ - INFO - Starting analysis cycle
2025-06-26 21:46:52,410 - src.database.database_manager - INFO - Retrieved 699 UK market records
2025-06-26 21:46:52,416 - src.database.database_manager - INFO - Retrieved 100 Japan auction records
2025-06-26 21:46:52,417 - __main__ - INFO - Analyzing 699 UK records and 100 Japan records
2025-06-26 21:46:52,417 - src.analysis.profitability_analyzer - INFO - Starting profitability analysis
2025-06-26 21:46:52,418 - src.analysis.profitability_analyzer - INFO - Input data - UK: 699 records, Japan: 100 records
2025-06-26 21:46:52,431 - src.analysis.profitability_analyzer - INFO - UK data cleaned: 699 records
2025-06-26 21:46:52,439 - src.analysis.profitability_analyzer - INFO - Japan data cleaned: 100 records
2025-06-26 21:46:52,439 - src.analysis.profitability_analyzer - INFO - Cleaned data - UK: 699 records, Japan: 100 records
2025-06-26 21:46:52,440 - src.analysis.profitability_analyzer - INFO - Starting comprehensive vehicle matching...
2025-06-26 21:46:52,440 - src.analysis.profitability_analyzer - INFO - Strategy 1: Exact make + model + year range matching...
2025-06-26 21:46:52,456 - src.analysis.profitability_analyzer - INFO - Exact matches found: 1
2025-06-26 21:46:52,462 - src.analysis.profitability_analyzer - INFO - Strategy 2: Make + year range matching...
2025-06-26 21:46:52,486 - src.analysis.profitability_analyzer - INFO - Make+year matches found: 3
2025-06-26 21:46:52,490 - src.analysis.profitability_analyzer - INFO - Total unique matches: 3
2025-06-26 21:46:52,490 - src.analysis.profitability_analyzer - INFO - Created 3 vehicle matches
2025-06-26 21:46:52,491 - src.analysis.profitability_analyzer - INFO - Calculating profitability for 3 matches
2025-06-26 21:46:52,505 - src.analysis.profitability_analyzer - INFO - Profitability filtering: 3 -> 3 opportunities
2025-06-26 21:46:52,505 - src.analysis.profitability_analyzer - INFO - Found 3 profitable opportunities
2025-06-26 21:46:52,523 - src.analysis.profitability_analyzer - INFO - Profitability analysis completed for 3 vehicle combinations
2025-06-26 21:46:52,523 - src.analysis.scoring_engine - INFO - Calculating vehicle scores
2025-06-26 21:46:52,551 - src.analysis.scoring_engine - INFO - Scoring completed for 3 vehicles
2025-06-26 21:46:52,579 - __main__ - INFO - Analysis completed successfully - 3 opportunities analyzed
2025-06-26 21:46:52,580 - __main__ - INFO - Top 5 opportunities:
2025-06-26 21:46:52,581 - __main__ - INFO -   1. Toyota Prius - Score: 71.0, Margin: 54.1%, Profit: £10,000
2025-06-26 21:46:52,581 - __main__ - INFO -   2. Honda Civic - Score: 70.7, Margin: 52.8%, Profit: £8,561
2025-06-26 21:46:52,582 - __main__ - INFO -   3. Nissan Qashqai - Score: 69.7, Margin: 68.4%, Profit: £10,802
2025-06-26 21:46:52,582 - src.analysis.scoring_engine - INFO - Scoring engine initialized
2025-06-26 21:46:52,590 - __main__ - INFO - Starting dashboard server on http://localhost:5000
2025-06-26 21:46:52,590 - __main__ - INFO - Dashboard features:
2025-06-26 21:46:52,591 - __main__ - INFO -   - Upload UK vehicle data (CSV/Excel)
2025-06-26 21:46:52,591 - __main__ - INFO -   - Upload Japan auction data (CSV/Excel)
2025-06-26 21:46:52,591 - __main__ - INFO -   - Run profitability analysis
2025-06-26 21:46:52,592 - __main__ - INFO -   - View opportunity rankings
2025-06-26 21:46:52,592 - __main__ - INFO -   - Portfolio optimization
2025-06-26 21:46:52,592 - __main__ - INFO -   - Export results to Excel
2025-06-26 21:46:53,504 - werkzeug - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://192.168.1.143:5000
2025-06-26 21:46:53,504 - werkzeug - INFO - [33mPress CTRL+C to quit[0m
2025-06-26 21:46:53,909 - src.dashboard.app - INFO - Dashboard page requested
2025-06-26 21:46:53,955 - werkzeug - INFO - 127.0.0.1 - - [26/Jun/2025 21:46:53] "GET / HTTP/1.1" 200 -
2025-06-26 21:47:28,726 - src.dashboard.app - INFO - Dashboard page requested
2025-06-26 21:47:28,726 - werkzeug - INFO - 127.0.0.1 - - [26/Jun/2025 21:47:28] "GET / HTTP/1.1" 200 -
2025-06-26 21:54:06,635 - src.database.database_manager - INFO - Database manager initialized with path: database/vehicle_import.db
2025-06-26 21:54:06,636 - src.data_collectors.manual_data_importer - INFO - Fixed manual data importer initialized
2025-06-26 21:54:06,637 - src.analysis.profitability_analyzer - INFO - Profitability analyzer initialized
2025-06-26 21:54:06,637 - src.analysis.scoring_engine - INFO - Scoring engine initialized
2025-06-26 21:54:06,637 - __main__ - INFO - Vehicle Import Analyzer initialized (Manual Import Only)
2025-06-26 21:54:06,637 - __main__ - INFO - Starting Vehicle Import Analyzer (Manual Import Mode)
2025-06-26 21:54:06,638 - src.database.database_manager - INFO - Initializing database tables with FIXED schema
2025-06-26 21:54:06,644 - __main__ - INFO - Starting manual data collection
2025-06-26 21:54:06,645 - __main__ - INFO - Importing UK market data from files...
2025-06-26 21:54:06,645 - __main__ - ERROR - Error during data collection: 'ManualDataImporter' object has no attribute 'import_uk_data_batch'
2025-06-26 21:54:06,652 - src.database.database_manager - INFO - Retrieved 699 UK market records
2025-06-26 21:54:06,656 - src.database.database_manager - INFO - Retrieved 100 Japan auction records
2025-06-26 21:54:06,657 - __main__ - INFO - Starting analysis cycle
2025-06-26 21:54:06,663 - src.database.database_manager - INFO - Retrieved 699 UK market records
2025-06-26 21:54:06,667 - src.database.database_manager - INFO - Retrieved 100 Japan auction records
2025-06-26 21:54:06,667 - __main__ - INFO - Analyzing 699 UK records and 100 Japan records
2025-06-26 21:54:06,668 - src.analysis.profitability_analyzer - INFO - Starting profitability analysis
2025-06-26 21:54:06,668 - src.analysis.profitability_analyzer - INFO - Input data - UK: 699 records, Japan: 100 records
2025-06-26 21:54:06,674 - src.analysis.profitability_analyzer - INFO - UK data cleaned: 699 records
2025-06-26 21:54:06,680 - src.analysis.profitability_analyzer - INFO - Japan data cleaned: 100 records
2025-06-26 21:54:06,680 - src.analysis.profitability_analyzer - INFO - Cleaned data - UK: 699 records, Japan: 100 records
2025-06-26 21:54:06,681 - src.analysis.profitability_analyzer - INFO - Starting comprehensive vehicle matching...
2025-06-26 21:54:06,681 - src.analysis.profitability_analyzer - INFO - Strategy 1: Exact make + model + year range matching...
2025-06-26 21:54:06,694 - src.analysis.profitability_analyzer - INFO - Exact matches found: 1
2025-06-26 21:54:06,694 - src.analysis.profitability_analyzer - INFO - Strategy 2: Make + year range matching...
2025-06-26 21:54:06,707 - src.analysis.profitability_analyzer - INFO - Make+year matches found: 3
2025-06-26 21:54:06,709 - src.analysis.profitability_analyzer - INFO - Total unique matches: 3
2025-06-26 21:54:06,710 - src.analysis.profitability_analyzer - INFO - Created 3 vehicle matches
2025-06-26 21:54:06,710 - src.analysis.profitability_analyzer - INFO - Calculating profitability for 3 matches
2025-06-26 21:54:06,718 - src.analysis.profitability_analyzer - INFO - Profitability filtering: 3 -> 3 opportunities
2025-06-26 21:54:06,719 - src.analysis.profitability_analyzer - INFO - Found 3 profitable opportunities
2025-06-26 21:54:06,729 - src.analysis.profitability_analyzer - INFO - Profitability analysis completed for 3 vehicle combinations
2025-06-26 21:54:06,730 - src.analysis.scoring_engine - INFO - Calculating vehicle scores
2025-06-26 21:54:06,751 - src.analysis.scoring_engine - INFO - Scoring completed for 3 vehicles
2025-06-26 21:54:06,784 - __main__ - INFO - Analysis completed successfully - 3 opportunities analyzed
2025-06-26 21:54:06,784 - __main__ - INFO - Top 5 opportunities:
2025-06-26 21:54:06,785 - __main__ - INFO -   1. Toyota Prius - Score: 71.0, Margin: 54.1%, Profit: £10,000
2025-06-26 21:54:06,785 - __main__ - INFO -   2. Honda Civic - Score: 70.7, Margin: 52.8%, Profit: £8,561
2025-06-26 21:54:06,786 - __main__ - INFO -   3. Nissan Qashqai - Score: 69.7, Margin: 68.4%, Profit: £10,802
2025-06-26 21:54:06,787 - src.analysis.scoring_engine - INFO - Scoring engine initialized
2025-06-26 21:54:06,792 - __main__ - INFO - Starting dashboard server on http://localhost:5000
2025-06-26 21:54:06,792 - __main__ - INFO - Dashboard features:
2025-06-26 21:54:06,792 - __main__ - INFO -   - Upload UK vehicle data (CSV/Excel)
2025-06-26 21:54:06,793 - __main__ - INFO -   - Upload Japan auction data (CSV/Excel)
2025-06-26 21:54:06,793 - __main__ - INFO -   - Run profitability analysis
2025-06-26 21:54:06,793 - __main__ - INFO -   - View opportunity rankings
2025-06-26 21:54:06,793 - __main__ - INFO -   - Portfolio optimization
2025-06-26 21:54:06,794 - __main__ - INFO -   - Export results to Excel
2025-06-26 21:54:07,636 - werkzeug - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://192.168.1.143:5000
2025-06-26 21:54:07,637 - werkzeug - INFO - [33mPress CTRL+C to quit[0m
2025-06-26 21:54:09,151 - src.dashboard.app - INFO - Dashboard page requested
2025-06-26 21:54:09,216 - werkzeug - INFO - 127.0.0.1 - - [26/Jun/2025 21:54:09] "GET / HTTP/1.1" 200 -
2025-06-26 21:55:08,890 - src.dashboard.app - INFO - Dashboard page requested
2025-06-26 21:55:08,891 - werkzeug - INFO - 127.0.0.1 - - [26/Jun/2025 21:55:08] "GET / HTTP/1.1" 200 -
2025-06-26 21:55:40,230 - src.database.database_manager - INFO - Database manager initialized with path: database/vehicle_import.db
2025-06-26 21:55:40,231 - src.data_collectors.manual_data_importer - INFO - Fixed manual data importer initialized
2025-06-26 21:55:40,232 - src.analysis.profitability_analyzer - INFO - Profitability analyzer initialized
2025-06-26 21:55:40,232 - src.analysis.scoring_engine - INFO - Scoring engine initialized
2025-06-26 21:55:40,232 - __main__ - INFO - Vehicle Import Analyzer initialized (Manual Import Only)
2025-06-26 21:55:40,232 - __main__ - INFO - Starting Vehicle Import Analyzer (Manual Import Mode)
2025-06-26 21:55:40,232 - src.database.database_manager - INFO - Initializing database tables with FIXED schema
2025-06-26 21:55:40,238 - __main__ - INFO - Starting manual data collection
2025-06-26 21:55:40,238 - __main__ - INFO - Importing UK market data from files...
2025-06-26 21:55:40,238 - __main__ - ERROR - Error during data collection: 'ManualDataImporter' object has no attribute 'import_uk_data_batch'
2025-06-26 21:55:40,246 - src.database.database_manager - INFO - Retrieved 699 UK market records
2025-06-26 21:55:40,250 - src.database.database_manager - INFO - Retrieved 100 Japan auction records
2025-06-26 21:55:40,250 - __main__ - INFO - Starting analysis cycle
2025-06-26 21:55:40,257 - src.database.database_manager - INFO - Retrieved 699 UK market records
2025-06-26 21:55:40,260 - src.database.database_manager - INFO - Retrieved 100 Japan auction records
2025-06-26 21:55:40,260 - __main__ - INFO - Analyzing 699 UK records and 100 Japan records
2025-06-26 21:55:40,261 - src.analysis.profitability_analyzer - INFO - Starting profitability analysis
2025-06-26 21:55:40,261 - src.analysis.profitability_analyzer - INFO - Input data - UK: 699 records, Japan: 100 records
2025-06-26 21:55:40,264 - src.analysis.profitability_analyzer - INFO - UK data cleaned: 699 records
2025-06-26 21:55:40,271 - src.analysis.profitability_analyzer - INFO - Japan data cleaned: 100 records
2025-06-26 21:55:40,272 - src.analysis.profitability_analyzer - INFO - Cleaned data - UK: 699 records, Japan: 100 records
2025-06-26 21:55:40,272 - src.analysis.profitability_analyzer - INFO - Starting comprehensive vehicle matching...
2025-06-26 21:55:40,272 - src.analysis.profitability_analyzer - INFO - Strategy 1: Exact make + model + year range matching...
2025-06-26 21:55:40,285 - src.analysis.profitability_analyzer - INFO - Exact matches found: 1
2025-06-26 21:55:40,285 - src.analysis.profitability_analyzer - INFO - Strategy 2: Make + year range matching...
2025-06-26 21:55:40,297 - src.analysis.profitability_analyzer - INFO - Make+year matches found: 3
2025-06-26 21:55:40,299 - src.analysis.profitability_analyzer - INFO - Total unique matches: 3
2025-06-26 21:55:40,299 - src.analysis.profitability_analyzer - INFO - Created 3 vehicle matches
2025-06-26 21:55:40,299 - src.analysis.profitability_analyzer - INFO - Calculating profitability for 3 matches
2025-06-26 21:55:40,309 - src.analysis.profitability_analyzer - INFO - Profitability filtering: 3 -> 3 opportunities
2025-06-26 21:55:40,310 - src.analysis.profitability_analyzer - INFO - Found 3 profitable opportunities
2025-06-26 21:55:40,321 - src.analysis.profitability_analyzer - INFO - Profitability analysis completed for 3 vehicle combinations
2025-06-26 21:55:40,322 - src.analysis.scoring_engine - INFO - Calculating vehicle scores
2025-06-26 21:55:40,343 - src.analysis.scoring_engine - INFO - Scoring completed for 3 vehicles
2025-06-26 21:55:40,361 - __main__ - INFO - Analysis completed successfully - 3 opportunities analyzed
2025-06-26 21:55:40,361 - __main__ - INFO - Top 5 opportunities:
2025-06-26 21:55:40,361 - __main__ - INFO -   1. Toyota Prius - Score: 71.0, Margin: 54.1%, Profit: £10,000
2025-06-26 21:55:40,361 - __main__ - INFO -   2. Honda Civic - Score: 70.7, Margin: 52.8%, Profit: £8,561
2025-06-26 21:55:40,361 - __main__ - INFO -   3. Nissan Qashqai - Score: 69.7, Margin: 68.4%, Profit: £10,802
2025-06-26 21:55:40,366 - src.analysis.scoring_engine - INFO - Scoring engine initialized
2025-06-26 21:55:40,370 - __main__ - INFO - Starting dashboard server on http://localhost:5000
2025-06-26 21:55:40,371 - __main__ - INFO - Dashboard features:
2025-06-26 21:55:40,371 - __main__ - INFO -   - Upload UK vehicle data (CSV/Excel)
2025-06-26 21:55:40,371 - __main__ - INFO -   - Upload Japan auction data (CSV/Excel)
2025-06-26 21:55:40,371 - __main__ - INFO -   - Run profitability analysis
2025-06-26 21:55:40,372 - __main__ - INFO -   - View opportunity rankings
2025-06-26 21:55:40,373 - __main__ - INFO -   - Portfolio optimization
2025-06-26 21:55:40,373 - __main__ - INFO -   - Export results to Excel
2025-06-26 21:55:41,216 - werkzeug - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://192.168.1.143:5000
2025-06-26 21:55:41,216 - werkzeug - INFO - [33mPress CTRL+C to quit[0m
2025-06-26 21:55:42,391 - src.dashboard.app - INFO - Dashboard page requested
2025-06-26 21:55:42,408 - werkzeug - INFO - 127.0.0.1 - - [26/Jun/2025 21:55:42] "GET / HTTP/1.1" 200 -
2025-06-26 21:55:42,468 - src.dashboard.app - INFO - API summary endpoint called
2025-06-26 21:55:42,469 - src.dashboard.app - INFO - Data status requested
2025-06-26 21:55:42,470 - src.dashboard.app - INFO - Top vehicles endpoint called with limit: 20
2025-06-26 21:55:42,471 - src.dashboard.app - INFO - Market trends endpoint called
2025-06-26 21:55:42,474 - src.dashboard.app - INFO - Market summary retrieved: True
2025-06-26 21:55:42,486 - src.database.database_manager - INFO - Retrieved 20 analysis results
2025-06-26 21:55:42,490 - src.database.database_manager - INFO - Retrieved 10 analysis results
2025-06-26 21:55:42,496 - src.dashboard.app - INFO - Analysis results count: 10
2025-06-26 21:55:42,497 - src.dashboard.app - INFO - Generated recommendations for 20 vehicles
2025-06-26 21:55:42,500 - werkzeug - INFO - 127.0.0.1 - - [26/Jun/2025 21:55:42] "GET /api/top-vehicles?limit=20 HTTP/1.1" 200 -
2025-06-26 21:55:42,503 - src.dashboard.app - INFO - Database stats: {'uk_market_data': 699, 'japan_auction_data': 100, 'government_data': 0, 'analysis_results': 33, 'database_size_mb': 0.49}
2025-06-26 21:55:42,504 - src.dashboard.app - INFO - Summary prepared with 5 opportunities
2025-06-26 21:55:42,505 - werkzeug - INFO - 127.0.0.1 - - [26/Jun/2025 21:55:42] "GET /api/summary HTTP/1.1" 200 -
2025-06-26 21:55:42,529 - src.database.database_manager - INFO - Retrieved 699 UK market records
2025-06-26 21:55:42,533 - src.database.database_manager - INFO - Retrieved 699 UK market records
2025-06-26 21:55:42,539 - src.database.database_manager - INFO - Retrieved 100 Japan auction records
2025-06-26 21:55:42,544 - src.database.database_manager - INFO - Retrieved 100 Japan auction records
2025-06-26 21:55:42,551 - werkzeug - INFO - 127.0.0.1 - - [26/Jun/2025 21:55:42] "GET /api/market-trends HTTP/1.1" 200 -
2025-06-26 21:55:42,556 - src.database.database_manager - INFO - Retrieved 33 analysis results
2025-06-26 21:55:42,558 - werkzeug - INFO - 127.0.0.1 - - [26/Jun/2025 21:55:42] "GET /api/data-status HTTP/1.1" 200 -
2025-06-26 21:55:59,463 - src.dashboard.app - INFO - Analysis run requested
2025-06-26 21:55:59,470 - src.database.database_manager - INFO - Retrieved 699 UK market records
2025-06-26 21:55:59,474 - src.database.database_manager - INFO - Retrieved 100 Japan auction records
2025-06-26 21:55:59,475 - src.analysis.profitability_analyzer - INFO - Profitability analyzer initialized
2025-06-26 21:55:59,475 - src.dashboard.app - INFO - Running profitability analysis...
2025-06-26 21:55:59,475 - src.analysis.profitability_analyzer - INFO - Starting profitability analysis
2025-06-26 21:55:59,475 - src.analysis.profitability_analyzer - INFO - Input data - UK: 699 records, Japan: 100 records
2025-06-26 21:55:59,480 - src.analysis.profitability_analyzer - INFO - UK data cleaned: 699 records
2025-06-26 21:55:59,486 - src.analysis.profitability_analyzer - INFO - Japan data cleaned: 100 records
2025-06-26 21:55:59,487 - src.analysis.profitability_analyzer - INFO - Cleaned data - UK: 699 records, Japan: 100 records
2025-06-26 21:55:59,487 - src.analysis.profitability_analyzer - INFO - Starting comprehensive vehicle matching...
2025-06-26 21:55:59,487 - src.analysis.profitability_analyzer - INFO - Strategy 1: Exact make + model + year range matching...
2025-06-26 21:55:59,500 - src.analysis.profitability_analyzer - INFO - Exact matches found: 1
2025-06-26 21:55:59,507 - src.analysis.profitability_analyzer - INFO - Strategy 2: Make + year range matching...
2025-06-26 21:55:59,519 - src.analysis.profitability_analyzer - INFO - Make+year matches found: 3
2025-06-26 21:55:59,521 - src.analysis.profitability_analyzer - INFO - Total unique matches: 3
2025-06-26 21:55:59,522 - src.analysis.profitability_analyzer - INFO - Created 3 vehicle matches
2025-06-26 21:55:59,522 - src.analysis.profitability_analyzer - INFO - Calculating profitability for 3 matches
2025-06-26 21:55:59,530 - src.analysis.profitability_analyzer - INFO - Profitability filtering: 3 -> 3 opportunities
2025-06-26 21:55:59,530 - src.analysis.profitability_analyzer - INFO - Found 3 profitable opportunities
2025-06-26 21:55:59,541 - src.analysis.profitability_analyzer - INFO - Profitability analysis completed for 3 vehicle combinations
2025-06-26 21:55:59,541 - src.dashboard.app - INFO - Generating investment scores...
2025-06-26 21:55:59,541 - src.analysis.scoring_engine - INFO - Calculating vehicle scores
2025-06-26 21:55:59,562 - src.analysis.scoring_engine - INFO - Scoring completed for 3 vehicles
2025-06-26 21:55:59,591 - src.dashboard.app - INFO - Analysis completed: 3 opportunities
2025-06-26 21:55:59,591 - werkzeug - INFO - 127.0.0.1 - - [26/Jun/2025 21:55:59] "POST /api/run-analysis HTTP/1.1" 200 -
2025-06-26 21:56:00,596 - src.dashboard.app - INFO - API summary endpoint called
2025-06-26 21:56:00,596 - src.dashboard.app - INFO - Top vehicles endpoint called with limit: 20
2025-06-26 21:56:00,596 - src.dashboard.app - INFO - Market trends endpoint called
2025-06-26 21:56:00,602 - src.database.database_manager - INFO - Retrieved 20 analysis results
2025-06-26 21:56:00,602 - src.dashboard.app - INFO - Market summary retrieved: True
2025-06-26 21:56:00,609 - src.dashboard.app - INFO - Generated recommendations for 20 vehicles
2025-06-26 21:56:00,610 - werkzeug - INFO - 127.0.0.1 - - [26/Jun/2025 21:56:00] "GET /api/top-vehicles?limit=20 HTTP/1.1" 200 -
2025-06-26 21:56:00,611 - src.database.database_manager - INFO - Retrieved 10 analysis results
2025-06-26 21:56:00,611 - src.dashboard.app - INFO - Analysis results count: 10
2025-06-26 21:56:00,617 - src.dashboard.app - INFO - Database stats: {'uk_market_data': 699, 'japan_auction_data': 100, 'government_data': 0, 'analysis_results': 36, 'database_size_mb': 0.49}
2025-06-26 21:56:00,618 - src.dashboard.app - INFO - Summary prepared with 5 opportunities
2025-06-26 21:56:00,619 - werkzeug - INFO - 127.0.0.1 - - [26/Jun/2025 21:56:00] "GET /api/summary HTTP/1.1" 200 -
2025-06-26 21:56:00,624 - src.database.database_manager - INFO - Retrieved 699 UK market records
2025-06-26 21:56:00,628 - src.database.database_manager - INFO - Retrieved 100 Japan auction records
2025-06-26 21:56:00,633 - werkzeug - INFO - 127.0.0.1 - - [26/Jun/2025 21:56:00] "GET /api/market-trends HTTP/1.1" 200 -
2025-06-26 21:56:23,980 - src.dashboard.app - INFO - Analysis run requested
2025-06-26 21:56:23,992 - src.database.database_manager - INFO - Retrieved 699 UK market records
2025-06-26 21:56:23,999 - src.database.database_manager - INFO - Retrieved 100 Japan auction records
2025-06-26 21:56:24,000 - src.analysis.profitability_analyzer - INFO - Profitability analyzer initialized
2025-06-26 21:56:24,001 - src.dashboard.app - INFO - Running profitability analysis...
2025-06-26 21:56:24,001 - src.analysis.profitability_analyzer - INFO - Starting profitability analysis
2025-06-26 21:56:24,001 - src.analysis.profitability_analyzer - INFO - Input data - UK: 699 records, Japan: 100 records
2025-06-26 21:56:24,008 - src.analysis.profitability_analyzer - INFO - UK data cleaned: 699 records
2025-06-26 21:56:24,015 - src.analysis.profitability_analyzer - INFO - Japan data cleaned: 100 records
2025-06-26 21:56:24,015 - src.analysis.profitability_analyzer - INFO - Cleaned data - UK: 699 records, Japan: 100 records
2025-06-26 21:56:24,015 - src.analysis.profitability_analyzer - INFO - Starting comprehensive vehicle matching...
2025-06-26 21:56:24,015 - src.analysis.profitability_analyzer - INFO - Strategy 1: Exact make + model + year range matching...
2025-06-26 21:56:24,030 - src.analysis.profitability_analyzer - INFO - Exact matches found: 1
2025-06-26 21:56:24,030 - src.analysis.profitability_analyzer - INFO - Strategy 2: Make + year range matching...
2025-06-26 21:56:24,041 - src.analysis.profitability_analyzer - INFO - Make+year matches found: 3
2025-06-26 21:56:24,041 - src.analysis.profitability_analyzer - INFO - Total unique matches: 3
2025-06-26 21:56:24,041 - src.analysis.profitability_analyzer - INFO - Created 3 vehicle matches
2025-06-26 21:56:24,041 - src.analysis.profitability_analyzer - INFO - Calculating profitability for 3 matches
2025-06-26 21:56:24,052 - src.analysis.profitability_analyzer - INFO - Profitability filtering: 3 -> 3 opportunities
2025-06-26 21:56:24,053 - src.analysis.profitability_analyzer - INFO - Found 3 profitable opportunities
2025-06-26 21:56:24,063 - src.analysis.profitability_analyzer - INFO - Profitability analysis completed for 3 vehicle combinations
2025-06-26 21:56:24,063 - src.dashboard.app - INFO - Generating investment scores...
2025-06-26 21:56:24,064 - src.analysis.scoring_engine - INFO - Calculating vehicle scores
2025-06-26 21:56:24,083 - src.analysis.scoring_engine - INFO - Scoring completed for 3 vehicles
2025-06-26 21:56:24,112 - src.dashboard.app - INFO - Analysis completed: 3 opportunities
2025-06-26 21:56:24,113 - werkzeug - INFO - 127.0.0.1 - - [26/Jun/2025 21:56:24] "POST /api/run-analysis HTTP/1.1" 200 -
2025-06-26 21:56:25,117 - src.dashboard.app - INFO - API summary endpoint called
2025-06-26 21:56:25,119 - src.dashboard.app - INFO - Top vehicles endpoint called with limit: 20
2025-06-26 21:56:25,119 - src.dashboard.app - INFO - Market trends endpoint called
2025-06-26 21:56:25,123 - src.database.database_manager - INFO - Retrieved 20 analysis results
2025-06-26 21:56:25,123 - src.dashboard.app - INFO - Market summary retrieved: True
2025-06-26 21:56:25,128 - src.dashboard.app - INFO - Generated recommendations for 20 vehicles
2025-06-26 21:56:25,129 - werkzeug - INFO - 127.0.0.1 - - [26/Jun/2025 21:56:25] "GET /api/top-vehicles?limit=20 HTTP/1.1" 200 -
2025-06-26 21:56:25,131 - src.database.database_manager - INFO - Retrieved 10 analysis results
2025-06-26 21:56:25,131 - src.dashboard.app - INFO - Analysis results count: 10
2025-06-26 21:56:25,137 - src.dashboard.app - INFO - Database stats: {'uk_market_data': 699, 'japan_auction_data': 100, 'government_data': 0, 'analysis_results': 39, 'database_size_mb': 0.49}
2025-06-26 21:56:25,137 - src.dashboard.app - INFO - Summary prepared with 5 opportunities
2025-06-26 21:56:25,138 - werkzeug - INFO - 127.0.0.1 - - [26/Jun/2025 21:56:25] "GET /api/summary HTTP/1.1" 200 -
2025-06-26 21:56:25,143 - src.database.database_manager - INFO - Retrieved 699 UK market records
2025-06-26 21:56:25,150 - src.database.database_manager - INFO - Retrieved 100 Japan auction records
2025-06-26 21:56:25,155 - werkzeug - INFO - 127.0.0.1 - - [26/Jun/2025 21:56:25] "GET /api/market-trends HTTP/1.1" 200 -
2025-06-26 22:35:38,697 - src.dashboard.app - INFO - Analysis run requested
2025-06-26 22:35:38,705 - src.database.database_manager - INFO - Retrieved 699 UK market records
2025-06-26 22:35:38,709 - src.database.database_manager - INFO - Retrieved 100 Japan auction records
2025-06-26 22:35:38,709 - src.analysis.profitability_analyzer - INFO - Profitability analyzer initialized
2025-06-26 22:35:38,709 - src.dashboard.app - INFO - Running profitability analysis...
2025-06-26 22:35:38,710 - src.analysis.profitability_analyzer - INFO - Starting profitability analysis
2025-06-26 22:35:38,710 - src.analysis.profitability_analyzer - INFO - Input data - UK: 699 records, Japan: 100 records
2025-06-26 22:35:38,714 - src.analysis.profitability_analyzer - INFO - UK data cleaned: 699 records
2025-06-26 22:35:38,721 - src.analysis.profitability_analyzer - INFO - Japan data cleaned: 100 records
2025-06-26 22:35:38,721 - src.analysis.profitability_analyzer - INFO - Cleaned data - UK: 699 records, Japan: 100 records
2025-06-26 22:35:38,722 - src.analysis.profitability_analyzer - INFO - Starting comprehensive vehicle matching...
2025-06-26 22:35:38,722 - src.analysis.profitability_analyzer - INFO - Strategy 1: Exact make + model + year range matching...
2025-06-26 22:35:38,734 - src.analysis.profitability_analyzer - INFO - Exact matches found: 1
2025-06-26 22:35:38,734 - src.analysis.profitability_analyzer - INFO - Strategy 2: Make + year range matching...
2025-06-26 22:35:38,747 - src.analysis.profitability_analyzer - INFO - Make+year matches found: 3
2025-06-26 22:35:38,750 - src.analysis.profitability_analyzer - INFO - Total unique matches: 3
2025-06-26 22:35:38,750 - src.analysis.profitability_analyzer - INFO - Created 3 vehicle matches
2025-06-26 22:35:38,750 - src.analysis.profitability_analyzer - INFO - Calculating profitability for 3 matches
2025-06-26 22:35:38,760 - src.analysis.profitability_analyzer - INFO - Profitability filtering: 3 -> 3 opportunities
2025-06-26 22:35:38,760 - src.analysis.profitability_analyzer - INFO - Found 3 profitable opportunities
2025-06-26 22:35:38,770 - src.analysis.profitability_analyzer - INFO - Profitability analysis completed for 3 vehicle combinations
2025-06-26 22:35:38,770 - src.dashboard.app - INFO - Generating investment scores...
2025-06-26 22:35:38,771 - src.analysis.scoring_engine - INFO - Calculating vehicle scores
2025-06-26 22:35:38,791 - src.analysis.scoring_engine - INFO - Scoring completed for 3 vehicles
2025-06-26 22:35:38,820 - src.dashboard.app - INFO - Analysis completed: 3 opportunities
2025-06-26 22:35:38,821 - werkzeug - INFO - 127.0.0.1 - - [26/Jun/2025 22:35:38] "POST /api/run-analysis HTTP/1.1" 200 -
2025-06-26 22:35:39,836 - src.dashboard.app - INFO - API summary endpoint called
2025-06-26 22:35:39,836 - src.dashboard.app - INFO - Top vehicles endpoint called with limit: 20
2025-06-26 22:35:39,836 - src.dashboard.app - INFO - Market trends endpoint called
2025-06-26 22:35:39,846 - src.database.database_manager - INFO - Retrieved 20 analysis results
2025-06-26 22:35:39,846 - src.dashboard.app - INFO - Market summary retrieved: True
2025-06-26 22:35:39,851 - src.dashboard.app - INFO - Generated recommendations for 20 vehicles
2025-06-26 22:35:39,852 - werkzeug - INFO - 127.0.0.1 - - [26/Jun/2025 22:35:39] "GET /api/top-vehicles?limit=20 HTTP/1.1" 200 -
2025-06-26 22:35:39,855 - src.database.database_manager - INFO - Retrieved 10 analysis results
2025-06-26 22:35:39,856 - src.dashboard.app - INFO - Analysis results count: 10
2025-06-26 22:35:39,858 - src.dashboard.app - INFO - Database stats: {'uk_market_data': 699, 'japan_auction_data': 100, 'government_data': 0, 'analysis_results': 42, 'database_size_mb': 0.49}
2025-06-26 22:35:39,858 - src.dashboard.app - INFO - Summary prepared with 5 opportunities
2025-06-26 22:35:39,859 - werkzeug - INFO - 127.0.0.1 - - [26/Jun/2025 22:35:39] "GET /api/summary HTTP/1.1" 200 -
2025-06-26 22:35:39,864 - src.database.database_manager - INFO - Retrieved 699 UK market records
2025-06-26 22:35:39,868 - src.database.database_manager - INFO - Retrieved 100 Japan auction records
2025-06-26 22:35:39,872 - werkzeug - INFO - 127.0.0.1 - - [26/Jun/2025 22:35:39] "GET /api/market-trends HTTP/1.1" 200 -
2025-06-27 00:02:09,226 - src.dashboard.app - INFO - Dashboard page requested
2025-06-27 00:02:09,226 - werkzeug - INFO - 127.0.0.1 - - [27/Jun/2025 00:02:09] "GET / HTTP/1.1" 200 -
2025-06-27 00:02:09,304 - src.dashboard.app - INFO - Data status requested
2025-06-27 00:02:09,304 - src.dashboard.app - INFO - API summary endpoint called
2025-06-27 00:02:09,304 - src.dashboard.app - INFO - Top vehicles endpoint called with limit: 20
2025-06-27 00:02:09,307 - src.dashboard.app - INFO - Market trends endpoint called
2025-06-27 00:02:09,308 - src.dashboard.app - INFO - Market summary retrieved: True
2025-06-27 00:02:09,315 - src.database.database_manager - INFO - Retrieved 10 analysis results
2025-06-27 00:02:09,318 - src.dashboard.app - INFO - Analysis results count: 10
2025-06-27 00:02:09,321 - src.database.database_manager - INFO - Retrieved 20 analysis results
2025-06-27 00:02:09,326 - src.dashboard.app - INFO - Generated recommendations for 20 vehicles
2025-06-27 00:02:09,326 - src.dashboard.app - INFO - Database stats: {'uk_market_data': 699, 'japan_auction_data': 100, 'government_data': 0, 'analysis_results': 42, 'database_size_mb': 0.49}
2025-06-27 00:02:09,327 - werkzeug - INFO - 127.0.0.1 - - [27/Jun/2025 00:02:09] "GET /api/top-vehicles?limit=20 HTTP/1.1" 200 -
2025-06-27 00:02:09,328 - src.dashboard.app - INFO - Summary prepared with 5 opportunities
2025-06-27 00:02:09,330 - werkzeug - INFO - 127.0.0.1 - - [27/Jun/2025 00:02:09] "GET /api/summary HTTP/1.1" 200 -
2025-06-27 00:02:09,347 - src.database.database_manager - INFO - Retrieved 699 UK market records
2025-06-27 00:02:09,352 - src.database.database_manager - INFO - Retrieved 699 UK market records
2025-06-27 00:02:09,355 - src.database.database_manager - INFO - Retrieved 100 Japan auction records
2025-06-27 00:02:09,360 - src.database.database_manager - INFO - Retrieved 100 Japan auction records
2025-06-27 00:02:09,365 - werkzeug - INFO - 127.0.0.1 - - [27/Jun/2025 00:02:09] "GET /api/market-trends HTTP/1.1" 200 -
2025-06-27 00:02:09,369 - src.database.database_manager - INFO - Retrieved 42 analysis results
2025-06-27 00:02:09,372 - werkzeug - INFO - 127.0.0.1 - - [27/Jun/2025 00:02:09] "GET /api/data-status HTTP/1.1" 200 -
2025-06-27 00:02:11,860 - src.dashboard.app - INFO - Analysis run requested
2025-06-27 00:02:11,865 - src.database.database_manager - INFO - Retrieved 699 UK market records
2025-06-27 00:02:11,872 - src.database.database_manager - INFO - Retrieved 100 Japan auction records
2025-06-27 00:02:11,873 - src.analysis.profitability_analyzer - INFO - Profitability analyzer initialized
2025-06-27 00:02:11,874 - src.dashboard.app - INFO - Running profitability analysis...
2025-06-27 00:02:11,874 - src.analysis.profitability_analyzer - INFO - Starting profitability analysis
2025-06-27 00:02:11,874 - src.analysis.profitability_analyzer - INFO - Input data - UK: 699 records, Japan: 100 records
2025-06-27 00:02:11,880 - src.analysis.profitability_analyzer - INFO - UK data cleaned: 699 records
2025-06-27 00:02:11,885 - src.analysis.profitability_analyzer - INFO - Japan data cleaned: 100 records
2025-06-27 00:02:11,886 - src.analysis.profitability_analyzer - INFO - Cleaned data - UK: 699 records, Japan: 100 records
2025-06-27 00:02:11,886 - src.analysis.profitability_analyzer - INFO - Starting comprehensive vehicle matching...
2025-06-27 00:02:11,886 - src.analysis.profitability_analyzer - INFO - Strategy 1: Exact make + model + year range matching...
2025-06-27 00:02:11,899 - src.analysis.profitability_analyzer - INFO - Exact matches found: 1
2025-06-27 00:02:11,900 - src.analysis.profitability_analyzer - INFO - Strategy 2: Make + year range matching...
2025-06-27 00:02:11,912 - src.analysis.profitability_analyzer - INFO - Make+year matches found: 3
2025-06-27 00:02:11,914 - src.analysis.profitability_analyzer - INFO - Total unique matches: 3
2025-06-27 00:02:11,914 - src.analysis.profitability_analyzer - INFO - Created 3 vehicle matches
2025-06-27 00:02:11,914 - src.analysis.profitability_analyzer - INFO - Calculating profitability for 3 matches
2025-06-27 00:02:11,936 - src.analysis.profitability_analyzer - INFO - Profitability filtering: 3 -> 3 opportunities
2025-06-27 00:02:11,937 - src.analysis.profitability_analyzer - INFO - Found 3 profitable opportunities
2025-06-27 00:02:11,949 - src.analysis.profitability_analyzer - INFO - Profitability analysis completed for 3 vehicle combinations
2025-06-27 00:02:11,949 - src.dashboard.app - INFO - Generating investment scores...
2025-06-27 00:02:11,950 - src.analysis.scoring_engine - INFO - Calculating vehicle scores
2025-06-27 00:02:11,970 - src.analysis.scoring_engine - INFO - Scoring completed for 3 vehicles
2025-06-27 00:02:11,998 - src.dashboard.app - INFO - Analysis completed: 3 opportunities
2025-06-27 00:02:11,998 - werkzeug - INFO - 127.0.0.1 - - [27/Jun/2025 00:02:11] "POST /api/run-analysis HTTP/1.1" 200 -
2025-06-27 00:02:13,012 - src.dashboard.app - INFO - API summary endpoint called
2025-06-27 00:02:13,012 - src.dashboard.app - INFO - Top vehicles endpoint called with limit: 20
2025-06-27 00:02:13,012 - src.dashboard.app - INFO - Market trends endpoint called
2025-06-27 00:02:13,012 - src.dashboard.app - INFO - Market summary retrieved: True
2025-06-27 00:02:13,012 - src.database.database_manager - INFO - Retrieved 20 analysis results
2025-06-27 00:02:13,024 - src.dashboard.app - INFO - Generated recommendations for 20 vehicles
2025-06-27 00:02:13,026 - werkzeug - INFO - 127.0.0.1 - - [27/Jun/2025 00:02:13] "GET /api/top-vehicles?limit=20 HTTP/1.1" 200 -
2025-06-27 00:02:13,027 - src.database.database_manager - INFO - Retrieved 10 analysis results
2025-06-27 00:02:13,027 - src.dashboard.app - INFO - Analysis results count: 10
2025-06-27 00:02:13,031 - src.dashboard.app - INFO - Database stats: {'uk_market_data': 699, 'japan_auction_data': 100, 'government_data': 0, 'analysis_results': 45, 'database_size_mb': 0.5}
2025-06-27 00:02:13,032 - src.dashboard.app - INFO - Summary prepared with 5 opportunities
2025-06-27 00:02:13,033 - werkzeug - INFO - 127.0.0.1 - - [27/Jun/2025 00:02:13] "GET /api/summary HTTP/1.1" 200 -
2025-06-27 00:02:13,039 - src.database.database_manager - INFO - Retrieved 699 UK market records
2025-06-27 00:02:13,043 - src.database.database_manager - INFO - Retrieved 100 Japan auction records
2025-06-27 00:02:13,047 - werkzeug - INFO - 127.0.0.1 - - [27/Jun/2025 00:02:13] "GET /api/market-trends HTTP/1.1" 200 -
2025-06-27 00:02:47,650 - src.dashboard.app - INFO - Dashboard page requested
2025-06-27 00:02:47,651 - werkzeug - INFO - 127.0.0.1 - - [27/Jun/2025 00:02:47] "GET / HTTP/1.1" 200 -
2025-06-27 00:02:47,721 - src.dashboard.app - INFO - Data status requested
2025-06-27 00:02:47,721 - src.dashboard.app - INFO - API summary endpoint called
2025-06-27 00:02:47,721 - src.database.database_manager - ERROR - Error retrieving UK data: Execution failed on sql '
                    SELECT * FROM uk_market_data 
                    WHERE collection_timestamp >= ?
                    ORDER BY collection_timestamp DESC
                ': no such table: uk_market_data
2025-06-27 00:02:47,724 - src.dashboard.app - INFO - Top vehicles endpoint called with limit: 20
2025-06-27 00:02:47,724 - src.database.database_manager - ERROR - Error generating market summary: no such table: uk_market_data
2025-06-27 00:02:47,726 - src.dashboard.app - INFO - Market trends endpoint called
2025-06-27 00:02:47,726 - src.database.database_manager - ERROR - Error retrieving Japan data: Execution failed on sql '
                    SELECT * FROM japan_auction_data 
                    WHERE collection_timestamp >= ?
                    ORDER BY collection_timestamp DESC
                ': no such table: japan_auction_data
2025-06-27 00:02:47,727 - src.database.database_manager - ERROR - Error retrieving analysis results: Execution failed on sql '
                    SELECT * FROM analysis_results 
                    ORDER BY final_score DESC, created_at DESC
                    LIMIT ?
                ': no such table: analysis_results
2025-06-27 00:02:47,727 - src.dashboard.app - INFO - Market summary retrieved: False
2025-06-27 00:02:47,728 - src.database.database_manager - ERROR - Error retrieving UK data: Execution failed on sql '
                    SELECT * FROM uk_market_data 
                    WHERE collection_timestamp >= ?
                    ORDER BY collection_timestamp DESC
                ': no such table: uk_market_data
2025-06-27 00:02:47,728 - src.database.database_manager - ERROR - Error retrieving analysis results: Execution failed on sql '
                    SELECT * FROM analysis_results 
                    ORDER BY final_score DESC, created_at DESC
                    LIMIT ?
                ': no such table: analysis_results
2025-06-27 00:02:47,729 - src.dashboard.app - WARNING - No analysis results available
2025-06-27 00:02:47,730 - src.database.database_manager - ERROR - Error retrieving analysis results: Execution failed on sql '
                    SELECT * FROM analysis_results 
                    ORDER BY final_score DESC, created_at DESC
                    LIMIT ?
                ': no such table: analysis_results
2025-06-27 00:02:47,731 - src.database.database_manager - ERROR - Error retrieving Japan data: Execution failed on sql '
                    SELECT * FROM japan_auction_data 
                    WHERE collection_timestamp >= ?
                    ORDER BY collection_timestamp DESC
                ': no such table: japan_auction_data
2025-06-27 00:02:47,732 - werkzeug - INFO - 127.0.0.1 - - [27/Jun/2025 00:02:47] "GET /api/data-status HTTP/1.1" 200 -
2025-06-27 00:02:47,733 - werkzeug - INFO - 127.0.0.1 - - [27/Jun/2025 00:02:47] "GET /api/top-vehicles?limit=20 HTTP/1.1" 200 -
2025-06-27 00:02:47,734 - src.dashboard.app - INFO - Analysis results count: 0
2025-06-27 00:02:47,734 - werkzeug - INFO - 127.0.0.1 - - [27/Jun/2025 00:02:47] "GET /api/market-trends HTTP/1.1" 200 -
2025-06-27 00:02:47,734 - src.dashboard.app - INFO - Database stats: {'uk_market_data': 0, 'japan_auction_data': 0, 'government_data': 0, 'analysis_results': 0, 'database_size_mb': 0.0}
2025-06-27 00:02:47,738 - src.dashboard.app - INFO - Summary prepared with 0 opportunities
2025-06-27 00:02:47,738 - werkzeug - INFO - 127.0.0.1 - - [27/Jun/2025 00:02:47] "GET /api/summary HTTP/1.1" 200 -
2025-06-27 00:02:58,365 - src.dashboard.app - INFO - UK data file upload requested
2025-06-27 00:02:58,368 - src.dashboard.app - INFO - Processing UK data file: New__Used_Cars_for_Sale_-_1_1.xlsx
2025-06-27 00:02:58,699 - src.dashboard.app - INFO - File read successfully: 167 rows, 10 columns
2025-06-27 00:02:58,699 - src.dashboard.app - INFO - Available columns: ['Car Title', 'Price', 'Mileage', 'Registration Date', 'Image URL', 'Car Detail URL', 'Seller Location', 'Seller Rating', 'Features', 'Price Label']
2025-06-27 00:02:58,699 - src.dashboard.app - INFO - Processing UK file data with specific columns
2025-06-27 00:02:58,699 - src.dashboard.app - INFO - Input columns: ['Car Title', 'Price', 'Mileage', 'Registration Date', 'Image URL', 'Car Detail URL', 'Seller Location', 'Seller Rating', 'Features', 'Price Label']
2025-06-27 00:02:58,699 - src.dashboard.app - INFO - Column mapping: {'Car Title': 'title', 'Price': 'price', 'Mileage': 'mileage', 'Registration Date': 'registration_date', 'Image URL': 'image_url', 'Car Detail URL': 'url', 'Seller Location': 'location', 'Seller Rating': 'seller_rating', 'Features': 'features', 'Price Label': 'price_label'}
2025-06-27 00:02:58,752 - src.dashboard.app - INFO - Processed UK data: 167 valid records
2025-06-27 00:02:58,759 - src.dashboard.app - INFO - Sample processed record: BMW Shadow (2018) - £18490.0
2025-06-27 00:02:58,774 - src.dashboard.app - INFO - UK data upload completed: 167 vehicles
2025-06-27 00:02:58,774 - werkzeug - INFO - 127.0.0.1 - - [27/Jun/2025 00:02:58] "POST /api/upload-uk-data HTTP/1.1" 200 -
2025-06-27 00:03:04,782 - src.dashboard.app - INFO - Japan data file upload requested
2025-06-27 00:03:04,784 - src.dashboard.app - INFO - Processing Japan data file: japan_mock_data.xlsx
2025-06-27 00:03:04,803 - src.dashboard.app - INFO - File read successfully: 100 rows, 14 columns
2025-06-27 00:03:04,804 - src.dashboard.app - INFO - Processing Japan file data with columns: ['make', 'model', 'year', 'final_price_jpy', 'final_price_gbp', 'mileage_km', 'grade', 'fuel_type', 'transmission', 'body_type', 'colour', 'auction_house', 'auction_date', 'title']
2025-06-27 00:03:04,805 - src.dashboard.app - INFO - Column mapping: {'make': 'make', 'model': 'model', 'year': 'year', 'final_price_jpy': 'final_price_jpy', 'final_price_gbp': 'final_price_gbp', 'mileage_km': 'mileage_km', 'grade': 'grade', 'fuel_type': 'fuel_type', 'transmission': 'transmission', 'body_type': 'body_type', 'colour': 'colour', 'auction_house': 'auction_house', 'auction_date': 'auction_date', 'title': 'title'}
2025-06-27 00:03:04,817 - src.dashboard.app - INFO - Processed Japan data: 100 valid records
2025-06-27 00:03:04,830 - src.database.database_manager - INFO - Universal mapping input columns: ['make', 'model', 'year', 'final_price_jpy', 'final_price_gbp', 'mileage_km', 'grade', 'fuel_type', 'transmission', 'body_type', 'colour', 'auction_house', 'auction_date', 'title', 'auction_id', 'mileage_miles', 'grade_score', 'estimated_import_cost', 'shipping_cost', 'import_duty', 'vat', 'other_costs', 'total_landed_cost', 'source', 'collection_timestamp']
2025-06-27 00:03:04,839 - src.database.database_manager - INFO - Exact: auction_id -> auction_id
2025-06-27 00:03:04,840 - src.database.database_manager - INFO - Exact: title -> title
2025-06-27 00:03:04,840 - src.database.database_manager - INFO - Exact: year -> year
2025-06-27 00:03:04,840 - src.database.database_manager - INFO - Partial: mileage_km -> mileage_km
2025-06-27 00:03:04,840 - src.database.database_manager - INFO - Exact: transmission -> transmission
2025-06-27 00:03:04,840 - src.database.database_manager - INFO - Exact: model -> model
2025-06-27 00:03:04,840 - src.database.database_manager - INFO - Partial: fuel_type -> fuel_type
2025-06-27 00:03:04,841 - src.database.database_manager - INFO - Exact: colour -> colour
2025-06-27 00:03:04,841 - src.database.database_manager - INFO - Exact: auction_house -> auction_house
2025-06-27 00:03:04,841 - src.database.database_manager - INFO - Partial: final_price_jpy -> final_price_gbp
2025-06-27 00:03:04,841 - src.database.database_manager - INFO - Partial: final_price_jpy -> final_price_jpy
2025-06-27 00:03:04,842 - src.database.database_manager - INFO - Partial: total_landed_cost -> total_landed_cost
2025-06-27 00:03:04,842 - src.database.database_manager - INFO - Exact: grade -> grade
2025-06-27 00:03:04,842 - src.database.database_manager - INFO - Exact: grade_score -> grade_score
2025-06-27 00:03:04,842 - src.database.database_manager - INFO - Exact: auction_date -> auction_date
2025-06-27 00:03:04,843 - src.database.database_manager - INFO - Exact: estimated_import_cost -> estimated_import_cost
2025-06-27 00:03:04,843 - src.database.database_manager - INFO - Exact: shipping_cost -> shipping_cost
2025-06-27 00:03:04,843 - src.database.database_manager - INFO - Exact: import_duty -> import_duty
2025-06-27 00:03:04,843 - src.database.database_manager - INFO - Exact: vat -> vat
2025-06-27 00:03:04,844 - src.database.database_manager - INFO - Exact: other_costs -> other_costs
2025-06-27 00:03:04,852 - src.database.database_manager - INFO - Universal mapping completed. Output columns: ['auction_id', 'title', 'year', 'mileage_km', 'transmission', 'model', 'fuel_type', 'engine_details', 'colour', 'steering', 'drive_type', 'seats', 'doors', 'auction_house', 'final_price_gbp', 'final_price_jpy', 'total_landed_cost', 'image_url', 'promo_badges', 'grade', 'grade_score', 'auction_date', 'estimated_import_cost', 'shipping_cost', 'import_duty', 'vat', 'other_costs', 'mileage_miles', 'make']
2025-06-27 00:03:04,881 - src.dashboard.app - INFO - Japan data upload completed: 100 vehicles
2025-06-27 00:03:04,882 - werkzeug - INFO - 127.0.0.1 - - [27/Jun/2025 00:03:04] "POST /api/upload-japan-data HTTP/1.1" 200 -
2025-06-27 00:03:06,944 - src.dashboard.app - INFO - Analysis run requested
2025-06-27 00:03:06,948 - src.database.database_manager - INFO - Retrieved 167 UK market records
2025-06-27 00:03:06,948 - src.database.database_manager - ERROR - Error retrieving Japan data: Execution failed on sql '
                    SELECT * FROM japan_auction_data 
                    WHERE collection_timestamp >= ?
                    ORDER BY collection_timestamp DESC
                ': no such table: japan_auction_data
2025-06-27 00:03:06,951 - werkzeug - INFO - 127.0.0.1 - - [27/Jun/2025 00:03:06] "[31m[1mPOST /api/run-analysis HTTP/1.1[0m" 400 -
2025-06-27 00:03:13,434 - src.dashboard.app - INFO - Dashboard page requested
2025-06-27 00:03:13,435 - werkzeug - INFO - 127.0.0.1 - - [27/Jun/2025 00:03:13] "GET / HTTP/1.1" 200 -
2025-06-27 00:03:13,500 - src.dashboard.app - INFO - API summary endpoint called
2025-06-27 00:03:13,501 - src.dashboard.app - INFO - Top vehicles endpoint called with limit: 20
2025-06-27 00:03:13,502 - src.dashboard.app - INFO - Data status requested
2025-06-27 00:03:13,504 - src.dashboard.app - INFO - Market trends endpoint called
2025-06-27 00:03:13,504 - src.database.database_manager - ERROR - Error retrieving analysis results: Execution failed on sql '
                    SELECT * FROM analysis_results 
                    ORDER BY final_score DESC, created_at DESC
                    LIMIT ?
                ': no such table: analysis_results
2025-06-27 00:03:13,504 - src.database.database_manager - ERROR - Error generating market summary: no such table: japan_auction_data
2025-06-27 00:03:13,505 - src.dashboard.app - WARNING - No analysis results available
2025-06-27 00:03:13,506 - src.dashboard.app - INFO - Market summary retrieved: False
2025-06-27 00:03:13,507 - werkzeug - INFO - 127.0.0.1 - - [27/Jun/2025 00:03:13] "GET /api/top-vehicles?limit=20 HTTP/1.1" 200 -
2025-06-27 00:03:13,507 - src.database.database_manager - ERROR - Error retrieving analysis results: Execution failed on sql '
                    SELECT * FROM analysis_results 
                    ORDER BY final_score DESC, created_at DESC
                    LIMIT ?
                ': no such table: analysis_results
2025-06-27 00:03:13,509 - src.dashboard.app - INFO - Analysis results count: 0
2025-06-27 00:03:13,512 - src.dashboard.app - INFO - Database stats: {'uk_market_data': 167, 'japan_auction_data': 0, 'government_data': 0, 'analysis_results': 0, 'database_size_mb': 0.12}
2025-06-27 00:03:13,513 - src.dashboard.app - INFO - Summary prepared with 0 opportunities
2025-06-27 00:03:13,515 - src.database.database_manager - INFO - Retrieved 167 UK market records
2025-06-27 00:03:13,517 - werkzeug - INFO - 127.0.0.1 - - [27/Jun/2025 00:03:13] "GET /api/summary HTTP/1.1" 200 -
2025-06-27 00:03:13,519 - src.database.database_manager - INFO - Retrieved 167 UK market records
2025-06-27 00:03:13,519 - src.database.database_manager - ERROR - Error retrieving Japan data: Execution failed on sql '
                    SELECT * FROM japan_auction_data 
                    WHERE collection_timestamp >= ?
                    ORDER BY collection_timestamp DESC
                ': no such table: japan_auction_data
2025-06-27 00:03:13,519 - src.database.database_manager - ERROR - Error retrieving Japan data: Execution failed on sql '
                    SELECT * FROM japan_auction_data 
                    WHERE collection_timestamp >= ?
                    ORDER BY collection_timestamp DESC
                ': no such table: japan_auction_data
2025-06-27 00:03:13,520 - src.database.database_manager - ERROR - Error retrieving analysis results: Execution failed on sql '
                    SELECT * FROM analysis_results 
                    ORDER BY final_score DESC, created_at DESC
                    LIMIT ?
                ': no such table: analysis_results
2025-06-27 00:03:13,523 - werkzeug - INFO - 127.0.0.1 - - [27/Jun/2025 00:03:13] "GET /api/market-trends HTTP/1.1" 200 -
2025-06-27 00:03:13,526 - werkzeug - INFO - 127.0.0.1 - - [27/Jun/2025 00:03:13] "GET /api/data-status HTTP/1.1" 200 -
2025-06-27 00:03:17,106 - src.dashboard.app - INFO - Japan data file upload requested
2025-06-27 00:03:17,108 - src.dashboard.app - INFO - Processing Japan data file: japan_mock_data.xlsx
2025-06-27 00:03:17,129 - src.dashboard.app - INFO - File read successfully: 100 rows, 14 columns
2025-06-27 00:03:17,129 - src.dashboard.app - INFO - Processing Japan file data with columns: ['make', 'model', 'year', 'final_price_jpy', 'final_price_gbp', 'mileage_km', 'grade', 'fuel_type', 'transmission', 'body_type', 'colour', 'auction_house', 'auction_date', 'title']
2025-06-27 00:03:17,130 - src.dashboard.app - INFO - Column mapping: {'make': 'make', 'model': 'model', 'year': 'year', 'final_price_jpy': 'final_price_jpy', 'final_price_gbp': 'final_price_gbp', 'mileage_km': 'mileage_km', 'grade': 'grade', 'fuel_type': 'fuel_type', 'transmission': 'transmission', 'body_type': 'body_type', 'colour': 'colour', 'auction_house': 'auction_house', 'auction_date': 'auction_date', 'title': 'title'}
2025-06-27 00:03:17,141 - src.dashboard.app - INFO - Processed Japan data: 100 valid records
2025-06-27 00:03:17,150 - src.database.database_manager - INFO - Universal mapping input columns: ['make', 'model', 'year', 'final_price_jpy', 'final_price_gbp', 'mileage_km', 'grade', 'fuel_type', 'transmission', 'body_type', 'colour', 'auction_house', 'auction_date', 'title', 'auction_id', 'mileage_miles', 'grade_score', 'estimated_import_cost', 'shipping_cost', 'import_duty', 'vat', 'other_costs', 'total_landed_cost', 'source', 'collection_timestamp']
2025-06-27 00:03:17,161 - src.database.database_manager - INFO - Exact: auction_id -> auction_id
2025-06-27 00:03:17,161 - src.database.database_manager - INFO - Exact: title -> title
2025-06-27 00:03:17,162 - src.database.database_manager - INFO - Exact: year -> year
2025-06-27 00:03:17,162 - src.database.database_manager - INFO - Partial: mileage_km -> mileage_km
2025-06-27 00:03:17,163 - src.database.database_manager - INFO - Exact: transmission -> transmission
2025-06-27 00:03:17,163 - src.database.database_manager - INFO - Exact: model -> model
2025-06-27 00:03:17,164 - src.database.database_manager - INFO - Partial: fuel_type -> fuel_type
2025-06-27 00:03:17,164 - src.database.database_manager - INFO - Exact: colour -> colour
2025-06-27 00:03:17,164 - src.database.database_manager - INFO - Exact: auction_house -> auction_house
2025-06-27 00:03:17,165 - src.database.database_manager - INFO - Partial: final_price_jpy -> final_price_gbp
2025-06-27 00:03:17,165 - src.database.database_manager - INFO - Partial: final_price_jpy -> final_price_jpy
2025-06-27 00:03:17,165 - src.database.database_manager - INFO - Partial: total_landed_cost -> total_landed_cost
2025-06-27 00:03:17,165 - src.database.database_manager - INFO - Exact: grade -> grade
2025-06-27 00:03:17,166 - src.database.database_manager - INFO - Exact: grade_score -> grade_score
2025-06-27 00:03:17,166 - src.database.database_manager - INFO - Exact: auction_date -> auction_date
2025-06-27 00:03:17,166 - src.database.database_manager - INFO - Exact: estimated_import_cost -> estimated_import_cost
2025-06-27 00:03:17,166 - src.database.database_manager - INFO - Exact: shipping_cost -> shipping_cost
2025-06-27 00:03:17,166 - src.database.database_manager - INFO - Exact: import_duty -> import_duty
2025-06-27 00:03:17,167 - src.database.database_manager - INFO - Exact: vat -> vat
2025-06-27 00:03:17,167 - src.database.database_manager - INFO - Exact: other_costs -> other_costs
2025-06-27 00:03:17,175 - src.database.database_manager - INFO - Universal mapping completed. Output columns: ['auction_id', 'title', 'year', 'mileage_km', 'transmission', 'model', 'fuel_type', 'engine_details', 'colour', 'steering', 'drive_type', 'seats', 'doors', 'auction_house', 'final_price_gbp', 'final_price_jpy', 'total_landed_cost', 'image_url', 'promo_badges', 'grade', 'grade_score', 'auction_date', 'estimated_import_cost', 'shipping_cost', 'import_duty', 'vat', 'other_costs', 'mileage_miles', 'make']
2025-06-27 00:03:17,207 - src.dashboard.app - INFO - Japan data upload completed: 100 vehicles
2025-06-27 00:03:17,208 - werkzeug - INFO - 127.0.0.1 - - [27/Jun/2025 00:03:17] "POST /api/upload-japan-data HTTP/1.1" 200 -
2025-06-27 00:04:01,604 - src.dashboard.app - INFO - Japan data file upload requested
2025-06-27 00:04:01,605 - src.dashboard.app - INFO - Processing Japan data file: Bmw_1_Series_Used_Cars_for_1.xlsx
2025-06-27 00:04:01,641 - src.dashboard.app - INFO - File read successfully: 195 rows, 15 columns
2025-06-27 00:04:01,641 - src.dashboard.app - INFO - Processing Japan file data with columns: ['Car Title', 'Year', 'Engine', 'Mileage', 'Transmission', 'Model Code', 'Fuel', 'Color', 'Steering', 'Drive Type', 'Seats', 'Doors', 'Stock ID', 'Location', 'Price']
2025-06-27 00:04:01,641 - src.dashboard.app - INFO - Column mapping: {'Year': 'year', 'Mileage': 'mileage_km', 'Fuel': 'fuel_type', 'Transmission': 'transmission', 'Color': 'colour'}
2025-06-27 00:04:01,655 - src.dashboard.app - INFO - Processed Japan data: 0 valid records
2025-06-27 00:04:01,656 - werkzeug - INFO - 127.0.0.1 - - [27/Jun/2025 00:04:01] "[31m[1mPOST /api/upload-japan-data HTTP/1.1[0m" 400 -
2025-06-27 00:04:51,247 - src.dashboard.app - INFO - Japan data file upload requested
2025-06-27 00:04:51,263 - src.dashboard.app - INFO - Processing Japan data file: japan_data_template.csv
2025-06-27 00:04:51,269 - src.dashboard.app - INFO - File read successfully: 3 rows, 14 columns
2025-06-27 00:04:51,269 - src.dashboard.app - INFO - Processing Japan file data with columns: ['make', 'model', 'year', 'final_price_jpy', 'final_price_gbp', 'mileage_km', 'grade', 'fuel_type', 'transmission', 'body_type', 'colour', 'auction_house', 'auction_date', 'title']
2025-06-27 00:04:51,272 - src.dashboard.app - INFO - Column mapping: {'make': 'make', 'model': 'model', 'year': 'year', 'final_price_jpy': 'final_price_jpy', 'final_price_gbp': 'final_price_gbp', 'mileage_km': 'mileage_km', 'grade': 'grade', 'fuel_type': 'fuel_type', 'transmission': 'transmission', 'body_type': 'body_type', 'colour': 'colour', 'auction_house': 'auction_house', 'auction_date': 'auction_date', 'title': 'title'}
2025-06-27 00:04:51,283 - src.dashboard.app - INFO - Processed Japan data: 3 valid records
2025-06-27 00:04:51,293 - src.database.database_manager - INFO - Universal mapping input columns: ['make', 'model', 'year', 'final_price_jpy', 'final_price_gbp', 'mileage_km', 'grade', 'fuel_type', 'transmission', 'body_type', 'colour', 'auction_house', 'auction_date', 'title', 'auction_id', 'mileage_miles', 'grade_score', 'estimated_import_cost', 'shipping_cost', 'import_duty', 'vat', 'other_costs', 'total_landed_cost', 'source', 'collection_timestamp']
2025-06-27 00:04:51,306 - src.database.database_manager - INFO - Exact: auction_id -> auction_id
2025-06-27 00:04:51,307 - src.database.database_manager - INFO - Exact: title -> title
2025-06-27 00:04:51,307 - src.database.database_manager - INFO - Exact: year -> year
2025-06-27 00:04:51,308 - src.database.database_manager - INFO - Partial: mileage_km -> mileage_km
2025-06-27 00:04:51,309 - src.database.database_manager - INFO - Exact: transmission -> transmission
2025-06-27 00:04:51,309 - src.database.database_manager - INFO - Exact: model -> model
2025-06-27 00:04:51,310 - src.database.database_manager - INFO - Partial: fuel_type -> fuel_type
2025-06-27 00:04:51,310 - src.database.database_manager - INFO - Exact: colour -> colour
2025-06-27 00:04:51,310 - src.database.database_manager - INFO - Exact: auction_house -> auction_house
2025-06-27 00:04:51,310 - src.database.database_manager - INFO - Partial: final_price_jpy -> final_price_gbp
2025-06-27 00:04:51,311 - src.database.database_manager - INFO - Partial: final_price_jpy -> final_price_jpy
2025-06-27 00:04:51,311 - src.database.database_manager - INFO - Partial: total_landed_cost -> total_landed_cost
2025-06-27 00:04:51,311 - src.database.database_manager - INFO - Exact: grade -> grade
2025-06-27 00:04:51,312 - src.database.database_manager - INFO - Exact: grade_score -> grade_score
2025-06-27 00:04:51,313 - src.database.database_manager - INFO - Exact: auction_date -> auction_date
2025-06-27 00:04:51,313 - src.database.database_manager - INFO - Exact: estimated_import_cost -> estimated_import_cost
2025-06-27 00:04:51,313 - src.database.database_manager - INFO - Exact: shipping_cost -> shipping_cost
2025-06-27 00:04:51,314 - src.database.database_manager - INFO - Exact: import_duty -> import_duty
2025-06-27 00:04:51,315 - src.database.database_manager - INFO - Exact: vat -> vat
2025-06-27 00:04:51,316 - src.database.database_manager - INFO - Exact: other_costs -> other_costs
2025-06-27 00:04:51,322 - src.database.database_manager - INFO - Universal mapping completed. Output columns: ['auction_id', 'title', 'year', 'mileage_km', 'transmission', 'model', 'fuel_type', 'engine_details', 'colour', 'steering', 'drive_type', 'seats', 'doors', 'auction_house', 'final_price_gbp', 'final_price_jpy', 'total_landed_cost', 'image_url', 'promo_badges', 'grade', 'grade_score', 'auction_date', 'estimated_import_cost', 'shipping_cost', 'import_duty', 'vat', 'other_costs', 'mileage_miles', 'make']
2025-06-27 00:04:51,358 - src.dashboard.app - INFO - Japan data upload completed: 3 vehicles
2025-06-27 00:04:51,358 - werkzeug - INFO - 127.0.0.1 - - [27/Jun/2025 00:04:51] "POST /api/upload-japan-data HTTP/1.1" 200 -
2025-06-27 00:04:55,565 - src.dashboard.app - INFO - Dashboard page requested
2025-06-27 00:04:55,565 - werkzeug - INFO - 127.0.0.1 - - [27/Jun/2025 00:04:55] "GET / HTTP/1.1" 200 -
2025-06-27 00:04:55,608 - src.dashboard.app - INFO - Data status requested
2025-06-27 00:04:55,608 - src.dashboard.app - INFO - API summary endpoint called
2025-06-27 00:04:55,610 - src.dashboard.app - INFO - Top vehicles endpoint called with limit: 20
2025-06-27 00:04:55,611 - src.database.database_manager - ERROR - Error generating market summary: no such table: japan_auction_data
2025-06-27 00:04:55,612 - src.dashboard.app - INFO - Market trends endpoint called
2025-06-27 00:04:55,612 - src.database.database_manager - ERROR - Error retrieving analysis results: Execution failed on sql '
                    SELECT * FROM analysis_results 
                    ORDER BY final_score DESC, created_at DESC
                    LIMIT ?
                ': no such table: analysis_results
2025-06-27 00:04:55,612 - src.dashboard.app - INFO - Market summary retrieved: False
2025-06-27 00:04:55,613 - src.dashboard.app - WARNING - No analysis results available
2025-06-27 00:04:55,614 - werkzeug - INFO - 127.0.0.1 - - [27/Jun/2025 00:04:55] "GET /api/top-vehicles?limit=20 HTTP/1.1" 200 -
2025-06-27 00:04:55,614 - src.database.database_manager - ERROR - Error retrieving analysis results: Execution failed on sql '
                    SELECT * FROM analysis_results 
                    ORDER BY final_score DESC, created_at DESC
                    LIMIT ?
                ': no such table: analysis_results
2025-06-27 00:04:55,616 - src.dashboard.app - INFO - Analysis results count: 0
2025-06-27 00:04:55,620 - src.database.database_manager - INFO - Retrieved 167 UK market records
2025-06-27 00:04:55,621 - src.dashboard.app - INFO - Database stats: {'uk_market_data': 167, 'japan_auction_data': 0, 'government_data': 0, 'analysis_results': 0, 'database_size_mb': 0.12}
2025-06-27 00:04:55,621 - src.dashboard.app - INFO - Summary prepared with 0 opportunities
2025-06-27 00:04:55,621 - src.database.database_manager - ERROR - Error retrieving Japan data: Execution failed on sql '
                    SELECT * FROM japan_auction_data 
                    WHERE collection_timestamp >= ?
                    ORDER BY collection_timestamp DESC
                ': no such table: japan_auction_data
2025-06-27 00:04:55,622 - werkzeug - INFO - 127.0.0.1 - - [27/Jun/2025 00:04:55] "GET /api/summary HTTP/1.1" 200 -
2025-06-27 00:04:55,628 - src.database.database_manager - ERROR - Error retrieving analysis results: Execution failed on sql '
                    SELECT * FROM analysis_results 
                    ORDER BY final_score DESC, created_at DESC
                    LIMIT ?
                ': no such table: analysis_results
2025-06-27 00:04:55,631 - src.database.database_manager - INFO - Retrieved 167 UK market records
2025-06-27 00:04:55,633 - werkzeug - INFO - 127.0.0.1 - - [27/Jun/2025 00:04:55] "GET /api/data-status HTTP/1.1" 200 -
2025-06-27 00:04:55,637 - src.database.database_manager - ERROR - Error retrieving Japan data: Execution failed on sql '
                    SELECT * FROM japan_auction_data 
                    WHERE collection_timestamp >= ?
                    ORDER BY collection_timestamp DESC
                ': no such table: japan_auction_data
2025-06-27 00:04:55,650 - werkzeug - INFO - 127.0.0.1 - - [27/Jun/2025 00:04:55] "GET /api/market-trends HTTP/1.1" 200 -
2025-06-27 00:05:06,721 - src.dashboard.app - INFO - Japan data file upload requested
2025-06-27 00:05:06,723 - src.dashboard.app - INFO - Processing Japan data file: japan_mock_data.xlsx
2025-06-27 00:05:06,751 - src.dashboard.app - INFO - File read successfully: 100 rows, 14 columns
2025-06-27 00:05:06,752 - src.dashboard.app - INFO - Processing Japan file data with columns: ['make', 'model', 'year', 'final_price_jpy', 'final_price_gbp', 'mileage_km', 'grade', 'fuel_type', 'transmission', 'body_type', 'colour', 'auction_house', 'auction_date', 'title']
2025-06-27 00:05:06,753 - src.dashboard.app - INFO - Column mapping: {'make': 'make', 'model': 'model', 'year': 'year', 'final_price_jpy': 'final_price_jpy', 'final_price_gbp': 'final_price_gbp', 'mileage_km': 'mileage_km', 'grade': 'grade', 'fuel_type': 'fuel_type', 'transmission': 'transmission', 'body_type': 'body_type', 'colour': 'colour', 'auction_house': 'auction_house', 'auction_date': 'auction_date', 'title': 'title'}
2025-06-27 00:05:06,766 - src.dashboard.app - INFO - Processed Japan data: 100 valid records
2025-06-27 00:05:06,780 - src.database.database_manager - INFO - Universal mapping input columns: ['make', 'model', 'year', 'final_price_jpy', 'final_price_gbp', 'mileage_km', 'grade', 'fuel_type', 'transmission', 'body_type', 'colour', 'auction_house', 'auction_date', 'title', 'auction_id', 'mileage_miles', 'grade_score', 'estimated_import_cost', 'shipping_cost', 'import_duty', 'vat', 'other_costs', 'total_landed_cost', 'source', 'collection_timestamp']
2025-06-27 00:05:06,792 - src.database.database_manager - INFO - Exact: auction_id -> auction_id
2025-06-27 00:05:06,794 - src.database.database_manager - INFO - Exact: title -> title
2025-06-27 00:05:06,794 - src.database.database_manager - INFO - Exact: year -> year
2025-06-27 00:05:06,795 - src.database.database_manager - INFO - Partial: mileage_km -> mileage_km
2025-06-27 00:05:06,795 - src.database.database_manager - INFO - Exact: transmission -> transmission
2025-06-27 00:05:06,795 - src.database.database_manager - INFO - Exact: model -> model
2025-06-27 00:05:06,795 - src.database.database_manager - INFO - Partial: fuel_type -> fuel_type
2025-06-27 00:05:06,796 - src.database.database_manager - INFO - Exact: colour -> colour
2025-06-27 00:05:06,796 - src.database.database_manager - INFO - Exact: auction_house -> auction_house
2025-06-27 00:05:06,796 - src.database.database_manager - INFO - Partial: final_price_jpy -> final_price_gbp
2025-06-27 00:05:06,796 - src.database.database_manager - INFO - Partial: final_price_jpy -> final_price_jpy
2025-06-27 00:05:06,797 - src.database.database_manager - INFO - Partial: total_landed_cost -> total_landed_cost
2025-06-27 00:05:06,797 - src.database.database_manager - INFO - Exact: grade -> grade
2025-06-27 00:05:06,797 - src.database.database_manager - INFO - Exact: grade_score -> grade_score
2025-06-27 00:05:06,797 - src.database.database_manager - INFO - Exact: auction_date -> auction_date
2025-06-27 00:05:06,798 - src.database.database_manager - INFO - Exact: estimated_import_cost -> estimated_import_cost
2025-06-27 00:05:06,798 - src.database.database_manager - INFO - Exact: shipping_cost -> shipping_cost
2025-06-27 00:05:06,798 - src.database.database_manager - INFO - Exact: import_duty -> import_duty
2025-06-27 00:05:06,799 - src.database.database_manager - INFO - Exact: vat -> vat
2025-06-27 00:05:06,799 - src.database.database_manager - INFO - Exact: other_costs -> other_costs
2025-06-27 00:05:06,810 - src.database.database_manager - INFO - Universal mapping completed. Output columns: ['auction_id', 'title', 'year', 'mileage_km', 'transmission', 'model', 'fuel_type', 'engine_details', 'colour', 'steering', 'drive_type', 'seats', 'doors', 'auction_house', 'final_price_gbp', 'final_price_jpy', 'total_landed_cost', 'image_url', 'promo_badges', 'grade', 'grade_score', 'auction_date', 'estimated_import_cost', 'shipping_cost', 'import_duty', 'vat', 'other_costs', 'mileage_miles', 'make']
2025-06-27 00:05:06,846 - src.dashboard.app - INFO - Japan data upload completed: 100 vehicles
2025-06-27 00:05:06,847 - werkzeug - INFO - 127.0.0.1 - - [27/Jun/2025 00:05:06] "POST /api/upload-japan-data HTTP/1.1" 200 -
2025-06-27 00:05:55,374 - src.dashboard.app - INFO - Dashboard page requested
2025-06-27 00:05:55,374 - werkzeug - INFO - 127.0.0.1 - - [27/Jun/2025 00:05:55] "GET / HTTP/1.1" 200 -
2025-06-27 00:05:55,419 - src.dashboard.app - INFO - Data status requested
2025-06-27 00:05:55,420 - src.dashboard.app - INFO - API summary endpoint called
2025-06-27 00:05:55,423 - src.dashboard.app - INFO - Top vehicles endpoint called with limit: 20
2025-06-27 00:05:55,423 - src.database.database_manager - ERROR - Error generating market summary: no such table: japan_auction_data
2025-06-27 00:05:55,423 - src.dashboard.app - INFO - Market trends endpoint called
2025-06-27 00:05:55,423 - src.dashboard.app - INFO - Market summary retrieved: False
2025-06-27 00:05:55,423 - src.database.database_manager - ERROR - Error retrieving analysis results: Execution failed on sql '
                    SELECT * FROM analysis_results 
                    ORDER BY final_score DESC, created_at DESC
                    LIMIT ?
                ': no such table: analysis_results
2025-06-27 00:05:55,424 - src.database.database_manager - ERROR - Error retrieving analysis results: Execution failed on sql '
                    SELECT * FROM analysis_results 
                    ORDER BY final_score DESC, created_at DESC
                    LIMIT ?
                ': no such table: analysis_results
2025-06-27 00:05:55,425 - src.dashboard.app - WARNING - No analysis results available
2025-06-27 00:05:55,426 - src.dashboard.app - INFO - Analysis results count: 0
2025-06-27 00:05:55,427 - werkzeug - INFO - 127.0.0.1 - - [27/Jun/2025 00:05:55] "GET /api/top-vehicles?limit=20 HTTP/1.1" 200 -
2025-06-27 00:05:55,431 - src.database.database_manager - INFO - Retrieved 167 UK market records
2025-06-27 00:05:55,433 - src.dashboard.app - INFO - Database stats: {'uk_market_data': 167, 'japan_auction_data': 0, 'government_data': 0, 'analysis_results': 0, 'database_size_mb': 0.12}
2025-06-27 00:05:55,435 - src.database.database_manager - ERROR - Error retrieving Japan data: Execution failed on sql '
                    SELECT * FROM japan_auction_data 
                    WHERE collection_timestamp >= ?
                    ORDER BY collection_timestamp DESC
                ': no such table: japan_auction_data
2025-06-27 00:05:55,435 - src.dashboard.app - INFO - Summary prepared with 0 opportunities
2025-06-27 00:05:55,440 - src.database.database_manager - INFO - Retrieved 167 UK market records
2025-06-27 00:05:55,440 - src.database.database_manager - ERROR - Error retrieving analysis results: Execution failed on sql '
                    SELECT * FROM analysis_results 
                    ORDER BY final_score DESC, created_at DESC
                    LIMIT ?
                ': no such table: analysis_results
2025-06-27 00:05:55,441 - werkzeug - INFO - 127.0.0.1 - - [27/Jun/2025 00:05:55] "GET /api/summary HTTP/1.1" 200 -
2025-06-27 00:05:55,444 - werkzeug - INFO - 127.0.0.1 - - [27/Jun/2025 00:05:55] "GET /api/data-status HTTP/1.1" 200 -
2025-06-27 00:05:55,444 - src.database.database_manager - ERROR - Error retrieving Japan data: Execution failed on sql '
                    SELECT * FROM japan_auction_data 
                    WHERE collection_timestamp >= ?
                    ORDER BY collection_timestamp DESC
                ': no such table: japan_auction_data
2025-06-27 00:05:55,454 - werkzeug - INFO - 127.0.0.1 - - [27/Jun/2025 00:05:55] "GET /api/market-trends HTTP/1.1" 200 -
2025-06-27 00:06:40,476 - src.database.database_manager - INFO - Database manager initialized with path: database/vehicle_import.db
2025-06-27 00:06:40,482 - src.data_collectors.manual_data_importer - INFO - Fixed manual data importer initialized
2025-06-27 00:06:40,482 - src.analysis.profitability_analyzer - INFO - Profitability analyzer initialized
2025-06-27 00:06:40,483 - src.analysis.scoring_engine - INFO - Scoring engine initialized
2025-06-27 00:06:40,483 - __main__ - INFO - Vehicle Import Analyzer initialized (Manual Import Only)
2025-06-27 00:06:40,484 - __main__ - INFO - Starting Vehicle Import Analyzer (Manual Import Mode)
2025-06-27 00:06:40,484 - src.database.database_manager - INFO - Initializing database tables with FIXED schema
2025-06-27 00:06:40,526 - __main__ - INFO - Starting manual data collection
2025-06-27 00:06:40,526 - __main__ - INFO - Importing UK market data from files...
2025-06-27 00:06:40,527 - __main__ - ERROR - Error during data collection: 'ManualDataImporter' object has no attribute 'import_uk_data_batch'
2025-06-27 00:06:40,534 - src.database.database_manager - INFO - Retrieved 167 UK market records
2025-06-27 00:06:40,541 - src.database.database_manager - INFO - Retrieved 0 Japan auction records
2025-06-27 00:06:40,541 - __main__ - INFO - No initial data found - use dashboard to upload files
2025-06-27 00:06:40,545 - src.analysis.scoring_engine - INFO - Scoring engine initialized
2025-06-27 00:06:40,553 - __main__ - INFO - Starting dashboard server on http://localhost:5000
2025-06-27 00:06:40,553 - __main__ - INFO - Dashboard features:
2025-06-27 00:06:40,553 - __main__ - INFO -   - Upload UK vehicle data (CSV/Excel)
2025-06-27 00:06:40,553 - __main__ - INFO -   - Upload Japan auction data (CSV/Excel)
2025-06-27 00:06:40,553 - __main__ - INFO -   - Run profitability analysis
2025-06-27 00:06:40,553 - __main__ - INFO -   - View opportunity rankings
2025-06-27 00:06:40,560 - __main__ - INFO -   - Portfolio optimization
2025-06-27 00:06:40,560 - __main__ - INFO -   - Export results to Excel
2025-06-27 00:06:42,117 - werkzeug - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://192.168.1.143:5000
2025-06-27 00:06:42,124 - werkzeug - INFO - [33mPress CTRL+C to quit[0m
2025-06-27 00:06:49,586 - src.dashboard.app - INFO - Dashboard page requested
2025-06-27 00:06:49,609 - werkzeug - INFO - 127.0.0.1 - - [27/Jun/2025 00:06:49] "GET / HTTP/1.1" 200 -
2025-06-27 00:06:49,790 - src.dashboard.app - INFO - Data status requested
2025-06-27 00:06:49,790 - src.dashboard.app - INFO - API summary endpoint called
2025-06-27 00:06:49,792 - src.dashboard.app - INFO - Top vehicles endpoint called with limit: 20
2025-06-27 00:06:49,794 - src.dashboard.app - INFO - Market trends endpoint called
2025-06-27 00:06:49,800 - src.database.database_manager - INFO - Retrieved 0 analysis results
2025-06-27 00:06:49,800 - src.dashboard.app - INFO - Market summary retrieved: True
2025-06-27 00:06:49,801 - src.dashboard.app - WARNING - No analysis results available
2025-06-27 00:06:49,802 - werkzeug - INFO - 127.0.0.1 - - [27/Jun/2025 00:06:49] "GET /api/top-vehicles?limit=20 HTTP/1.1" 200 -
2025-06-27 00:06:49,807 - src.database.database_manager - INFO - Retrieved 0 analysis results
2025-06-27 00:06:49,809 - src.dashboard.app - INFO - Analysis results count: 0
2025-06-27 00:06:49,812 - src.dashboard.app - INFO - Database stats: {'uk_market_data': 167, 'japan_auction_data': 0, 'government_data': 0, 'analysis_results': 0, 'database_size_mb': 0.17}
2025-06-27 00:06:49,814 - src.dashboard.app - INFO - Summary prepared with 0 opportunities
2025-06-27 00:06:49,816 - werkzeug - INFO - 127.0.0.1 - - [27/Jun/2025 00:06:49] "GET /api/summary HTTP/1.1" 200 -
2025-06-27 00:06:49,820 - src.database.database_manager - INFO - Retrieved 167 UK market records
2025-06-27 00:06:49,826 - src.database.database_manager - INFO - Retrieved 167 UK market records
2025-06-27 00:06:49,830 - src.database.database_manager - INFO - Retrieved 0 Japan auction records
2025-06-27 00:06:49,836 - src.database.database_manager - INFO - Retrieved 0 Japan auction records
2025-06-27 00:06:49,841 - werkzeug - INFO - 127.0.0.1 - - [27/Jun/2025 00:06:49] "GET /api/market-trends HTTP/1.1" 200 -
2025-06-27 00:06:49,847 - src.database.database_manager - INFO - Retrieved 0 analysis results
2025-06-27 00:06:49,850 - werkzeug - INFO - 127.0.0.1 - - [27/Jun/2025 00:06:49] "GET /api/data-status HTTP/1.1" 200 -
2025-06-27 00:07:07,896 - src.dashboard.app - INFO - Japan data file upload requested
2025-06-27 00:07:07,901 - src.dashboard.app - INFO - Processing Japan data file: japan_mock_data.xlsx
2025-06-27 00:07:08,169 - src.dashboard.app - INFO - File read successfully: 100 rows, 14 columns
2025-06-27 00:07:08,169 - src.dashboard.app - INFO - Processing Japan file data with columns: ['make', 'model', 'year', 'final_price_jpy', 'final_price_gbp', 'mileage_km', 'grade', 'fuel_type', 'transmission', 'body_type', 'colour', 'auction_house', 'auction_date', 'title']
2025-06-27 00:07:08,169 - src.dashboard.app - INFO - Column mapping: {'make': 'make', 'model': 'model', 'year': 'year', 'final_price_jpy': 'final_price_jpy', 'final_price_gbp': 'final_price_gbp', 'mileage_km': 'mileage_km', 'grade': 'grade', 'fuel_type': 'fuel_type', 'transmission': 'transmission', 'body_type': 'body_type', 'colour': 'colour', 'auction_house': 'auction_house', 'auction_date': 'auction_date', 'title': 'title'}
2025-06-27 00:07:08,185 - src.dashboard.app - INFO - Processed Japan data: 100 valid records
2025-06-27 00:07:08,199 - src.database.database_manager - INFO - Universal mapping input columns: ['make', 'model', 'year', 'final_price_jpy', 'final_price_gbp', 'mileage_km', 'grade', 'fuel_type', 'transmission', 'body_type', 'colour', 'auction_house', 'auction_date', 'title', 'auction_id', 'mileage_miles', 'grade_score', 'estimated_import_cost', 'shipping_cost', 'import_duty', 'vat', 'other_costs', 'total_landed_cost', 'source', 'collection_timestamp']
2025-06-27 00:07:08,211 - src.database.database_manager - INFO - Exact: auction_id -> auction_id
2025-06-27 00:07:08,212 - src.database.database_manager - INFO - Exact: title -> title
2025-06-27 00:07:08,212 - src.database.database_manager - INFO - Exact: year -> year
2025-06-27 00:07:08,213 - src.database.database_manager - INFO - Partial: mileage_km -> mileage_km
2025-06-27 00:07:08,213 - src.database.database_manager - INFO - Exact: transmission -> transmission
2025-06-27 00:07:08,213 - src.database.database_manager - INFO - Exact: model -> model
2025-06-27 00:07:08,213 - src.database.database_manager - INFO - Partial: fuel_type -> fuel_type
2025-06-27 00:07:08,214 - src.database.database_manager - INFO - Exact: colour -> colour
2025-06-27 00:07:08,214 - src.database.database_manager - INFO - Exact: auction_house -> auction_house
2025-06-27 00:07:08,215 - src.database.database_manager - INFO - Partial: final_price_jpy -> final_price_gbp
2025-06-27 00:07:08,215 - src.database.database_manager - INFO - Partial: final_price_jpy -> final_price_jpy
2025-06-27 00:07:08,215 - src.database.database_manager - INFO - Partial: total_landed_cost -> total_landed_cost
2025-06-27 00:07:08,215 - src.database.database_manager - INFO - Exact: grade -> grade
2025-06-27 00:07:08,216 - src.database.database_manager - INFO - Exact: grade_score -> grade_score
2025-06-27 00:07:08,216 - src.database.database_manager - INFO - Exact: auction_date -> auction_date
2025-06-27 00:07:08,216 - src.database.database_manager - INFO - Exact: estimated_import_cost -> estimated_import_cost
2025-06-27 00:07:08,217 - src.database.database_manager - INFO - Exact: shipping_cost -> shipping_cost
2025-06-27 00:07:08,217 - src.database.database_manager - INFO - Exact: import_duty -> import_duty
2025-06-27 00:07:08,218 - src.database.database_manager - INFO - Exact: vat -> vat
2025-06-27 00:07:08,218 - src.database.database_manager - INFO - Exact: other_costs -> other_costs
2025-06-27 00:07:08,229 - src.database.database_manager - INFO - Universal mapping completed. Output columns: ['auction_id', 'title', 'year', 'mileage_km', 'transmission', 'model', 'fuel_type', 'engine_details', 'colour', 'steering', 'drive_type', 'seats', 'doors', 'auction_house', 'final_price_gbp', 'final_price_jpy', 'total_landed_cost', 'image_url', 'promo_badges', 'grade', 'grade_score', 'auction_date', 'estimated_import_cost', 'shipping_cost', 'import_duty', 'vat', 'other_costs', 'mileage_miles', 'make']
2025-06-27 00:07:08,334 - src.dashboard.app - INFO - Japan data upload completed: 100 vehicles
2025-06-27 00:07:08,336 - werkzeug - INFO - 127.0.0.1 - - [27/Jun/2025 00:07:08] "POST /api/upload-japan-data HTTP/1.1" 200 -
2025-06-27 00:07:20,694 - src.dashboard.app - INFO - Dashboard page requested
2025-06-27 00:07:20,694 - werkzeug - INFO - 127.0.0.1 - - [27/Jun/2025 00:07:20] "GET / HTTP/1.1" 200 -
2025-06-27 00:07:20,741 - src.dashboard.app - INFO - Data status requested
2025-06-27 00:07:20,741 - src.dashboard.app - INFO - API summary endpoint called
2025-06-27 00:07:20,742 - src.dashboard.app - INFO - Top vehicles endpoint called with limit: 20
2025-06-27 00:07:20,744 - src.dashboard.app - INFO - Market trends endpoint called
2025-06-27 00:07:20,748 - src.database.database_manager - INFO - Retrieved 0 analysis results
2025-06-27 00:07:20,749 - src.dashboard.app - WARNING - No analysis results available
2025-06-27 00:07:20,749 - src.dashboard.app - INFO - Market summary retrieved: True
2025-06-27 00:07:20,749 - werkzeug - INFO - 127.0.0.1 - - [27/Jun/2025 00:07:20] "GET /api/top-vehicles?limit=20 HTTP/1.1" 200 -
2025-06-27 00:07:20,756 - src.database.database_manager - INFO - Retrieved 0 analysis results
2025-06-27 00:07:20,756 - src.dashboard.app - INFO - Analysis results count: 0
2025-06-27 00:07:20,759 - src.dashboard.app - INFO - Database stats: {'uk_market_data': 167, 'japan_auction_data': 100, 'government_data': 0, 'analysis_results': 0, 'database_size_mb': 0.2}
2025-06-27 00:07:20,761 - src.dashboard.app - INFO - Summary prepared with 0 opportunities
2025-06-27 00:07:20,762 - werkzeug - INFO - 127.0.0.1 - - [27/Jun/2025 00:07:20] "GET /api/summary HTTP/1.1" 200 -
2025-06-27 00:07:20,768 - src.database.database_manager - INFO - Retrieved 167 UK market records
2025-06-27 00:07:20,772 - src.database.database_manager - INFO - Retrieved 167 UK market records
2025-06-27 00:07:20,778 - src.database.database_manager - INFO - Retrieved 100 Japan auction records
2025-06-27 00:07:20,785 - werkzeug - INFO - 127.0.0.1 - - [27/Jun/2025 00:07:20] "GET /api/market-trends HTTP/1.1" 200 -
2025-06-27 00:07:20,789 - src.database.database_manager - INFO - Retrieved 100 Japan auction records
2025-06-27 00:07:20,798 - src.database.database_manager - INFO - Retrieved 0 analysis results
2025-06-27 00:07:20,799 - werkzeug - INFO - 127.0.0.1 - - [27/Jun/2025 00:07:20] "GET /api/data-status HTTP/1.1" 200 -
2025-06-27 00:07:23,649 - src.dashboard.app - INFO - Dashboard page requested
2025-06-27 00:07:23,650 - werkzeug - INFO - 127.0.0.1 - - [27/Jun/2025 00:07:23] "GET / HTTP/1.1" 200 -
2025-06-27 00:07:23,692 - src.dashboard.app - INFO - Data status requested
2025-06-27 00:07:23,692 - src.dashboard.app - INFO - API summary endpoint called
2025-06-27 00:07:23,694 - src.dashboard.app - INFO - Top vehicles endpoint called with limit: 20
2025-06-27 00:07:23,694 - src.dashboard.app - INFO - Market trends endpoint called
2025-06-27 00:07:23,699 - src.database.database_manager - INFO - Retrieved 0 analysis results
2025-06-27 00:07:23,700 - src.dashboard.app - WARNING - No analysis results available
2025-06-27 00:07:23,700 - src.dashboard.app - INFO - Market summary retrieved: True
2025-06-27 00:07:23,700 - werkzeug - INFO - 127.0.0.1 - - [27/Jun/2025 00:07:23] "GET /api/top-vehicles?limit=20 HTTP/1.1" 200 -
2025-06-27 00:07:23,704 - src.database.database_manager - INFO - Retrieved 0 analysis results
2025-06-27 00:07:23,705 - src.dashboard.app - INFO - Analysis results count: 0
2025-06-27 00:07:23,707 - src.dashboard.app - INFO - Database stats: {'uk_market_data': 167, 'japan_auction_data': 100, 'government_data': 0, 'analysis_results': 0, 'database_size_mb': 0.2}
2025-06-27 00:07:23,707 - src.dashboard.app - INFO - Summary prepared with 0 opportunities
2025-06-27 00:07:23,708 - werkzeug - INFO - 127.0.0.1 - - [27/Jun/2025 00:07:23] "GET /api/summary HTTP/1.1" 200 -
2025-06-27 00:07:23,713 - src.database.database_manager - INFO - Retrieved 167 UK market records
2025-06-27 00:07:23,717 - src.database.database_manager - INFO - Retrieved 167 UK market records
2025-06-27 00:07:23,724 - src.database.database_manager - INFO - Retrieved 100 Japan auction records
2025-06-27 00:07:23,729 - src.database.database_manager - INFO - Retrieved 100 Japan auction records
2025-06-27 00:07:23,733 - src.database.database_manager - INFO - Retrieved 0 analysis results
2025-06-27 00:07:23,738 - werkzeug - INFO - 127.0.0.1 - - [27/Jun/2025 00:07:23] "GET /api/market-trends HTTP/1.1" 200 -
2025-06-27 00:07:23,740 - werkzeug - INFO - 127.0.0.1 - - [27/Jun/2025 00:07:23] "GET /api/data-status HTTP/1.1" 200 -
2025-06-27 00:07:27,733 - src.dashboard.app - INFO - Dashboard page requested
2025-06-27 00:07:27,735 - werkzeug - INFO - 127.0.0.1 - - [27/Jun/2025 00:07:27] "GET / HTTP/1.1" 200 -
2025-06-27 00:07:27,769 - src.dashboard.app - INFO - Data status requested
2025-06-27 00:07:27,770 - src.dashboard.app - INFO - API summary endpoint called
2025-06-27 00:07:27,771 - src.dashboard.app - INFO - Top vehicles endpoint called with limit: 20
2025-06-27 00:07:27,772 - src.dashboard.app - INFO - Market trends endpoint called
2025-06-27 00:07:27,776 - src.database.database_manager - INFO - Retrieved 0 analysis results
2025-06-27 00:07:27,776 - src.dashboard.app - WARNING - No analysis results available
2025-06-27 00:07:27,777 - src.dashboard.app - INFO - Market summary retrieved: True
2025-06-27 00:07:27,777 - werkzeug - INFO - 127.0.0.1 - - [27/Jun/2025 00:07:27] "GET /api/top-vehicles?limit=20 HTTP/1.1" 200 -
2025-06-27 00:07:27,827 - src.database.database_manager - INFO - Retrieved 0 analysis results
2025-06-27 00:07:27,827 - src.dashboard.app - INFO - Analysis results count: 0
2025-06-27 00:07:27,830 - src.dashboard.app - INFO - Database stats: {'uk_market_data': 167, 'japan_auction_data': 100, 'government_data': 0, 'analysis_results': 0, 'database_size_mb': 0.2}
2025-06-27 00:07:27,830 - src.dashboard.app - INFO - Summary prepared with 0 opportunities
2025-06-27 00:07:27,831 - werkzeug - INFO - 127.0.0.1 - - [27/Jun/2025 00:07:27] "GET /api/summary HTTP/1.1" 200 -
2025-06-27 00:07:27,834 - src.database.database_manager - INFO - Retrieved 167 UK market records
2025-06-27 00:07:27,838 - src.database.database_manager - INFO - Retrieved 167 UK market records
2025-06-27 00:07:27,842 - src.database.database_manager - INFO - Retrieved 100 Japan auction records
2025-06-27 00:07:27,846 - src.database.database_manager - INFO - Retrieved 0 analysis results
2025-06-27 00:07:27,849 - werkzeug - INFO - 127.0.0.1 - - [27/Jun/2025 00:07:27] "GET /api/data-status HTTP/1.1" 200 -
2025-06-27 00:07:27,850 - src.database.database_manager - INFO - Retrieved 100 Japan auction records
2025-06-27 00:07:27,856 - werkzeug - INFO - 127.0.0.1 - - [27/Jun/2025 00:07:27] "GET /api/market-trends HTTP/1.1" 200 -
2025-06-27 00:07:30,238 - src.dashboard.app - INFO - Analysis run requested
2025-06-27 00:07:30,239 - src.database.database_manager - INFO - Retrieved 167 UK market records
2025-06-27 00:07:30,246 - src.database.database_manager - INFO - Retrieved 100 Japan auction records
2025-06-27 00:07:30,247 - src.analysis.profitability_analyzer - INFO - Profitability analyzer initialized
2025-06-27 00:07:30,247 - src.dashboard.app - INFO - Running profitability analysis...
2025-06-27 00:07:30,247 - src.analysis.profitability_analyzer - INFO - Starting profitability analysis
2025-06-27 00:07:30,248 - src.analysis.profitability_analyzer - INFO - Input data - UK: 167 records, Japan: 100 records
2025-06-27 00:07:30,253 - src.analysis.profitability_analyzer - INFO - UK data cleaned: 167 records
2025-06-27 00:07:30,259 - src.analysis.profitability_analyzer - INFO - Japan data cleaned: 100 records
2025-06-27 00:07:30,260 - src.analysis.profitability_analyzer - INFO - Cleaned data - UK: 167 records, Japan: 100 records
2025-06-27 00:07:30,261 - src.analysis.profitability_analyzer - INFO - Starting comprehensive vehicle matching...
2025-06-27 00:07:30,261 - src.analysis.profitability_analyzer - INFO - Strategy 1: Exact make + model + year range matching...
2025-06-27 00:07:30,269 - src.analysis.profitability_analyzer - INFO - Exact matches found: 0
2025-06-27 00:07:30,269 - src.analysis.profitability_analyzer - INFO - Strategy 2: Make + year range matching...
2025-06-27 00:07:30,270 - src.analysis.profitability_analyzer - INFO - Make+year matches found: 0
2025-06-27 00:07:30,270 - src.analysis.profitability_analyzer - INFO - Strategy 3: Make-only matching...
2025-06-27 00:07:30,273 - src.analysis.profitability_analyzer - INFO - Make-only matches found: 0
2025-06-27 00:07:30,274 - src.analysis.profitability_analyzer - INFO - Strategy 4: Category matching...
2025-06-27 00:07:30,277 - src.analysis.profitability_analyzer - INFO - Category matches found: 0
2025-06-27 00:07:30,277 - src.analysis.profitability_analyzer - WARNING - No matches found with any strategy
2025-06-27 00:07:30,278 - src.analysis.profitability_analyzer - WARNING - No vehicle matches found
2025-06-27 00:07:30,278 - src.analysis.profitability_analyzer - INFO - Creating fallback matches...
2025-06-27 00:07:30,279 - src.analysis.profitability_analyzer - INFO - No common makes, creating cross-brand matches
2025-06-27 00:07:30,282 - src.analysis.profitability_analyzer - INFO - Created 0 fallback matches
2025-06-27 00:07:30,283 - src.analysis.profitability_analyzer - ERROR - Still no matches after fallback
2025-06-27 00:07:30,284 - werkzeug - INFO - 127.0.0.1 - - [27/Jun/2025 00:07:30] "POST /api/run-analysis HTTP/1.1" 200 -
2025-06-27 00:07:35,544 - src.dashboard.app - INFO - Analysis run requested
2025-06-27 00:07:35,548 - src.database.database_manager - INFO - Retrieved 167 UK market records
2025-06-27 00:07:35,554 - src.database.database_manager - INFO - Retrieved 100 Japan auction records
2025-06-27 00:07:35,555 - src.analysis.profitability_analyzer - INFO - Profitability analyzer initialized
2025-06-27 00:07:35,555 - src.dashboard.app - INFO - Running profitability analysis...
2025-06-27 00:07:35,556 - src.analysis.profitability_analyzer - INFO - Starting profitability analysis
2025-06-27 00:07:35,556 - src.analysis.profitability_analyzer - INFO - Input data - UK: 167 records, Japan: 100 records
2025-06-27 00:07:35,562 - src.analysis.profitability_analyzer - INFO - UK data cleaned: 167 records
2025-06-27 00:07:35,566 - src.analysis.profitability_analyzer - INFO - Japan data cleaned: 100 records
2025-06-27 00:07:35,569 - src.analysis.profitability_analyzer - INFO - Cleaned data - UK: 167 records, Japan: 100 records
2025-06-27 00:07:35,569 - src.analysis.profitability_analyzer - INFO - Starting comprehensive vehicle matching...
2025-06-27 00:07:35,570 - src.analysis.profitability_analyzer - INFO - Strategy 1: Exact make + model + year range matching...
2025-06-27 00:07:35,577 - src.analysis.profitability_analyzer - INFO - Exact matches found: 0
2025-06-27 00:07:35,578 - src.analysis.profitability_analyzer - INFO - Strategy 2: Make + year range matching...
2025-06-27 00:07:35,581 - src.analysis.profitability_analyzer - INFO - Make+year matches found: 0
2025-06-27 00:07:35,581 - src.analysis.profitability_analyzer - INFO - Strategy 3: Make-only matching...
2025-06-27 00:07:35,582 - src.analysis.profitability_analyzer - INFO - Make-only matches found: 0
2025-06-27 00:07:35,582 - src.analysis.profitability_analyzer - INFO - Strategy 4: Category matching...
2025-06-27 00:07:35,585 - src.analysis.profitability_analyzer - INFO - Category matches found: 0
2025-06-27 00:07:35,586 - src.analysis.profitability_analyzer - WARNING - No matches found with any strategy
2025-06-27 00:07:35,587 - src.analysis.profitability_analyzer - WARNING - No vehicle matches found
2025-06-27 00:07:35,587 - src.analysis.profitability_analyzer - INFO - Creating fallback matches...
2025-06-27 00:07:35,587 - src.analysis.profitability_analyzer - INFO - No common makes, creating cross-brand matches
2025-06-27 00:07:35,590 - src.analysis.profitability_analyzer - INFO - Created 0 fallback matches
2025-06-27 00:07:35,591 - src.analysis.profitability_analyzer - ERROR - Still no matches after fallback
2025-06-27 00:07:35,592 - werkzeug - INFO - 127.0.0.1 - - [27/Jun/2025 00:07:35] "POST /api/run-analysis HTTP/1.1" 200 -
2025-06-27 00:13:01,475 - src.dashboard.app - INFO - Dashboard page requested
2025-06-27 00:13:01,475 - werkzeug - INFO - 127.0.0.1 - - [27/Jun/2025 00:13:01] "GET / HTTP/1.1" 200 -
2025-06-27 00:13:01,574 - src.dashboard.app - INFO - Data status requested
2025-06-27 00:13:01,574 - src.dashboard.app - INFO - API summary endpoint called
2025-06-27 00:13:01,574 - src.dashboard.app - INFO - Top vehicles endpoint called with limit: 20
2025-06-27 00:13:01,578 - src.dashboard.app - INFO - Market trends endpoint called
2025-06-27 00:13:01,583 - src.database.database_manager - INFO - Retrieved 0 analysis results
2025-06-27 00:13:01,583 - src.dashboard.app - INFO - Market summary retrieved: True
2025-06-27 00:13:01,584 - src.dashboard.app - WARNING - No analysis results available
2025-06-27 00:13:01,585 - werkzeug - INFO - 127.0.0.1 - - [27/Jun/2025 00:13:01] "GET /api/top-vehicles?limit=20 HTTP/1.1" 200 -
2025-06-27 00:13:01,590 - src.database.database_manager - INFO - Retrieved 0 analysis results
2025-06-27 00:13:01,590 - src.dashboard.app - INFO - Analysis results count: 0
2025-06-27 00:13:01,595 - src.dashboard.app - INFO - Database stats: {'uk_market_data': 167, 'japan_auction_data': 100, 'government_data': 0, 'analysis_results': 0, 'database_size_mb': 0.2}
2025-06-27 00:13:01,597 - src.dashboard.app - INFO - Summary prepared with 0 opportunities
2025-06-27 00:13:01,598 - werkzeug - INFO - 127.0.0.1 - - [27/Jun/2025 00:13:01] "GET /api/summary HTTP/1.1" 200 -
2025-06-27 00:13:01,599 - src.database.database_manager - INFO - Retrieved 167 UK market records
2025-06-27 00:13:01,603 - src.database.database_manager - INFO - Retrieved 167 UK market records
2025-06-27 00:13:01,609 - src.database.database_manager - INFO - Retrieved 100 Japan auction records
2025-06-27 00:13:01,615 - src.database.database_manager - INFO - Retrieved 100 Japan auction records
2025-06-27 00:13:01,618 - src.database.database_manager - INFO - Retrieved 0 analysis results
2025-06-27 00:13:01,623 - werkzeug - INFO - 127.0.0.1 - - [27/Jun/2025 00:13:01] "GET /api/market-trends HTTP/1.1" 200 -
2025-06-27 00:13:01,624 - werkzeug - INFO - 127.0.0.1 - - [27/Jun/2025 00:13:01] "GET /api/data-status HTTP/1.1" 200 -
2025-06-27 00:13:09,679 - src.dashboard.app - INFO - UK data file upload requested
2025-06-27 00:13:09,680 - src.dashboard.app - INFO - Processing UK data file: New__Used_Cars_for_Sale_-_2.xlsx
2025-06-27 00:13:09,693 - src.dashboard.app - INFO - File read successfully: 51 rows, 8 columns
2025-06-27 00:13:09,694 - src.dashboard.app - INFO - Available columns: ['Car Title', 'Car Price', 'Car Miles', 'Car Reg Year', 'Image URL', 'Car Detail URL', 'Car Location', 'Car Rating']
2025-06-27 00:13:09,694 - src.dashboard.app - INFO - Processing UK file data with specific columns
2025-06-27 00:13:09,695 - src.dashboard.app - INFO - Input columns: ['Car Title', 'Car Price', 'Car Miles', 'Car Reg Year', 'Image URL', 'Car Detail URL', 'Car Location', 'Car Rating']
2025-06-27 00:13:09,696 - src.dashboard.app - INFO - Column mapping: {'Car Title': 'title', 'Image URL': 'image_url', 'Car Detail URL': 'url', 'Car Location': 'location', 'Car Rating': 'seller_rating'}
2025-06-27 00:13:09,718 - src.dashboard.app - INFO - Processed UK data: 0 valid records
2025-06-27 00:13:09,718 - werkzeug - INFO - 127.0.0.1 - - [27/Jun/2025 00:13:09] "[31m[1mPOST /api/upload-uk-data HTTP/1.1[0m" 400 -
2025-06-27 00:15:40,305 - src.dashboard.app - INFO - Dashboard page requested
2025-06-27 00:15:40,305 - werkzeug - INFO - 127.0.0.1 - - [27/Jun/2025 00:15:40] "GET / HTTP/1.1" 200 -
2025-06-27 00:15:40,394 - src.dashboard.app - INFO - Data status requested
2025-06-27 00:15:40,394 - src.dashboard.app - INFO - API summary endpoint called
2025-06-27 00:15:40,394 - src.dashboard.app - INFO - Top vehicles endpoint called with limit: 20
2025-06-27 00:15:40,394 - src.dashboard.app - INFO - Market trends endpoint called
2025-06-27 00:15:40,404 - src.database.database_manager - INFO - Retrieved 0 analysis results
2025-06-27 00:15:40,404 - src.dashboard.app - INFO - Market summary retrieved: True
2025-06-27 00:15:40,405 - src.dashboard.app - WARNING - No analysis results available
2025-06-27 00:15:40,405 - werkzeug - INFO - 127.0.0.1 - - [27/Jun/2025 00:15:40] "GET /api/top-vehicles?limit=20 HTTP/1.1" 200 -
2025-06-27 00:15:40,411 - src.database.database_manager - INFO - Retrieved 0 analysis results
2025-06-27 00:15:40,411 - src.dashboard.app - INFO - Analysis results count: 0
2025-06-27 00:15:40,415 - src.dashboard.app - INFO - Database stats: {'uk_market_data': 167, 'japan_auction_data': 100, 'government_data': 0, 'analysis_results': 0, 'database_size_mb': 0.2}
2025-06-27 00:15:40,418 - src.database.database_manager - INFO - Retrieved 167 UK market records
2025-06-27 00:15:40,418 - src.dashboard.app - INFO - Summary prepared with 0 opportunities
2025-06-27 00:15:40,421 - werkzeug - INFO - 127.0.0.1 - - [27/Jun/2025 00:15:40] "GET /api/summary HTTP/1.1" 200 -
2025-06-27 00:15:40,425 - src.database.database_manager - INFO - Retrieved 167 UK market records
2025-06-27 00:15:40,432 - src.database.database_manager - INFO - Retrieved 100 Japan auction records
2025-06-27 00:15:40,435 - src.database.database_manager - INFO - Retrieved 100 Japan auction records
2025-06-27 00:15:40,440 - werkzeug - INFO - 127.0.0.1 - - [27/Jun/2025 00:15:40] "GET /api/market-trends HTTP/1.1" 200 -
2025-06-27 00:15:40,444 - src.database.database_manager - INFO - Retrieved 0 analysis results
2025-06-27 00:15:40,446 - werkzeug - INFO - 127.0.0.1 - - [27/Jun/2025 00:15:40] "GET /api/data-status HTTP/1.1" 200 -
2025-06-27 00:15:42,957 - src.dashboard.app - INFO - UK data file upload requested
2025-06-27 00:15:42,963 - src.dashboard.app - INFO - Processing UK data file: New__Used_Cars_for_Sale_-_2.xlsx
2025-06-27 00:15:42,985 - src.dashboard.app - INFO - File read successfully: 51 rows, 8 columns
2025-06-27 00:15:42,985 - src.dashboard.app - INFO - Available columns: ['Car Title', 'Price', 'Mileage', 'Registration Date', 'Image URL', 'Car Detail URL', 'Car Location', 'Seller Rating']
2025-06-27 00:15:42,986 - src.dashboard.app - INFO - Processing UK file data with specific columns
2025-06-27 00:15:42,986 - src.dashboard.app - INFO - Input columns: ['Car Title', 'Price', 'Mileage', 'Registration Date', 'Image URL', 'Car Detail URL', 'Car Location', 'Seller Rating']
2025-06-27 00:15:42,987 - src.dashboard.app - INFO - Column mapping: {'Car Title': 'title', 'Price': 'price', 'Mileage': 'mileage', 'Registration Date': 'registration_date', 'Image URL': 'image_url', 'Car Detail URL': 'url', 'Car Location': 'location', 'Seller Rating': 'seller_rating'}
2025-06-27 00:15:43,006 - src.dashboard.app - INFO - Processed UK data: 51 valid records
2025-06-27 00:15:43,008 - src.dashboard.app - INFO - Sample processed record: Toyota Dynamic (2018) - £14850.0
2025-06-27 00:15:43,032 - src.dashboard.app - INFO - UK data upload completed: 51 vehicles
2025-06-27 00:15:43,033 - werkzeug - INFO - 127.0.0.1 - - [27/Jun/2025 00:15:43] "POST /api/upload-uk-data HTTP/1.1" 200 -
2025-06-27 00:15:48,698 - src.dashboard.app - INFO - Analysis run requested
2025-06-27 00:15:48,707 - src.database.database_manager - INFO - Retrieved 218 UK market records
2025-06-27 00:15:48,711 - src.database.database_manager - INFO - Retrieved 100 Japan auction records
2025-06-27 00:15:48,712 - src.analysis.profitability_analyzer - INFO - Profitability analyzer initialized
2025-06-27 00:15:48,713 - src.dashboard.app - INFO - Running profitability analysis...
2025-06-27 00:15:48,713 - src.analysis.profitability_analyzer - INFO - Starting profitability analysis
2025-06-27 00:15:48,713 - src.analysis.profitability_analyzer - INFO - Input data - UK: 218 records, Japan: 100 records
2025-06-27 00:15:48,720 - src.analysis.profitability_analyzer - INFO - UK data cleaned: 218 records
2025-06-27 00:15:48,726 - src.analysis.profitability_analyzer - INFO - Japan data cleaned: 100 records
2025-06-27 00:15:48,727 - src.analysis.profitability_analyzer - INFO - Cleaned data - UK: 218 records, Japan: 100 records
2025-06-27 00:15:48,728 - src.analysis.profitability_analyzer - INFO - Starting comprehensive vehicle matching...
2025-06-27 00:15:48,728 - src.analysis.profitability_analyzer - INFO - Strategy 1: Exact make + model + year range matching...
2025-06-27 00:15:48,740 - src.analysis.profitability_analyzer - INFO - Exact matches found: 0
2025-06-27 00:15:48,741 - src.analysis.profitability_analyzer - INFO - Strategy 2: Make + year range matching...
2025-06-27 00:15:48,748 - src.analysis.profitability_analyzer - INFO - Make+year matches found: 1
2025-06-27 00:15:48,749 - src.analysis.profitability_analyzer - INFO - Strategy 3: Make-only matching...
2025-06-27 00:15:48,755 - src.analysis.profitability_analyzer - INFO - Make-only matches found: 1
2025-06-27 00:15:48,760 - src.analysis.profitability_analyzer - INFO - Total unique matches: 1
2025-06-27 00:15:48,760 - src.analysis.profitability_analyzer - INFO - Created 1 vehicle matches
2025-06-27 00:15:48,761 - src.analysis.profitability_analyzer - INFO - Calculating profitability for 1 matches
2025-06-27 00:15:48,770 - src.analysis.profitability_analyzer - INFO - Profitability filtering: 1 -> 1 opportunities
2025-06-27 00:15:48,770 - src.analysis.profitability_analyzer - INFO - Found 1 profitable opportunities
2025-06-27 00:15:48,783 - src.analysis.profitability_analyzer - INFO - Profitability analysis completed for 1 vehicle combinations
2025-06-27 00:15:48,783 - src.dashboard.app - INFO - Generating investment scores...
2025-06-27 00:15:48,783 - src.analysis.scoring_engine - INFO - Calculating vehicle scores
2025-06-27 00:15:48,800 - src.analysis.scoring_engine - INFO - Scoring completed for 1 vehicles
2025-06-27 00:15:48,823 - src.dashboard.app - INFO - Analysis completed: 1 opportunities
2025-06-27 00:15:48,839 - werkzeug - INFO - 127.0.0.1 - - [27/Jun/2025 00:15:48] "POST /api/run-analysis HTTP/1.1" 200 -
2025-06-27 00:15:49,853 - src.dashboard.app - INFO - API summary endpoint called
2025-06-27 00:15:49,853 - src.dashboard.app - INFO - Top vehicles endpoint called with limit: 20
2025-06-27 00:15:49,853 - src.dashboard.app - INFO - Market trends endpoint called
2025-06-27 00:15:49,853 - src.database.database_manager - INFO - Retrieved 1 analysis results
2025-06-27 00:15:49,853 - src.dashboard.app - INFO - Market summary retrieved: True
2025-06-27 00:15:49,867 - src.dashboard.app - INFO - Generated recommendations for 1 vehicles
2025-06-27 00:15:49,868 - werkzeug - INFO - 127.0.0.1 - - [27/Jun/2025 00:15:49] "GET /api/top-vehicles?limit=20 HTTP/1.1" 200 -
2025-06-27 00:15:49,871 - src.database.database_manager - INFO - Retrieved 1 analysis results
2025-06-27 00:15:49,872 - src.dashboard.app - INFO - Analysis results count: 1
2025-06-27 00:15:49,875 - src.database.database_manager - INFO - Retrieved 218 UK market records
2025-06-27 00:15:49,876 - src.dashboard.app - INFO - Database stats: {'uk_market_data': 218, 'japan_auction_data': 100, 'government_data': 0, 'analysis_results': 1, 'database_size_mb': 0.24}
2025-06-27 00:15:49,876 - src.dashboard.app - INFO - Summary prepared with 1 opportunities
2025-06-27 00:15:49,877 - werkzeug - INFO - 127.0.0.1 - - [27/Jun/2025 00:15:49] "GET /api/summary HTTP/1.1" 200 -
2025-06-27 00:15:49,882 - src.database.database_manager - INFO - Retrieved 100 Japan auction records
2025-06-27 00:15:49,887 - werkzeug - INFO - 127.0.0.1 - - [27/Jun/2025 00:15:49] "GET /api/market-trends HTTP/1.1" 200 -
2025-06-27 00:17:54,745 - src.database.database_manager - INFO - Retrieved 1 analysis results
2025-06-27 00:17:54,745 - src.analysis.scoring_engine - INFO - Starting portfolio optimization with budget £100,000
2025-06-27 00:17:54,746 - src.analysis.scoring_engine - INFO - Available columns: ['id', 'make', 'model', 'year', 'year_range', 'uk_sample_size', 'japan_sample_size', 'match_type', 'uk_avg_price', 'uk_median_price', 'uk_min_price', 'uk_max_price', 'uk_price_std', 'uk_avg_mileage', 'uk_median_mileage', 'uk_listings_count', 'japan_avg_auction_price', 'japan_median_auction_price', 'japan_min_auction_price', 'japan_max_auction_price', 'japan_avg_import_cost', 'japan_avg_total_cost', 'japan_median_total_cost', 'japan_avg_mileage', 'japan_avg_grade', 'japan_auctions_count', 'gross_profit', 'profit_margin', 'profit_margin_conservative', 'roi', 'price_volatility_uk', 'risk_score', 'market_share', 'listings_density', 'price_trend', 'demand_score', 'avg_days_listed', 'profitability_score', 'market_demand_score', 'risk_assessment_score', 'liquidity_score', 'market_trends_score', 'final_score', 'final_score_percentile', 'score_grade', 'investment_category', 'recommendation', 'overall_score', 'analysis_timestamp', 'created_at']
2025-06-27 00:17:54,749 - src.analysis.scoring_engine - INFO - Portfolio columns ensured with fallback values
2025-06-27 00:17:54,750 - src.analysis.scoring_engine - INFO - Found 1 affordable vehicles out of 1 total
2025-06-27 00:17:54,750 - src.analysis.scoring_engine - INFO - Added to portfolio: Toyota Euro - £5,772
2025-06-27 00:17:54,751 - src.analysis.scoring_engine - INFO - Portfolio optimization completed: 1 vehicles, £5,772 invested
2025-06-27 00:17:54,751 - werkzeug - INFO - 127.0.0.1 - - [27/Jun/2025 00:17:54] "GET /api/portfolio-optimizer?budget=100000 HTTP/1.1" 200 -
2025-06-27 00:18:34,681 - werkzeug - INFO - 127.0.0.1 - - [27/Jun/2025 00:18:34] "[33mGET /.well-known/appspecific/com.chrome.devtools.json HTTP/1.1[0m" 404 -
2025-06-27 00:19:42,196 - src.dashboard.app - INFO - Dashboard page requested
2025-06-27 00:19:42,200 - werkzeug - INFO - 127.0.0.1 - - [27/Jun/2025 00:19:42] "GET / HTTP/1.1" 200 -
2025-06-27 00:19:42,274 - src.dashboard.app - INFO - Data status requested
2025-06-27 00:19:42,274 - src.dashboard.app - INFO - API summary endpoint called
2025-06-27 00:19:42,277 - src.dashboard.app - INFO - Top vehicles endpoint called with limit: 20
2025-06-27 00:19:42,278 - src.dashboard.app - INFO - Market trends endpoint called
2025-06-27 00:19:42,281 - src.dashboard.app - INFO - Market summary retrieved: True
2025-06-27 00:19:42,283 - src.database.database_manager - INFO - Retrieved 1 analysis results
2025-06-27 00:19:42,286 - src.dashboard.app - INFO - Generated recommendations for 1 vehicles
2025-06-27 00:19:42,290 - werkzeug - INFO - 127.0.0.1 - - [27/Jun/2025 00:19:42] "GET /api/top-vehicles?limit=20 HTTP/1.1" 200 -
2025-06-27 00:19:42,293 - src.database.database_manager - INFO - Retrieved 1 analysis results
2025-06-27 00:19:42,294 - src.dashboard.app - INFO - Analysis results count: 1
2025-06-27 00:19:42,297 - src.dashboard.app - INFO - Database stats: {'uk_market_data': 218, 'japan_auction_data': 100, 'government_data': 0, 'analysis_results': 1, 'database_size_mb': 0.24}
2025-06-27 00:19:42,299 - src.dashboard.app - INFO - Summary prepared with 1 opportunities
2025-06-27 00:19:42,300 - werkzeug - INFO - 127.0.0.1 - - [27/Jun/2025 00:19:42] "GET /api/summary HTTP/1.1" 200 -
2025-06-27 00:19:42,308 - src.database.database_manager - INFO - Retrieved 218 UK market records
2025-06-27 00:19:42,311 - src.database.database_manager - INFO - Retrieved 218 UK market records
2025-06-27 00:19:42,316 - src.database.database_manager - INFO - Retrieved 100 Japan auction records
2025-06-27 00:19:42,321 - src.database.database_manager - INFO - Retrieved 1 analysis results
2025-06-27 00:19:42,323 - werkzeug - INFO - 127.0.0.1 - - [27/Jun/2025 00:19:42] "GET /api/data-status HTTP/1.1" 200 -
2025-06-27 00:19:42,324 - src.database.database_manager - INFO - Retrieved 100 Japan auction records
2025-06-27 00:19:42,329 - werkzeug - INFO - 127.0.0.1 - - [27/Jun/2025 00:19:42] "GET /api/market-trends HTTP/1.1" 200 -
2025-06-27 00:19:57,687 - src.dashboard.app - INFO - Dashboard page requested
2025-06-27 00:19:57,688 - werkzeug - INFO - 127.0.0.1 - - [27/Jun/2025 00:19:57] "GET / HTTP/1.1" 200 -
2025-06-27 00:19:57,764 - src.dashboard.app - INFO - Data status requested
2025-06-27 00:19:57,765 - src.dashboard.app - INFO - API summary endpoint called
2025-06-27 00:19:57,768 - src.dashboard.app - INFO - Top vehicles endpoint called with limit: 20
2025-06-27 00:19:57,770 - src.database.database_manager - ERROR - Error retrieving UK data: Execution failed on sql '
                    SELECT * FROM uk_market_data 
                    WHERE collection_timestamp >= ?
                    ORDER BY collection_timestamp DESC
                ': no such table: uk_market_data
2025-06-27 00:19:57,771 - src.database.database_manager - ERROR - Error generating market summary: no such table: uk_market_data
2025-06-27 00:19:57,772 - src.dashboard.app - INFO - Market trends endpoint called
2025-06-27 00:19:57,772 - src.database.database_manager - ERROR - Error retrieving analysis results: Execution failed on sql '
                    SELECT * FROM analysis_results 
                    ORDER BY final_score DESC, created_at DESC
                    LIMIT ?
                ': no such table: analysis_results
2025-06-27 00:19:57,773 - src.database.database_manager - ERROR - Error retrieving Japan data: Execution failed on sql '
                    SELECT * FROM japan_auction_data 
                    WHERE collection_timestamp >= ?
                    ORDER BY collection_timestamp DESC
                ': no such table: japan_auction_data
2025-06-27 00:19:57,773 - src.dashboard.app - INFO - Market summary retrieved: False
2025-06-27 00:19:57,775 - src.database.database_manager - ERROR - Error retrieving UK data: Execution failed on sql '
                    SELECT * FROM uk_market_data 
                    WHERE collection_timestamp >= ?
                    ORDER BY collection_timestamp DESC
                ': no such table: uk_market_data
2025-06-27 00:19:57,775 - src.dashboard.app - WARNING - No analysis results available
2025-06-27 00:19:57,778 - src.database.database_manager - ERROR - Error retrieving analysis results: Execution failed on sql '
                    SELECT * FROM analysis_results 
                    ORDER BY final_score DESC, created_at DESC
                    LIMIT ?
                ': no such table: analysis_results
2025-06-27 00:19:57,778 - src.database.database_manager - ERROR - Error retrieving analysis results: Execution failed on sql '
                    SELECT * FROM analysis_results 
                    ORDER BY final_score DESC, created_at DESC
                    LIMIT ?
                ': no such table: analysis_results
2025-06-27 00:19:57,780 - werkzeug - INFO - 127.0.0.1 - - [27/Jun/2025 00:19:57] "GET /api/top-vehicles?limit=20 HTTP/1.1" 200 -
2025-06-27 00:19:57,780 - src.database.database_manager - ERROR - Error retrieving Japan data: Execution failed on sql '
                    SELECT * FROM japan_auction_data 
                    WHERE collection_timestamp >= ?
                    ORDER BY collection_timestamp DESC
                ': no such table: japan_auction_data
2025-06-27 00:19:57,782 - werkzeug - INFO - 127.0.0.1 - - [27/Jun/2025 00:19:57] "GET /api/data-status HTTP/1.1" 200 -
2025-06-27 00:19:57,785 - src.dashboard.app - INFO - Analysis results count: 0
2025-06-27 00:19:57,789 - werkzeug - INFO - 127.0.0.1 - - [27/Jun/2025 00:19:57] "GET /api/market-trends HTTP/1.1" 200 -
2025-06-27 00:19:57,790 - src.dashboard.app - INFO - Database stats: {'uk_market_data': 0, 'japan_auction_data': 0, 'government_data': 0, 'analysis_results': 0, 'database_size_mb': 0.0}
2025-06-27 00:19:57,796 - src.dashboard.app - INFO - Summary prepared with 0 opportunities
2025-06-27 00:19:57,800 - werkzeug - INFO - 127.0.0.1 - - [27/Jun/2025 00:19:57] "GET /api/summary HTTP/1.1" 200 -
2025-06-27 00:20:03,926 - src.dashboard.app - INFO - UK data file upload requested
2025-06-27 00:20:03,929 - src.dashboard.app - INFO - Processing UK data file: New__Used_Cars_for_Sale_-_2.xlsx
2025-06-27 00:20:03,952 - src.dashboard.app - INFO - File read successfully: 51 rows, 8 columns
2025-06-27 00:20:03,953 - src.dashboard.app - INFO - Available columns: ['Car Title', 'Price', 'Mileage', 'Registration Date', 'Image URL', 'Car Detail URL', 'Car Location', 'Seller Rating']
2025-06-27 00:20:03,954 - src.dashboard.app - INFO - Processing UK file data with specific columns
2025-06-27 00:20:03,955 - src.dashboard.app - INFO - Input columns: ['Car Title', 'Price', 'Mileage', 'Registration Date', 'Image URL', 'Car Detail URL', 'Car Location', 'Seller Rating']
2025-06-27 00:20:03,956 - src.dashboard.app - INFO - Column mapping: {'Car Title': 'title', 'Price': 'price', 'Mileage': 'mileage', 'Registration Date': 'registration_date', 'Image URL': 'image_url', 'Car Detail URL': 'url', 'Car Location': 'location', 'Seller Rating': 'seller_rating'}
2025-06-27 00:20:03,984 - src.dashboard.app - INFO - Processed UK data: 51 valid records
2025-06-27 00:20:03,985 - src.dashboard.app - INFO - Sample processed record: Toyota Dynamic (2018) - £14850.0
2025-06-27 00:20:04,015 - src.dashboard.app - INFO - UK data upload completed: 51 vehicles
2025-06-27 00:20:04,015 - werkzeug - INFO - 127.0.0.1 - - [27/Jun/2025 00:20:04] "POST /api/upload-uk-data HTTP/1.1" 200 -
2025-06-27 00:20:06,013 - src.dashboard.app - INFO - Dashboard page requested
2025-06-27 00:20:06,013 - werkzeug - INFO - 127.0.0.1 - - [27/Jun/2025 00:20:06] "GET / HTTP/1.1" 200 -
2025-06-27 00:20:06,054 - src.dashboard.app - INFO - Data status requested
2025-06-27 00:20:06,055 - src.dashboard.app - INFO - API summary endpoint called
2025-06-27 00:20:06,057 - src.dashboard.app - INFO - Top vehicles endpoint called with limit: 20
2025-06-27 00:20:06,058 - src.database.database_manager - ERROR - Error generating market summary: no such table: japan_auction_data
2025-06-27 00:20:06,059 - src.dashboard.app - INFO - Market summary retrieved: False
2025-06-27 00:20:06,060 - src.dashboard.app - INFO - Market trends endpoint called
2025-06-27 00:20:06,060 - src.database.database_manager - ERROR - Error retrieving analysis results: Execution failed on sql '
                    SELECT * FROM analysis_results 
                    ORDER BY final_score DESC, created_at DESC
                    LIMIT ?
                ': no such table: analysis_results
2025-06-27 00:20:06,061 - src.database.database_manager - ERROR - Error retrieving analysis results: Execution failed on sql '
                    SELECT * FROM analysis_results 
                    ORDER BY final_score DESC, created_at DESC
                    LIMIT ?
                ': no such table: analysis_results
2025-06-27 00:20:06,063 - src.dashboard.app - WARNING - No analysis results available
2025-06-27 00:20:06,065 - src.database.database_manager - INFO - Retrieved 51 UK market records
2025-06-27 00:20:06,069 - src.dashboard.app - INFO - Analysis results count: 0
2025-06-27 00:20:06,069 - src.database.database_manager - INFO - Retrieved 51 UK market records
2025-06-27 00:20:06,070 - werkzeug - INFO - 127.0.0.1 - - [27/Jun/2025 00:20:06] "GET /api/top-vehicles?limit=20 HTTP/1.1" 200 -
2025-06-27 00:20:06,072 - src.database.database_manager - ERROR - Error retrieving Japan data: Execution failed on sql '
                    SELECT * FROM japan_auction_data 
                    WHERE collection_timestamp >= ?
                    ORDER BY collection_timestamp DESC
                ': no such table: japan_auction_data
2025-06-27 00:20:06,072 - src.database.database_manager - ERROR - Error retrieving Japan data: Execution failed on sql '
                    SELECT * FROM japan_auction_data 
                    WHERE collection_timestamp >= ?
                    ORDER BY collection_timestamp DESC
                ': no such table: japan_auction_data
2025-06-27 00:20:06,075 - src.database.database_manager - ERROR - Error retrieving analysis results: Execution failed on sql '
                    SELECT * FROM analysis_results 
                    ORDER BY final_score DESC, created_at DESC
                    LIMIT ?
                ': no such table: analysis_results
2025-06-27 00:20:06,082 - werkzeug - INFO - 127.0.0.1 - - [27/Jun/2025 00:20:06] "GET /api/market-trends HTTP/1.1" 200 -
2025-06-27 00:20:06,084 - src.dashboard.app - INFO - Database stats: {'uk_market_data': 51, 'japan_auction_data': 0, 'government_data': 0, 'analysis_results': 0, 'database_size_mb': 0.04}
2025-06-27 00:20:06,085 - werkzeug - INFO - 127.0.0.1 - - [27/Jun/2025 00:20:06] "GET /api/data-status HTTP/1.1" 200 -
2025-06-27 00:20:06,087 - src.dashboard.app - INFO - Summary prepared with 0 opportunities
2025-06-27 00:20:06,089 - werkzeug - INFO - 127.0.0.1 - - [27/Jun/2025 00:20:06] "GET /api/summary HTTP/1.1" 200 -
2025-06-27 00:20:11,908 - src.dashboard.app - INFO - Japan data file upload requested
2025-06-27 00:20:11,915 - src.dashboard.app - INFO - Processing Japan data file: japan_mock_data.xlsx
2025-06-27 00:20:11,952 - src.dashboard.app - INFO - File read successfully: 100 rows, 14 columns
2025-06-27 00:20:11,952 - src.dashboard.app - INFO - Processing Japan file data with columns: ['make', 'model', 'year', 'final_price_jpy', 'final_price_gbp', 'mileage_km', 'grade', 'fuel_type', 'transmission', 'body_type', 'colour', 'auction_house', 'auction_date', 'title']
2025-06-27 00:20:11,952 - src.dashboard.app - INFO - Column mapping: {'make': 'make', 'model': 'model', 'year': 'year', 'final_price_jpy': 'final_price_jpy', 'final_price_gbp': 'final_price_gbp', 'mileage_km': 'mileage_km', 'grade': 'grade', 'fuel_type': 'fuel_type', 'transmission': 'transmission', 'body_type': 'body_type', 'colour': 'colour', 'auction_house': 'auction_house', 'auction_date': 'auction_date', 'title': 'title'}
2025-06-27 00:20:11,972 - src.dashboard.app - INFO - Processed Japan data: 100 valid records
2025-06-27 00:20:11,983 - src.database.database_manager - INFO - Universal mapping input columns: ['make', 'model', 'year', 'final_price_jpy', 'final_price_gbp', 'mileage_km', 'grade', 'fuel_type', 'transmission', 'body_type', 'colour', 'auction_house', 'auction_date', 'title', 'auction_id', 'mileage_miles', 'grade_score', 'estimated_import_cost', 'shipping_cost', 'import_duty', 'vat', 'other_costs', 'total_landed_cost', 'source', 'collection_timestamp']
2025-06-27 00:20:11,998 - src.database.database_manager - INFO - Exact: auction_id -> auction_id
2025-06-27 00:20:12,000 - src.database.database_manager - INFO - Exact: title -> title
2025-06-27 00:20:12,000 - src.database.database_manager - INFO - Exact: year -> year
2025-06-27 00:20:12,001 - src.database.database_manager - INFO - Partial: mileage_km -> mileage_km
2025-06-27 00:20:12,001 - src.database.database_manager - INFO - Exact: transmission -> transmission
2025-06-27 00:20:12,002 - src.database.database_manager - INFO - Exact: model -> model
2025-06-27 00:20:12,002 - src.database.database_manager - INFO - Partial: fuel_type -> fuel_type
2025-06-27 00:20:12,002 - src.database.database_manager - INFO - Exact: colour -> colour
2025-06-27 00:20:12,003 - src.database.database_manager - INFO - Exact: auction_house -> auction_house
2025-06-27 00:20:12,003 - src.database.database_manager - INFO - Partial: final_price_jpy -> final_price_gbp
2025-06-27 00:20:12,003 - src.database.database_manager - INFO - Partial: final_price_jpy -> final_price_jpy
2025-06-27 00:20:12,003 - src.database.database_manager - INFO - Partial: total_landed_cost -> total_landed_cost
2025-06-27 00:20:12,004 - src.database.database_manager - INFO - Exact: grade -> grade
2025-06-27 00:20:12,004 - src.database.database_manager - INFO - Exact: grade_score -> grade_score
2025-06-27 00:20:12,004 - src.database.database_manager - INFO - Exact: auction_date -> auction_date
2025-06-27 00:20:12,004 - src.database.database_manager - INFO - Exact: estimated_import_cost -> estimated_import_cost
2025-06-27 00:20:12,005 - src.database.database_manager - INFO - Exact: shipping_cost -> shipping_cost
2025-06-27 00:20:12,005 - src.database.database_manager - INFO - Exact: import_duty -> import_duty
2025-06-27 00:20:12,006 - src.database.database_manager - INFO - Exact: vat -> vat
2025-06-27 00:20:12,006 - src.database.database_manager - INFO - Exact: other_costs -> other_costs
2025-06-27 00:20:12,016 - src.database.database_manager - INFO - Universal mapping completed. Output columns: ['auction_id', 'title', 'year', 'mileage_km', 'transmission', 'model', 'fuel_type', 'engine_details', 'colour', 'steering', 'drive_type', 'seats', 'doors', 'auction_house', 'final_price_gbp', 'final_price_jpy', 'total_landed_cost', 'image_url', 'promo_badges', 'grade', 'grade_score', 'auction_date', 'estimated_import_cost', 'shipping_cost', 'import_duty', 'vat', 'other_costs', 'mileage_miles', 'make']
2025-06-27 00:20:12,096 - src.dashboard.app - INFO - Japan data upload completed: 100 vehicles
2025-06-27 00:20:12,099 - werkzeug - INFO - 127.0.0.1 - - [27/Jun/2025 00:20:12] "POST /api/upload-japan-data HTTP/1.1" 200 -
2025-06-27 00:20:13,875 - src.dashboard.app - INFO - Dashboard page requested
2025-06-27 00:20:13,876 - werkzeug - INFO - 127.0.0.1 - - [27/Jun/2025 00:20:13] "GET / HTTP/1.1" 200 -
2025-06-27 00:20:13,914 - src.dashboard.app - INFO - Data status requested
2025-06-27 00:20:13,914 - src.dashboard.app - INFO - API summary endpoint called
2025-06-27 00:20:13,916 - src.dashboard.app - INFO - Top vehicles endpoint called with limit: 20
2025-06-27 00:20:13,917 - src.database.database_manager - ERROR - Error retrieving analysis results: Execution failed on sql '
                    SELECT * FROM analysis_results 
                    ORDER BY final_score DESC, created_at DESC
                    LIMIT ?
                ': no such table: analysis_results
2025-06-27 00:20:13,917 - src.dashboard.app - INFO - Market trends endpoint called
2025-06-27 00:20:13,919 - src.dashboard.app - WARNING - No analysis results available
2025-06-27 00:20:13,920 - src.database.database_manager - INFO - Retrieved 51 UK market records
2025-06-27 00:20:13,921 - werkzeug - INFO - 127.0.0.1 - - [27/Jun/2025 00:20:13] "GET /api/top-vehicles?limit=20 HTTP/1.1" 200 -
2025-06-27 00:20:13,921 - src.database.database_manager - ERROR - Error retrieving Japan data: Execution failed on sql '
                    SELECT * FROM japan_auction_data 
                    WHERE collection_timestamp >= ?
                    ORDER BY collection_timestamp DESC
                ': no such table: japan_auction_data
2025-06-27 00:20:13,923 - src.database.database_manager - INFO - Retrieved 51 UK market records
2025-06-27 00:20:13,927 - src.database.database_manager - ERROR - Error retrieving analysis results: Execution failed on sql '
                    SELECT * FROM analysis_results 
                    ORDER BY final_score DESC, created_at DESC
                    LIMIT ?
                ': no such table: analysis_results
2025-06-27 00:20:13,927 - src.database.database_manager - ERROR - Error generating market summary: no such table: japan_auction_data
2025-06-27 00:20:13,928 - src.database.database_manager - ERROR - Error retrieving Japan data: Execution failed on sql '
                    SELECT * FROM japan_auction_data 
                    WHERE collection_timestamp >= ?
                    ORDER BY collection_timestamp DESC
                ': no such table: japan_auction_data
2025-06-27 00:20:13,930 - werkzeug - INFO - 127.0.0.1 - - [27/Jun/2025 00:20:13] "GET /api/data-status HTTP/1.1" 200 -
2025-06-27 00:20:13,932 - src.dashboard.app - INFO - Market summary retrieved: False
2025-06-27 00:20:13,934 - werkzeug - INFO - 127.0.0.1 - - [27/Jun/2025 00:20:13] "GET /api/market-trends HTTP/1.1" 200 -
2025-06-27 00:20:13,936 - src.database.database_manager - ERROR - Error retrieving analysis results: Execution failed on sql '
                    SELECT * FROM analysis_results 
                    ORDER BY final_score DESC, created_at DESC
                    LIMIT ?
                ': no such table: analysis_results
2025-06-27 00:20:13,938 - src.dashboard.app - INFO - Analysis results count: 0
2025-06-27 00:20:13,944 - src.dashboard.app - INFO - Database stats: {'uk_market_data': 51, 'japan_auction_data': 0, 'government_data': 0, 'analysis_results': 0, 'database_size_mb': 0.04}
2025-06-27 00:20:13,945 - src.dashboard.app - INFO - Summary prepared with 0 opportunities
2025-06-27 00:20:13,946 - werkzeug - INFO - 127.0.0.1 - - [27/Jun/2025 00:20:13] "GET /api/summary HTTP/1.1" 200 -
2025-06-27 00:20:24,918 - src.database.database_manager - INFO - Database manager initialized with path: database/vehicle_import.db
2025-06-27 00:20:24,918 - src.data_collectors.manual_data_importer - INFO - Fixed manual data importer initialized
2025-06-27 00:20:24,918 - src.analysis.profitability_analyzer - INFO - Profitability analyzer initialized
2025-06-27 00:20:24,918 - src.analysis.scoring_engine - INFO - Scoring engine initialized
2025-06-27 00:20:24,918 - __main__ - INFO - Vehicle Import Analyzer initialized (Manual Import Only)
2025-06-27 00:20:24,918 - __main__ - INFO - Starting Vehicle Import Analyzer (Manual Import Mode)
2025-06-27 00:20:24,922 - src.database.database_manager - INFO - Initializing database tables with FIXED schema
2025-06-27 00:20:24,957 - __main__ - INFO - Starting manual data collection
2025-06-27 00:20:24,962 - __main__ - INFO - Importing UK market data from files...
2025-06-27 00:20:24,962 - __main__ - ERROR - Error during data collection: 'ManualDataImporter' object has no attribute 'import_uk_data_batch'
2025-06-27 00:20:24,968 - src.database.database_manager - INFO - Retrieved 0 UK market records
2025-06-27 00:20:24,972 - src.database.database_manager - INFO - Retrieved 0 Japan auction records
2025-06-27 00:20:24,972 - __main__ - INFO - No initial data found - use dashboard to upload files
2025-06-27 00:20:24,973 - src.analysis.scoring_engine - INFO - Scoring engine initialized
2025-06-27 00:20:24,979 - __main__ - INFO - Starting dashboard server on http://localhost:5000
2025-06-27 00:20:24,979 - __main__ - INFO - Dashboard features:
2025-06-27 00:20:24,979 - __main__ - INFO -   - Upload UK vehicle data (CSV/Excel)
2025-06-27 00:20:24,979 - __main__ - INFO -   - Upload Japan auction data (CSV/Excel)
2025-06-27 00:20:24,979 - __main__ - INFO -   - Run profitability analysis
2025-06-27 00:20:24,979 - __main__ - INFO -   - View opportunity rankings
2025-06-27 00:20:24,979 - __main__ - INFO -   - Portfolio optimization
2025-06-27 00:20:24,979 - __main__ - INFO -   - Export results to Excel
2025-06-27 00:20:25,869 - werkzeug - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://192.168.1.143:5000
2025-06-27 00:20:25,869 - werkzeug - INFO - [33mPress CTRL+C to quit[0m
2025-06-27 00:20:28,435 - src.dashboard.app - INFO - Dashboard page requested
2025-06-27 00:20:28,446 - werkzeug - INFO - 127.0.0.1 - - [27/Jun/2025 00:20:28] "GET / HTTP/1.1" 200 -
2025-06-27 00:20:28,510 - src.dashboard.app - INFO - Data status requested
2025-06-27 00:20:28,511 - src.dashboard.app - INFO - API summary endpoint called
2025-06-27 00:20:28,514 - src.dashboard.app - INFO - Top vehicles endpoint called with limit: 20
2025-06-27 00:20:28,516 - src.database.database_manager - INFO - Retrieved 0 UK market records
2025-06-27 00:20:28,517 - src.dashboard.app - INFO - Market trends endpoint called
2025-06-27 00:20:28,521 - src.database.database_manager - INFO - Retrieved 0 analysis results
2025-06-27 00:20:28,527 - src.database.database_manager - INFO - Retrieved 0 Japan auction records
2025-06-27 00:20:28,528 - src.dashboard.app - INFO - Market summary retrieved: True
2025-06-27 00:20:28,529 - src.dashboard.app - WARNING - No analysis results available
2025-06-27 00:20:28,535 - src.database.database_manager - INFO - Retrieved 0 UK market records
2025-06-27 00:20:28,544 - src.database.database_manager - INFO - Retrieved 0 analysis results
2025-06-27 00:20:28,545 - werkzeug - INFO - 127.0.0.1 - - [27/Jun/2025 00:20:28] "GET /api/top-vehicles?limit=20 HTTP/1.1" 200 -
2025-06-27 00:20:28,553 - src.database.database_manager - INFO - Retrieved 0 analysis results
2025-06-27 00:20:28,555 - werkzeug - INFO - 127.0.0.1 - - [27/Jun/2025 00:20:28] "GET /api/data-status HTTP/1.1" 200 -
2025-06-27 00:20:28,562 - src.database.database_manager - INFO - Retrieved 0 Japan auction records
2025-06-27 00:20:28,564 - src.dashboard.app - INFO - Analysis results count: 0
2025-06-27 00:20:28,566 - werkzeug - INFO - 127.0.0.1 - - [27/Jun/2025 00:20:28] "GET /api/market-trends HTTP/1.1" 200 -
2025-06-27 00:20:28,572 - src.dashboard.app - INFO - Database stats: {'uk_market_data': 0, 'japan_auction_data': 0, 'government_data': 0, 'analysis_results': 0, 'database_size_mb': 0.05}
2025-06-27 00:20:28,573 - src.dashboard.app - INFO - Summary prepared with 0 opportunities
2025-06-27 00:20:28,575 - werkzeug - INFO - 127.0.0.1 - - [27/Jun/2025 00:20:28] "GET /api/summary HTTP/1.1" 200 -
2025-06-27 00:20:31,384 - src.dashboard.app - INFO - UK data file upload requested
2025-06-27 00:20:31,386 - src.dashboard.app - INFO - Processing UK data file: New__Used_Cars_for_Sale_-_2.xlsx
2025-06-27 00:20:31,651 - src.dashboard.app - INFO - File read successfully: 51 rows, 8 columns
2025-06-27 00:20:31,667 - src.dashboard.app - INFO - Available columns: ['Car Title', 'Price', 'Mileage', 'Registration Date', 'Image URL', 'Car Detail URL', 'Car Location', 'Seller Rating']
2025-06-27 00:20:31,667 - src.dashboard.app - INFO - Processing UK file data with specific columns
2025-06-27 00:20:31,667 - src.dashboard.app - INFO - Input columns: ['Car Title', 'Price', 'Mileage', 'Registration Date', 'Image URL', 'Car Detail URL', 'Car Location', 'Seller Rating']
2025-06-27 00:20:31,668 - src.dashboard.app - INFO - Column mapping: {'Car Title': 'title', 'Price': 'price', 'Mileage': 'mileage', 'Registration Date': 'registration_date', 'Image URL': 'image_url', 'Car Detail URL': 'url', 'Car Location': 'location', 'Seller Rating': 'seller_rating'}
2025-06-27 00:20:31,690 - src.dashboard.app - INFO - Processed UK data: 51 valid records
2025-06-27 00:20:31,690 - src.dashboard.app - INFO - Sample processed record: Toyota Dynamic (2018) - £14850.0
2025-06-27 00:20:31,716 - src.dashboard.app - INFO - UK data upload completed: 51 vehicles
2025-06-27 00:20:31,717 - werkzeug - INFO - 127.0.0.1 - - [27/Jun/2025 00:20:31] "POST /api/upload-uk-data HTTP/1.1" 200 -
2025-06-27 00:20:36,006 - src.dashboard.app - INFO - Japan data file upload requested
2025-06-27 00:20:36,008 - src.dashboard.app - INFO - Processing Japan data file: japan_mock_data.xlsx
2025-06-27 00:20:36,037 - src.dashboard.app - INFO - File read successfully: 100 rows, 14 columns
2025-06-27 00:20:36,037 - src.dashboard.app - INFO - Processing Japan file data with columns: ['make', 'model', 'year', 'final_price_jpy', 'final_price_gbp', 'mileage_km', 'grade', 'fuel_type', 'transmission', 'body_type', 'colour', 'auction_house', 'auction_date', 'title']
2025-06-27 00:20:36,040 - src.dashboard.app - INFO - Column mapping: {'make': 'make', 'model': 'model', 'year': 'year', 'final_price_jpy': 'final_price_jpy', 'final_price_gbp': 'final_price_gbp', 'mileage_km': 'mileage_km', 'grade': 'grade', 'fuel_type': 'fuel_type', 'transmission': 'transmission', 'body_type': 'body_type', 'colour': 'colour', 'auction_house': 'auction_house', 'auction_date': 'auction_date', 'title': 'title'}
2025-06-27 00:20:36,060 - src.dashboard.app - INFO - Processed Japan data: 100 valid records
2025-06-27 00:20:36,073 - src.database.database_manager - INFO - Universal mapping input columns: ['make', 'model', 'year', 'final_price_jpy', 'final_price_gbp', 'mileage_km', 'grade', 'fuel_type', 'transmission', 'body_type', 'colour', 'auction_house', 'auction_date', 'title', 'auction_id', 'mileage_miles', 'grade_score', 'estimated_import_cost', 'shipping_cost', 'import_duty', 'vat', 'other_costs', 'total_landed_cost', 'source', 'collection_timestamp']
2025-06-27 00:20:36,087 - src.database.database_manager - INFO - Exact: auction_id -> auction_id
2025-06-27 00:20:36,088 - src.database.database_manager - INFO - Exact: title -> title
2025-06-27 00:20:36,089 - src.database.database_manager - INFO - Exact: year -> year
2025-06-27 00:20:36,089 - src.database.database_manager - INFO - Partial: mileage_km -> mileage_km
2025-06-27 00:20:36,089 - src.database.database_manager - INFO - Exact: transmission -> transmission
2025-06-27 00:20:36,089 - src.database.database_manager - INFO - Exact: model -> model
2025-06-27 00:20:36,089 - src.database.database_manager - INFO - Partial: fuel_type -> fuel_type
2025-06-27 00:20:36,089 - src.database.database_manager - INFO - Exact: colour -> colour
2025-06-27 00:20:36,089 - src.database.database_manager - INFO - Exact: auction_house -> auction_house
2025-06-27 00:20:36,092 - src.database.database_manager - INFO - Partial: final_price_jpy -> final_price_gbp
2025-06-27 00:20:36,092 - src.database.database_manager - INFO - Partial: final_price_jpy -> final_price_jpy
2025-06-27 00:20:36,092 - src.database.database_manager - INFO - Partial: total_landed_cost -> total_landed_cost
2025-06-27 00:20:36,092 - src.database.database_manager - INFO - Exact: grade -> grade
2025-06-27 00:20:36,092 - src.database.database_manager - INFO - Exact: grade_score -> grade_score
2025-06-27 00:20:36,095 - src.database.database_manager - INFO - Exact: auction_date -> auction_date
2025-06-27 00:20:36,095 - src.database.database_manager - INFO - Exact: estimated_import_cost -> estimated_import_cost
2025-06-27 00:20:36,096 - src.database.database_manager - INFO - Exact: shipping_cost -> shipping_cost
2025-06-27 00:20:36,096 - src.database.database_manager - INFO - Exact: import_duty -> import_duty
2025-06-27 00:20:36,096 - src.database.database_manager - INFO - Exact: vat -> vat
2025-06-27 00:20:36,096 - src.database.database_manager - INFO - Exact: other_costs -> other_costs
2025-06-27 00:20:36,107 - src.database.database_manager - INFO - Universal mapping completed. Output columns: ['auction_id', 'title', 'year', 'mileage_km', 'transmission', 'model', 'fuel_type', 'engine_details', 'colour', 'steering', 'drive_type', 'seats', 'doors', 'auction_house', 'final_price_gbp', 'final_price_jpy', 'total_landed_cost', 'image_url', 'promo_badges', 'grade', 'grade_score', 'auction_date', 'estimated_import_cost', 'shipping_cost', 'import_duty', 'vat', 'other_costs', 'mileage_miles', 'make']
2025-06-27 00:20:36,204 - src.dashboard.app - INFO - Japan data upload completed: 100 vehicles
2025-06-27 00:20:36,206 - werkzeug - INFO - 127.0.0.1 - - [27/Jun/2025 00:20:36] "POST /api/upload-japan-data HTTP/1.1" 200 -
2025-06-27 00:20:38,534 - src.dashboard.app - INFO - Dashboard page requested
2025-06-27 00:20:38,534 - werkzeug - INFO - 127.0.0.1 - - [27/Jun/2025 00:20:38] "GET / HTTP/1.1" 200 -
2025-06-27 00:20:38,572 - src.dashboard.app - INFO - Data status requested
2025-06-27 00:20:38,575 - src.dashboard.app - INFO - API summary endpoint called
2025-06-27 00:20:38,576 - src.dashboard.app - INFO - Top vehicles endpoint called with limit: 20
2025-06-27 00:20:38,578 - src.dashboard.app - INFO - Market trends endpoint called
2025-06-27 00:20:38,584 - src.database.database_manager - INFO - Retrieved 0 analysis results
2025-06-27 00:20:38,585 - src.database.database_manager - INFO - Retrieved 51 UK market records
2025-06-27 00:20:38,586 - src.dashboard.app - WARNING - No analysis results available
2025-06-27 00:20:38,587 - src.dashboard.app - INFO - Market summary retrieved: True
2025-06-27 00:20:38,587 - werkzeug - INFO - 127.0.0.1 - - [27/Jun/2025 00:20:38] "GET /api/top-vehicles?limit=20 HTTP/1.1" 200 -
2025-06-27 00:20:38,592 - src.database.database_manager - INFO - Retrieved 0 analysis results
2025-06-27 00:20:38,594 - src.dashboard.app - INFO - Analysis results count: 0
2025-06-27 00:20:38,599 - src.database.database_manager - INFO - Retrieved 51 UK market records
2025-06-27 00:20:38,604 - src.dashboard.app - INFO - Database stats: {'uk_market_data': 51, 'japan_auction_data': 100, 'government_data': 0, 'analysis_results': 0, 'database_size_mb': 0.12}
2025-06-27 00:20:38,607 - src.database.database_manager - INFO - Retrieved 100 Japan auction records
2025-06-27 00:20:38,607 - src.dashboard.app - INFO - Summary prepared with 0 opportunities
2025-06-27 00:20:38,609 - werkzeug - INFO - 127.0.0.1 - - [27/Jun/2025 00:20:38] "GET /api/summary HTTP/1.1" 200 -
2025-06-27 00:20:38,677 - src.database.database_manager - INFO - Retrieved 0 analysis results
2025-06-27 00:20:38,679 - src.database.database_manager - INFO - Retrieved 100 Japan auction records
2025-06-27 00:20:38,680 - werkzeug - INFO - 127.0.0.1 - - [27/Jun/2025 00:20:38] "GET /api/data-status HTTP/1.1" 200 -
2025-06-27 00:20:38,686 - werkzeug - INFO - 127.0.0.1 - - [27/Jun/2025 00:20:38] "GET /api/market-trends HTTP/1.1" 200 -
2025-06-27 00:20:41,863 - src.dashboard.app - INFO - Analysis run requested
2025-06-27 00:20:41,866 - src.database.database_manager - INFO - Retrieved 51 UK market records
2025-06-27 00:20:41,868 - src.database.database_manager - INFO - Retrieved 100 Japan auction records
2025-06-27 00:20:41,868 - src.analysis.profitability_analyzer - INFO - Profitability analyzer initialized
2025-06-27 00:20:41,868 - src.dashboard.app - INFO - Running profitability analysis...
2025-06-27 00:20:41,871 - src.analysis.profitability_analyzer - INFO - Starting profitability analysis
2025-06-27 00:20:41,871 - src.analysis.profitability_analyzer - INFO - Input data - UK: 51 records, Japan: 100 records
2025-06-27 00:20:41,876 - src.analysis.profitability_analyzer - INFO - UK data cleaned: 51 records
2025-06-27 00:20:41,882 - src.analysis.profitability_analyzer - INFO - Japan data cleaned: 100 records
2025-06-27 00:20:41,884 - src.analysis.profitability_analyzer - INFO - Cleaned data - UK: 51 records, Japan: 100 records
2025-06-27 00:20:41,885 - src.analysis.profitability_analyzer - INFO - Starting comprehensive vehicle matching...
2025-06-27 00:20:41,885 - src.analysis.profitability_analyzer - INFO - Strategy 1: Exact make + model + year range matching...
2025-06-27 00:20:41,891 - src.analysis.profitability_analyzer - INFO - Exact matches found: 0
2025-06-27 00:20:41,893 - src.analysis.profitability_analyzer - INFO - Strategy 2: Make + year range matching...
2025-06-27 00:20:41,898 - src.analysis.profitability_analyzer - INFO - Make+year matches found: 1
2025-06-27 00:20:41,899 - src.analysis.profitability_analyzer - INFO - Strategy 3: Make-only matching...
2025-06-27 00:20:41,901 - src.analysis.profitability_analyzer - INFO - Make-only matches found: 1
2025-06-27 00:20:41,905 - src.analysis.profitability_analyzer - INFO - Total unique matches: 1
2025-06-27 00:20:41,906 - src.analysis.profitability_analyzer - INFO - Created 1 vehicle matches
2025-06-27 00:20:41,906 - src.analysis.profitability_analyzer - INFO - Calculating profitability for 1 matches
2025-06-27 00:20:41,914 - src.analysis.profitability_analyzer - INFO - Profitability filtering: 1 -> 1 opportunities
2025-06-27 00:20:41,915 - src.analysis.profitability_analyzer - INFO - Found 1 profitable opportunities
2025-06-27 00:20:41,926 - src.analysis.profitability_analyzer - INFO - Profitability analysis completed for 1 vehicle combinations
2025-06-27 00:20:41,926 - src.dashboard.app - INFO - Generating investment scores...
2025-06-27 00:20:41,927 - src.analysis.scoring_engine - INFO - Calculating vehicle scores
2025-06-27 00:20:41,949 - src.analysis.scoring_engine - INFO - Scoring completed for 1 vehicles
2025-06-27 00:20:41,971 - src.dashboard.app - INFO - Analysis completed: 1 opportunities
2025-06-27 00:20:41,975 - werkzeug - INFO - 127.0.0.1 - - [27/Jun/2025 00:20:41] "POST /api/run-analysis HTTP/1.1" 200 -
2025-06-27 00:20:42,979 - src.dashboard.app - INFO - API summary endpoint called
2025-06-27 00:20:42,979 - src.dashboard.app - INFO - Top vehicles endpoint called with limit: 20
2025-06-27 00:20:42,979 - src.dashboard.app - INFO - Market trends endpoint called
2025-06-27 00:20:42,986 - src.database.database_manager - INFO - Retrieved 1 analysis results
2025-06-27 00:20:42,988 - src.dashboard.app - INFO - Generated recommendations for 1 vehicles
2025-06-27 00:20:42,988 - src.dashboard.app - INFO - Market summary retrieved: True
2025-06-27 00:20:42,989 - werkzeug - INFO - 127.0.0.1 - - [27/Jun/2025 00:20:42] "GET /api/top-vehicles?limit=20 HTTP/1.1" 200 -
2025-06-27 00:20:42,991 - src.database.database_manager - INFO - Retrieved 51 UK market records
2025-06-27 00:20:42,995 - src.database.database_manager - INFO - Retrieved 1 analysis results
2025-06-27 00:20:42,995 - src.dashboard.app - INFO - Analysis results count: 1
2025-06-27 00:20:43,000 - src.dashboard.app - INFO - Database stats: {'uk_market_data': 51, 'japan_auction_data': 100, 'government_data': 0, 'analysis_results': 1, 'database_size_mb': 0.12}
2025-06-27 00:20:43,002 - src.database.database_manager - INFO - Retrieved 100 Japan auction records
2025-06-27 00:20:43,002 - src.dashboard.app - INFO - Summary prepared with 1 opportunities
2025-06-27 00:20:43,003 - werkzeug - INFO - 127.0.0.1 - - [27/Jun/2025 00:20:43] "GET /api/summary HTTP/1.1" 200 -
2025-06-27 00:20:43,008 - werkzeug - INFO - 127.0.0.1 - - [27/Jun/2025 00:20:43] "GET /api/market-trends HTTP/1.1" 200 -
